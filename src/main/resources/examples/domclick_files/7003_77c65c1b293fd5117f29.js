(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7003],{6770:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(40156),o=(0,n(19049).i)((0,r.ZP)({resolved:{},chunkName:function(){return"AddToCompilationModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(532),n.e(2003),n.e(2283)]).then(n.bind(n,22132))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function(e){var t=this.resolve(e);return n(t)},resolve:function(){return 22132}},{resolveComponent:function(e){return e.AddToCompilationModal}}))},97344:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(40156),o=(0,n(19049).i)((0,r.ZP)({resolved:{},chunkName:function(){return"DeleteFromCompilation"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(9235).then(n.bind(n,23179))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function(e){var t=this.resolve(e);return n(t)},resolve:function(){return 23179}},{resolveComponent:function(e){return e.DeleteFromCompilation}}))},90978:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(40156),o=(0,n(19049).i)((0,r.ZP)({resolved:{},chunkName:function(){return"DeleteFromFavorite"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(532),n.e(5789)]).then(n.bind(n,26936))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function(e){var t=this.resolve(e);return n(t)},resolve:function(){return 26936}},{resolveComponent:function(e){return e.DeleteFromFavorite}}))},27614:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(63565),o=function(e){var t=e.children;return(0,r.jsx)("div",{className:"E6Hlx",children:t})}},57003:(e,t,n)=>{"use strict";n.d(t,{O:()=>Ze});var r=n(91463),o=n.n(r),i=n(86354),a=n(29373),s=n(96810),l=n(62899),c=n(23095),u=(n(45005),n(49625)),d=n(40768),p=n.n(d),f=n(80049),v=n.n(f),m=n(82142),h=n.n(m),x=n(516),g=n.n(x),y=n(82947),C=n.n(y),k=n(45167),_=n.n(k),N=n(75900),S=n.n(N),j=n(39601),b=n(62543),w=n(63481),O=n(63565),T=n(1803),M=n.n(T),P=n(81432),R=function(e){if(!e)return"";var t=new Date(e),n=t.getDate(),r="0"+n,o=t.getMonth()+1;return(n<=9?r:n)+"."+(o<=9?"0"+o:o)+"."+t.getFullYear()},D=function(e){var t=e.id,n=e.published_dt,r=e.deal_type,o=e.offer_type,i=e.tariff_options,a=void 0===i?{}:i,s=a.name,l=a.display_name,c=a.color,u=void 0!==c&&c,d=e.seller,p=void 0===d?{}:d,f=p.agent,v=void 0===f?{}:f,m=v.full_name,h=void 0===m?"":m,x=v.person,g=(void 0===x?{}:x).fullname,y=void 0===g?"":g,C=p.company,k=void 0===C?{}:C,_=k.trade_name,N=void 0===_?"":_,S=k.display_name,j=void 0===S?"":S,b=k.legal_name,w=void 0===b?"":b,O=k.name,T=void 0===O?"":O,M=e.price_info.price,P=void 0===M?0:M;return{id:t,dealType:r,offerType:o,publishedDate:R(n),tariffOptions:{name:s,displayName:l,color:u},sellerName:y||h,companyName:N||T||j||w,price:P}},A={publishedDate:"Дата публикации",sellerName:"Продавец",companyName:"Агентство",price:"Цена"},I={express:v(),premium:h(),top:p(),express32:C(),premium32:_(),top32:g()},L={express:"yellow",premium:"green",top:"blue"},F=function(e){var t=e.dealType,n=e.id;return"/card/"+t+"__"+e.offerType+"__"+n},E=function(e,t){return"price"===e?(0,j.V)(t)+" ₽":t},z={tooltip:"styles_tooltip__CTU83",tooltipHeader:"styles_tooltipHeader__YOfcy",tooltipBody:"styles_tooltipBody__R8cn-",tooltipLink:"styles_tooltipLink__Rwbe4",tooltipIcon:"styles_tooltipIcon__otPoY",badgeWrap:"styles_badgeWrap__215VT",yellow:"styles_yellow__XzSfE",green:"styles_green__S2GNc",blue:"styles_blue__lbb3X"},H=function(e){var t=e.tariffOptions,n=t.name,r=t.displayName;return(0,O.jsxs)("div",{className:z.tooltip,children:[(0,O.jsx)("div",{className:z.tooltipIcon,children:(0,O.jsx)(I[n+"32"],{className:z[L[t.name]]})}),(0,O.jsxs)("div",{className:z.tooltipHeader,children:["Применен",(0,O.jsx)("br",{}),"тариф "+r]}),(0,O.jsx)("div",{className:z.tooltipBody,children:"Продавец настроен решительно и, скорее всего, максимально быстро готов выйти на сделку. Успейте позвонить прямо сейчас!"}),(0,O.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://my.domclick.ru/prodvizhenie-obyavleniy",className:z.tooltipLink,children:"Подробнее о тарифах"})]})},B={right:b.fp.Left,left:b.fp.Right},q=function(e){var t=e.tariffOptions,n=e.hintPlacement;if(!t||!t.name)return null;var r=B[n],o=I[t.name];return(0,O.jsx)(w.kW,{popperProps:{align:r},size:w.vF.Wide,content:(0,O.jsx)(H,{tariffOptions:t}),children:(0,O.jsx)("div",{className:z.badgeWrap,onClick:function(e){e.preventDefault()},children:(0,O.jsx)(o,{className:z[L[t.name]]})})})};q.defaultProps={hintPlacement:"left"};var U="styles_row__p9dmd",G="styles_rowsGroup__IfaxM",V="styles_rowItem__BXaSA",Y="styles_wrapperContent__WmRNY",W="styles_promotionBadge__JsYrG",X="styles_col__nuMII",K="styles_modGray__bB6XX",Z="styles_valueName__f8dHX",J="styles_value__9I0T-",$="styles_valuePlaceholder__ZwiKa",Q="styles_modPayment__5D4tU",ee=function(e){var t=e.offer,n=e.isSmall,r=e.onRowClick,o=t.tariffOptions;return(0,O.jsx)("a",n?{href:F(t),target:"_blank",className:G,onClick:r,rel:"noreferrer",children:Object.keys(A).map((function(e){var n;return t[e]?(0,O.jsxs)("div",{className:V,children:[(0,O.jsx)("div",{className:Z,children:A[e]}),(0,O.jsx)("div",{className:S()(J,(n={},n.styles_bold__sR32J="price"===e,n)),children:E(e,t[e])}),Boolean("publishedDate"===e&&o)&&(0,O.jsx)("div",{className:S()(J,Q),children:(0,O.jsx)(q,{tariffOptions:o,hintPlacement:"right"})})]},e):null}))}:{href:F(t),target:"_blank",className:U,onClick:r,rel:"noreferrer",children:(0,O.jsx)("div",{className:Y,children:Object.keys(A).map((function(e){var n;return(0,O.jsxs)("div",{className:S()(X,(n={},n[K]="publishedDate"===e,n)),children:["publishedDate"===e&&(0,O.jsx)("div",{className:W,children:(0,O.jsx)(q,{tariffOptions:o})}),E(e,t[e])]},e)}))})})};ee.defaultProps={isSmall:!1};var te=function(e){var t=e.isSmall;return(0,O.jsx)("div",t?{className:G,children:Object.keys(A).map((function(e){return(0,O.jsxs)("div",{className:V,children:[(0,O.jsx)("div",{className:Z,children:A[e]}),(0,O.jsx)("div",{className:$}),"publishedDate"===e&&(0,O.jsx)("div",{className:S()($,Q)})]},e)}))}:{className:U,children:(0,O.jsx)("div",{className:Y,children:Object.keys(A).map((function(e){return(0,O.jsxs)("div",{className:X,children:["publishedDate"===e&&(0,O.jsx)("div",{className:W,children:(0,O.jsx)("div",{className:$})}),(0,O.jsx)("div",{className:$})]},e)}))})})};te.defaultProps={isSmall:!1};var ne=function(){return(0,O.jsx)("div",{className:S()(U,"styles_modHeader__GiLh1"),children:(0,O.jsx)("div",{className:Y,children:Object.keys(A).map((function(e){return(0,O.jsx)("div",{className:S()(X,K),children:A[e]},e)}))})})},re=function(e){var t=e.onRefetch;return(0,O.jsxs)("div",{className:"styles_container__wUQDk",children:[(0,O.jsx)("div",{className:"styles_errorIcon__TjtE0",children:(0,O.jsx)(M(),{})}),(0,O.jsx)("div",{className:"styles_title__xU9yN",children:"Ошибка загрузки"}),(0,O.jsx)(P.Button,{intent:P.Intent.Secondary,onClick:t,text:"Загрузить снова"})]})},oe=function(e){for(var t=[],n=0;n<e;n++)t.push(n);return t},ie=function(e){var t=e.offers,n=e.isSmall,r=e.isLoading,o=e.hasErrors,a=e.parrentOfferId,s=e.duplicatesOfferCount,l=e.onRefetch,c=e.onRowClick,d=e.setMoreOffersOpened,p=e.wrapperClassName,f=function(e){var t=e.duplicatesOfferCount,n=e.setMoreOffersOpened,r=e.offers,o=(0,i.useState)(5),a=o[0],s=o[1],l=(0,i.useState)(t<=5),c=l[0],u=l[1],d=(0,i.useCallback)((function(){c?n(!1):(s(t),u((function(e){return!e})))}),[c,u,n,s,t]),p=(0,i.useMemo)((function(){return r.filter((function(e){var t;return null==e||null==(t=e.seller)?void 0:t.agent}))}),[r]);return{onToggleSpoiler:d,finalOffers:(0,i.useMemo)((function(){return n?p.slice(0,a):p}),[a,p,n]),open:c}}({duplicatesOfferCount:s,setMoreOffersOpened:d,offers:t}),v=f.onToggleSpoiler,m=f.finalOffers,h=f.open,x=!n&&d;return(0,O.jsxs)("div",{className:p,children:[o?(0,O.jsx)(re,{onRefetch:l}):(0,O.jsxs)(O.Fragment,{children:[!n&&(0,O.jsx)(ne,{}),(0,O.jsxs)("div",{children:[m.map((function(e){return(0,O.jsx)(ee,{offer:D(e),isSmall:n,onRowClick:c},e.id)})),r?oe(Math.min(s,5)).map((function(e){return(0,O.jsx)(te,{isSmall:n},"duplicate-of-"+a+"-"+e)})):null]})]}),x?(0,O.jsx)(u.o_,{open:h,textWhenClosed:"Показать ещё",textWhenOpened:"Свернуть",onOpenChange:v}):null]})};ie.defaultProps={offers:[],isSmall:!1,hasErrors:!1,isLoading:!1,duplicatesOfferCount:0,setMoreOffersOpened:void 0,wrapperClassName:void 0};var ae=n(5662);var se=function(e){var t=e.children,n=e.isBottomSheet,r=e.isOpened,o=e.onClose;return n?(0,O.jsx)(ae.R1,{open:r,onClose:o,titleTextAlign:"left",children:t}):(0,O.jsx)("div",{className:"liXsW",children:t})};se.defaultProps={isBottomSheet:!1,isOpened:!1,onClose:Function.prototype};var le=n(39256),ce=n(86607);var ue=function(e){var t=e.parrentOfferId,n=e.duplicatesOfferCount,r=e.isOpened,o=e.isSmall,a=e.onToggle,s=e.section,l=e.showInBottomSheet,c=function(e){var t=(0,i.useState)(!1),n=t[0],r=t[1],o=(0,i.useState)(!1),a=o[0],s=o[1],l=(0,i.useState)([]),c=l[0],u=l[1],d=(0,le.r1)(),p=(0,i.useCallback)((function(){return r(!0),s(!1),function(e,t){return(0,ce.Cj)(e,t).then((function(e){if(null==e||!e.length)throw new Error("Duplicates list is empty");return e}))}(d,e).then((function(e){u(e),r(!1)})).catch((function(){u([]),s(!0),r(!1)}))}),[d,e]);return(0,i.useEffect)((function(){p()}),[p]),{hasErrors:a,isLoading:n,offers:c,fetchDuplicatedOffers:p}}(t),u=c.hasErrors,d=c.isLoading,p=c.offers,f=c.fetchDuplicatedOffers;return(0,O.jsxs)(se,{isBottomSheet:l,isOpened:r,onClose:a,children:[(0,O.jsx)("h4",{className:"ydvbC",children:"Копии объявления от других продавцов"}),(0,O.jsx)(ie,{offers:p,isSmall:o,isLoading:d,hasErrors:u,onRefetch:f,duplicatesOfferCount:n,section:s,setMoreOffersOpened:a,wrapperClassName:"feSFV"})]})};ue.defaultProps={duplicatesOfferCount:0,isOpened:!1,isSmall:!1,section:"",showInBottomSheet:!1};var de=n(82603),pe=n(1094),fe=n(6770),ve=n(97344),me=n(90978),he=n(88816),xe=n(46875),ge=n.n(xe),ye=n(84500),Ce=n.n(ye),ke=n(12714),_e=n(3611),Ne=n(76118),Se=n(15387),je=n(63888),be=n(28923),we=n(35346),Oe=n(98138),Te=n(55320),Me=n(53316),Pe=n(58530),Re=n(62979),De=n(6861),Ae=n(76776),Ie=(0,Ae.P1)([function(e){return e.comparator}],(function(e){return e.comparatorIds})),Le=(0,Ae.P1)([Ie,function(e,t){return t}],(function(e,t){var n;return null!=(n=e[t])&&n})),Fe=n(44036),Ee=function(e){switch(e){case Re.default.PROD:return"https://domclick.ru/compare";case Re.default.STAGE:return"https://stage-dc.ru/compare";default:return"https://qa-dc.ru/compare"}}(de.UF),ze=function(e,t,n){void 0===e&&(e=!0);var r=t&&Number(t);return e?409===r?[{title:"Не более 10 объявлений",description:"Чтобы добавить новое объявление, удалите старое",linksProps:[{text:"Перейти к сравнению",href:Ee,onClick:n}],status:_e.ls.ERROR}]:t?[{title:"Не получилось добавить в сравнение",linksProps:[{text:"Попробовать еще раз",onClick:n}],status:_e.ls.ERROR}]:[{title:"Добавлено в сравнение",linksProps:[{text:"Перейти к сравнению",href:Ee,onClick:n}]}]:t?[{title:"Не получилось удалить из сравнения",linksProps:[{text:"Попробовать еще раз",onClick:n}],status:_e.ls.ERROR}]:[]},He=n(49271),Be=n(87142),qe={title:"Произошла ошибка",description:"Проверьте интернет и попробуйте снова",status:_e.ls.ERROR};var Ue=n(63096),Ge=n(79199),Ve=n(61400),Ye=n(40887),We=n(92640),Xe=n(39423),Ke=n(27614),Ze=(0,i.memo)((function(e){var t=e.pageName,n=e.item,r=e.size,u=e.index,d=e.offset,p=e.isMobile,f=e.additionalTemplate,v=(0,Ge.z)(),m=v.isOpenAddToCompilationModal,h=v.onAddToCompilation,x=v.toggleAddToCompilationModal,g=function(){var e=(0,c.tm)(),t=(0,le.r1)(),n=(0,i.useState)(),r=n[0],o=n[1],a=(0,i.useState)(),s=a[0],l=a[1],u=(0,i.useCallback)(function(){var n=Ce()(ge()().mark((function n(r){var i;return ge()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,ce.sd)(t,{casId:r});case 3:i=n.sent,e()&&o(i),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),o(void 0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),[e,o,t]),d=(0,i.useCallback)(function(){var n=Ce()(ge()().mark((function n(r,o){var i;return ge()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,ce.cz)(t,{companyId:r,fiasId:o});case 3:i=n.sent,e()&&l(i),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),l(void 0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}(),[e,l,t]);return{sellerRanking:r,agencyRanking:s,onSellerRankingRequest:u,onAgencyRankingRequest:d}}(),y=g.sellerRanking,C=g.agencyRanking,k=g.onSellerRankingRequest,_=g.onAgencyRankingRequest,N=(0,l.r)(n,{pageName:t,position:u+1,toggleAddToCompilationModal:x}),S=N.favoriteId,j=N.addToFavorites,b=N.removeFromFavorites,w=N.isOpenDeleteFromCompilationModal,T=N.onCloseDeleteFromCompilationModal,M=N.isOpenDeleteFromFavoriteModal,P=N.onCloseDeleteFromFavoriteModal,R=(0,Xe.S)(n,{pageName:t,position:u+1}).copyButtonClick,D=function(e,t){var n=t.isMobile,r=t.pageName,a=t.index,s=(0,le.r1)(),l=e.stateSupportRate,c=e.discountValue,u=e.hasDiscount,d=(0,i.useMemo)((function(){var e=l>0,t=!e&&u&&Boolean(c);if(!r.includes("mapPage")){if(e)return{state_support_rate:l};if(t)return{rate_discount:c}}}),[c,u,r,l]),p=(0,ke.useSelector)(we.Mp),f=(0,ke.useSelector)(Se.Ob),v=(0,ke.useSelector)(Se.It),m=a+1,h=(0,i.useState)(""),x=h[0],g=h[1],y=(0,i.useState)(!1),C=y[0],k=y[1],_=(0,i.useState)(!1),N=_[0],S=_[1],j=(0,he.C1)().changeAlertList,b=(0,i.useCallback)(Ce()(ge()().mark((function t(){var n;return ge()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,Oe.j)((0,Me.Dr)({item:e,position:m,eventSection:r})),p){t.next=4;break}return(0,Ne.ar)("chat"),t.abrupt("return");case 4:return t.prev=4,t.next=7,(0,ce.Li)(s,{id:e.id});case 7:n=t.sent,window.chat.setComplementaryRoom(o()({},n)),window.chat.open(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),j([{title:"Не удалось открыть нужный чат",description:"Попробуйте ещё раз или найдите чат в списке",status:_e.ls.ERROR}]);case 15:case"end":return t.stop()}}),t,null,[[4,12]])}))),[p,j,e,r,m,s]),w=(0,i.useCallback)((function(t){return(0,ce.oJ)(s,t).then((function(t){var o=t.phone,i=t.isReplaced;return g(o),k(i),n||((0,Oe.j)((0,Te.Mn)({item:e,position:m,eventSection:r})),(0,je.c0)({item:e,context:s,offerType:e.offerType,dealType:e.dealType,isSeo:v})),(0,be.H2)(),{number:o,isReplaced:i}})).catch((function(){}))}),[n,e,r,m,s,v]),O=(0,i.useCallback)((function(){(0,Oe.j)((0,Te.rg)({item:e,position:m,eventSection:r}))}),[e,r,m]),T=(0,i.useCallback)((function(){(0,je.DY)({item:e,context:s,offerType:e.offerType,dealType:e.dealType,isSeo:v}),(0,Oe.j)((0,Te.yX)({item:e,position:m,eventSection:r}))}),[r,s,m,e,v]),M=(0,i.useCallback)((function(){(0,Oe.j)((0,Te.Zx)({item:e,position:m,eventSection:r}))}),[e,m,r]),P=(0,i.useCallback)((function(){(0,Oe.j)((0,Te.ms)({item:e,position:m,eventSection:r}))}),[e,r,m]),R=(0,i.useCallback)((function(){N||(0,Oe.j)((0,Me.n)({item:e,eventSection:r,position:m})),S((function(e){return!e}))}),[N,e,r,m]),D=(0,i.useCallback)((function(){(0,Oe.j)((0,Te.z1)({item:e,eventSection:r,position:m})),(0,be.Jp)()}),[r,e,m]),A=(0,i.useCallback)((function(t){(0,Oe.j)((0,Me.bn)({eventSection:r,item:e,position:m,place:t}))}),[r,e,m]),I=(0,i.useCallback)((function(t){(0,Oe.j)((0,Me.e0)({eventSection:r,item:e,position:m,place:t}))}),[r,e,m]),L=(0,i.useCallback)((function(){(0,Oe.j)((0,Me.jS)({position:m,eventSection:r,item:e}))}),[r,e,m]);return{seoUrlTemplate:f,phone:x,isReplacedPhone:C,isMoreOffersOpened:N,getSellerPhone:w,onDirectPhoneClick:O,onNativePhoneClick:T,onGallerySlideChange:M,handleLinkClick:P,handleMoreOffersClick:R,handleMortgageCalcClick:D,comment:d,onChatOpen:b,onAgentLinkClick:A,onAgencyLinkClick:I,onSellerTipShow:L}}(n,{isMobile:p,pageName:t,index:u}),A=D.seoUrlTemplate,I=D.phone,L=D.isReplacedPhone,F=D.isMoreOffersOpened,E=D.getSellerPhone,z=D.onDirectPhoneClick,H=D.onNativePhoneClick,B=D.handleMoreOffersClick,q=D.handleMortgageCalcClick,U=D.onChatOpen,G=D.onGallerySlideChange,V=D.onAgencyLinkClick,Y=D.onAgentLinkClick,W=D.onSellerTipShow,X=function(e,t){var n=t.pageName,r=t.index,o=(0,i.useState)(Be.o),a=o[0],s=o[1],l=(0,i.useState)(!1),u=l[0],d=l[1],p=(0,c.tm)(),f=(0,le.r1)(),v=(0,he.C1)().changeAlertList,m=r+1,h=(0,i.useCallback)(function(){var t=Ce()(ge()().mark((function t(r){var o,i,a;return ge()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,Oe.j)((0,Me.hf)({item:e,position:m,eventSection:n})),t.prev=1,t.next=4,(0,ce.hE)(f,{offerId:e.id,limit:r});case 4:o=t.sent,i=o.items,a=o.hasNext,p()&&(s(i),d(a)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),v([qe]),p()&&(s(Be.o),d(!1));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),[v,f,p,e,n,m]);return{priceHistoryList:a,hasNextPriceHistory:u,onShowPriceHistory:h}}(n,{pageName:t,index:u}),K=X.priceHistoryList,Z=X.hasNextPriceHistory,J=X.onShowPriceHistory,$=(0,pe.u)(r,n.$$type),Q=(0,c.jI)("ProductSnippet").checkAuth,ee=function(e){var t=e.index,n=e.item,r=e.pageName,o=e.size,a=(0,le.r1)(),s=n.id,l=n.offerType,c=o!==Pe.$.LARGE,u=t+1;return{onSubmitComplaint:(0,i.useCallback)((function(e,t){return(0,Oe.j)((0,Me.Qn)({isBurgerButton:c,item:n,pageName:r,position:u})),(0,ce.yd)(a,{complaintType:e,comment:t,offerId:s,offerType:l})}),[a,c,n,s,l,r,u])}}({index:u,item:n,pageName:t,size:r}),te=ee.onSubmitComplaint,ne=(0,Ye.K)({index:u,pageName:t,size:r,item:n}).onShowLocationClick,re=(0,We.O)(n),oe=function(e){var t=e.id,n=e.dealType,r=e.pageName,o=e.index+1,a=(0,ke.useDispatch)(),s=(0,he.C1)().changeAlertList,l=(0,i.useCallback)((function(e){return Le(e,t)}),[t]),c=(0,ke.useSelector)(l),u=(0,i.useCallback)((function(){(0,Oe.j)((0,Me.wk)({id:t,pageName:r}))}),[t,r]),d=(0,i.useCallback)(Ce()(ge()().mark((function e(){return ge()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,Oe.j)((0,Me.Ii)({id:t,pageName:r,position:o,isAdd:!0})),e.prev=1,e.next=4,a((0,Fe.ZH)({offerId:""+t})).unwrap();case 4:s(ze(!0,void 0,u)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),409===e.t0&&s(ze(!0,e.t0,u)),s(ze(!0,e.t0,d));case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),[s,a,t,u,r,o]),p=(0,i.useCallback)(Ce()(ge()().mark((function e(){return ge()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,Oe.j)((0,Me.Ii)({id:t,pageName:r,position:o,isAdd:!1})),e.prev=1,e.next=4,a((0,Fe.X_)({offerId:""+t})).unwrap();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),s(ze(!1,e.t0,p));case 9:case"end":return e.stop()}}),e,null,[[1,6]])}))),[s,a,t,r,o]);return{isInComparator:c,addToComparator:n===De.TYPE_SELL?d:void 0,removeFromComparator:n===De.TYPE_SELL?p:void 0}}({id:n.id,dealType:n.dealType,pageName:t,index:u}),ie=oe.isInComparator,ae=oe.addToComparator,se=oe.removeFromComparator,xe=function(e){var t=e.id,n=e.index,r=e.offerType,o=e.offset,a=e.pageName,s=e.size,l=((0,he.Py)()||{}).onRemoveOffer,c=(0,he.C1)().changeAlertList,u=s!==Pe.$.LARGE,d=n+1,p=(0,i.useCallback)(Ce()(ge()().mark((function e(){var i,s,p,f;return ge()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=13;break}return e.prev=1,e.next=4,l({offerId:t,offerType:r,index:n,offset:o});case 4:c([{title:"Объявление скрыто из поиска",description:"Восстановить его можно в личном кабинете",linksProps:[{text:"Перейти к скрытым",href:He.ZP.HIDDEN_OFFERS}]}]),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),p=null==(i=e.t0.origError.response)?void 0:i.data.errors[0].code,f=null==(s=e.t0.origError.response)?void 0:s.data.errors[0].limit,c(403===p?[{title:"Нельзя скрыть более "+f+" объявлений",description:"Вы можете очистить список ранее скрытых",linksProps:[{text:"Перейти к скрытым",href:He.ZP.HIDDEN_OFFERS}],status:_e.ls.ERROR}]:[{title:"Произошла ошибка",description:"Проверьте интернет и попробуйте снова",status:_e.ls.ERROR}]);case 12:(0,Oe.j)((0,Me.FL)({id:t,isBurgerButton:u,offerType:r,pageName:a,position:d}));case 13:case"end":return e.stop()}}),e,null,[[1,7]])}))),[c,t,n,u,r,o,l,a,d]);return{onHideOffer:l?p:void 0}}({id:n.id,offerType:n.offerType,index:u,offset:d,pageName:t,size:r}),ye=xe.onHideOffer,Re=(0,Ue.N)({item:n,pageName:t,index:u,size:r}),Ae=Re.modalOpen,Ie=Re.onEditNote,Ee=Re.onCreateNote,Ze=Re.onOpenNoteModal,Je=Re.onCloseNoteModal,$e=Re.onDeleteNote,Qe=Re.note,et=Re.hasNote,tt=Re.properties,nt=Re.imgSrc,rt=((0,he.Py)()||{}).hasCheckboxes,ot=void 0!==rt&&rt?"div":i.Fragment,it=(0,i.useMemo)((function(){return o()({},n,{sellerRanking:y,agencyRanking:C})}),[n,y,C]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(ot,{className:"g66eV",children:[(0,O.jsxs)(Ve.P,{item:n,index:u,pageName:t,children:[(0,O.jsx)(Ke.t,{children:(0,O.jsx)(a.O,{priceHistoryList:K,hasNextPriceHistory:Z,onShowPriceHistory:J,onAddToCompilation:h,isInComparator:ie,addToComparator:ae,removeFromComparator:se,note:Qe,onOpenNoteModal:Ze,onGallerySlideChange:G,phone:I,isReplacedPhone:L,product:it,theme:$,isNew:re,favoriteId:S,getSellerPhone:E,addToFavorites:j,removeFromFavorites:b,onMortgageCalcClick:q,onDirectPhoneClick:z,onMoreOffersClick:B,isMoreOffersPressed:F,seoUrlTemplate:A,galleryLoadingEager:0===u,onNativePhoneClick:H,onChatOpen:U,checkAuth:Q,onSubmitComplaint:te,onShowLocation:ne,onHideOffer:ye,onCopyClick:R,hasOverlayLink:!0,hasNote:et,onDeleteNote:$e,onSellerRankingRequest:k,onAgencyRankingRequest:_,onAgencyLinkClick:V,onAgentLinkClick:Y,onSellerTipShow:W})}),f]}),F?(0,O.jsx)(ue,{isOpened:!0,isSmall:"small"===r,parrentOfferId:n.id,duplicatesOfferCount:n.duplicatesOfferCount,section:"listing",onToggle:B,showInBottomSheet:p}):null]}),(0,O.jsx)(s.t,{note:Qe,imgSrc:nt,env:de.UF,properties:tt,address:n.address.displayName,isOpen:Ae,onClose:Je,onCreate:Ee,onEdit:Ie,onDelete:$e,titleModal:"Заметка"}),m?(0,O.jsx)(fe.P,{offerId:n.id,toggleModal:x}):null,w?(0,O.jsx)(ve.P,{modalToggler:T,offerId:n.id}):null,M?(0,O.jsx)(me.U,{modalToggler:P,offerId:n.id}):null]})}));Ze.defaultProps={additionalTemplate:null}},79199:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(86354),o=n(23095),i=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1],i=(0,o.zk)(),a=(0,r.useCallback)((function(){n(!0)}),[]);return{isOpenAddToCompilationModal:t,onAddToCompilation:i?a:void 0,toggleAddToCompilationModal:(0,r.useCallback)((function(){n((function(e){return!e}))}),[])}}},92640:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(12714),o=n(81866),i=function(e){var t=e.publishedDate,n=(0,r.useSelector)(o.Yv),i=(0,r.useSelector)(o.vk);return!!(n&&i&&t)&&Date.parse(t)-1e3*i>0}},40887:(e,t,n)=>{"use strict";n.d(t,{K:()=>d});var r=n(86354),o=n(12714),i=n(98138),a=n(59215),s=n(11797),l=n(13396),c=n(55320),u=n(34165),d=function(e){var t=e.size,n=e.item,d=e.pageName,p=e.index,f=(0,o.useDispatch)(),v=p+1,m=t!==u.$.large;return{onShowLocationClick:(0,r.useCallback)((function(e,t){(0,i.j)((0,c.ku)({position:v,pageName:d,item:n,isBurgerButton:m})),f((0,a.nI)({lat:e,lon:t})),f((0,s.Hi)({UIName:l.FE,UIState:!0}))}),[f,m,n,d,v])}}},63096:(e,t,n)=>{"use strict";n.d(t,{N:()=>k});var r=n(46875),o=n.n(r),i=n(84500),a=n.n(i),s=n(86354),l=n(12714),c=n(3611),u=n(22721),d=n(33333),p=n(89299),f=n(88816),v=n(98138),m=n(53316),h=n(58530),x=n(92035),g=n(92316),y=n(23095),C={title:"Произошла ошибка",description:"Проверьте интернет и попробуйте снова",status:c.ls.ERROR},k=function(e){var t,n,r=e.item,i=e.index,c=e.pageName,k=e.size,_=i+1,N=(0,l.useDispatch)(),S=r.id,j=r.dealType,b=(0,y.zk)()?(0,x.N)(g.H.FAVORITES,r.offerType):r.offerType,w=(0,p.m)({offerType:b,dealType:j,offerId:S}),O=(0,s.useCallback)((function(e){return(0,d.Qg)(e,w)}),[w]),T=(0,l.useSelector)(O),M=k!==h.$.LARGE,P=Boolean(T),R=(0,s.useMemo)((function(){return{offerType:r.offerType,objectInfo:r.objectInfo,land:r.land,house:r.house,roomsOffered:r.roomsOffered}}),[r]),D=(0,s.useState)(!1),A=D[0],I=D[1],L=(0,f.C1)().changeAlertList,F=(0,s.useCallback)((function(){I(!0),(0,v.j)((0,m.iD)({item:r,position:_,pageName:c,isNew:!P,isBurgerButton:M}))}),[I,r,_,c,P,M]),E=(0,s.useCallback)((function(){I(!1)}),[I]),z=(0,s.useCallback)(function(){var e=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,v.j)((0,m.yk)({position:_,item:r,eventSection:c})),e.prev=1,e.next=4,N((0,u.sK)({itemId:S,productType:b,dealType:j,text:t})).unwrap();case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),L([C]),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),[N,S,b,j,L,r,_,c]),H=(0,s.useCallback)(function(){var e=a()(o()().mark((function e(t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,v.j)((0,m.yk)({position:_,item:r,eventSection:c})),e.prev=1,e.next=4,N((0,u.dr)({id:T.id,text:t})).unwrap();case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),L([C]),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),[L,N,T,r,c,_]);return{modalOpen:A,onOpenNoteModal:F,onCloseNoteModal:E,onEditNote:H,onCreateNote:z,onDeleteNote:(0,s.useCallback)(a()(o()().mark((function e(){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,v.j)((0,m.yF)({position:_,item:r,eventSection:c})),e.prev=1,e.next=4,N((0,u.b8)({id:T.id,uid:w})).unwrap();case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),L([C]),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),[T,w,N,L,_,r,c]),properties:R,imgSrc:(null==(t=r.photos)||null==(n=t[0])?void 0:n.url)||"",note:null==T?void 0:T.text,hasNote:P}}},39423:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});var r=n(86354),o=n(98138),i=n(55320),a=function(e,t){var n=t.pageName,a=t.position;return{copyButtonClick:(0,r.useCallback)((function(){(0,o.j)((0,i.HO)({item:e,eventSection:n,position:a}))}),[e,n,a])}}},62899:(e,t,n)=>{"use strict";n.d(t,{r:()=>j});var r=n(46875),o=n.n(r),i=n(84500),a=n.n(i),s=n(86354),l=n(12714),c=n(26079),u=n(3611),d=n(92316),p=n(58515),f=n(74049),v=n(78386),m=n(98138),h=n(55320),x=n(53316),g=n(88816),y=n(89530),C=n(18137),k=n(35346),_=n(76113),N="FollowPriceHistoryButton",S={title:"Произошла ошибка",description:"Проверьте интернет и попробуйте снова",status:u.ls.ERROR},j=function(e,t){var n=t.pageName,r=t.position,i=t.toggleAddToCompilationModal,u=e.id,j=e.offerType,b=e.offersCount,w=e.dealType,O=(0,p.Z)(),T=j===c.TYPE_LAYOUT&&1===b?c.TYPE_NEW_FLAT:j,M=T===c.TYPE_COMPLEX,P=(0,l.useSelector)((function(e){return(0,v.y5)(e,u)})),R=O.getItem(C.qL),D=(0,y.i)(),A=(0,l.useSelector)(k.b_),I=(0,s.useState)(!1),L=I[0],F=I[1],E=(0,s.useState)(!1),z=E[0],H=E[1],B=(0,l.useDispatch)(),q=(0,_.x)(),U=A&&!M&&(q===d.H.LISTING||q===d.H.MAP_PAGE),G=(0,g.C1)().changeAlertList,V=(0,s.useCallback)((function(){F(!1)}),[]),Y=(0,s.useCallback)((function(){H(!1)}),[]),W=(0,s.useCallback)(function(){var t=a()(o()().mark((function t(i){return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!D){t.next=3;break}return F(!0),t.abrupt("return");case 3:if(R||M){t.next=6;break}return H(!0),t.abrupt("return");case 6:if(!P){t.next=16;break}return t.prev=7,t.next=10,B((0,f.K6)({favoriteId:P,id:u})).unwrap();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(7),G([S]);case 15:i===N?(0,m.j)((0,x.R_)({item:e,position:r,actionType:"delete",eventSection:n})):(0,m.j)((0,h.Qj)({item:e,position:r,actionType:"delete",eventSection:n}));case 16:case"end":return t.stop()}}),t,null,[[7,12]])})));return function(e){return t.apply(this,arguments)}}(),[G,B,P,u,D,M,e,R,n,r]),X=(0,s.useCallback)(function(){var t=a()(o()().mark((function t(a){return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B((0,f._p)({id:u,productType:T,dealType:w})).unwrap();case 3:"FavoriteButton"===a&&U&&G([{title:"Сохранено в избранное",description:"Вы так же можете сохранить объявление в подборку",buttonsProps:[{text:"Сохранить в подборку",onClick:i}]}]),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),G([S]);case 9:a===N?(0,m.j)((0,x.R_)({item:e,position:r,actionType:"add",eventSection:n})):(0,m.j)((0,h.Qj)({item:e,position:r,actionType:"add",eventSection:n}));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),[G,w,B,u,e,n,r,i,T,U]);return{favoriteId:P,isOpenDeleteFromCompilationModal:L,onCloseDeleteFromFavoriteModal:Y,isOpenDeleteFromFavoriteModal:z,onCloseDeleteFromCompilationModal:V,addToFavorites:X,removeFromFavorites:W}}},82142:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7996),i=r(n(66553)),a=(0,o.iconFactory)({svgSource:i.default});t.default=a},45167:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7996),i=r(n(44399)),a=(0,o.iconFactory)({svgSource:i.default,__size:"32"});t.default=a},40768:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7996),i=r(n(54852)),a=(0,o.iconFactory)({svgSource:i.default});t.default=a},516:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7996),i=r(n(16924)),a=(0,o.iconFactory)({svgSource:i.default,__size:"32"});t.default=a},80049:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7996),i=r(n(66376)),a=(0,o.iconFactory)({svgSource:i.default});t.default=a},82947:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7996),i=r(n(46176)),a=(0,o.iconFactory)({svgSource:i.default,__size:"32"});t.default=a},44399:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32"><path d="M5.4 9.2c-.7-.4-1.6.1-1.4 1l3 10.5c.2.8 1 1.3 1.7 1.3h14.6c.8 0 1.5-.5 1.7-1.3L28 10c.2-.7-.7-1.3-1.4-.9l-5.1 3.4A1 1 0 0 1 20 12l-3.3-7.6c-.3-.7-1.3-.7-1.7 0L11.4 12a1 1 0 0 1-1.3.3L5.4 9.2zM7 25c0-.6.4-1 1-1h16c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H8a1 1 0 0 1-1-1v-2z"/></svg>'},66553:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M2.14 4.05a.5.5 0 0 0-.78.52l1.39 6.66c.1.45.5.77.97.77h8.68a1 1 0 0 0 .97-.77l1.4-6.71a.5.5 0 0 0-.77-.53l-2.87 1.95a.5.5 0 0 1-.74-.22L8.5 1.3a.5.5 0 0 0-.91-.01L5.5 5.73a.5.5 0 0 1-.74.2L2.14 4.05zM4 13a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2H4z"/></svg>'},16924:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32"><path d="M19 15.5v3c0 .8.7 1.5 1.5 1.5h3a1.5 1.5 0 0 0 0-3H22v-1.5a1.5 1.5 0 0 0-3 0z"/><path fill-rule="evenodd" d="M17.5 4a1.5 1.5 0 0 0 0 3H19v2.1a9.5 9.5 0 1 0 3 0V7h1.5a1.5 1.5 0 0 0 0-3h-6zm3 8a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13z" clip-rule="evenodd"/><path d="M5 11.5c0-.8.7-1.5 1.5-1.5h4a1.5 1.5 0 0 1 0 3h-4c-.8 0-1.5-.7-1.5-1.5zM3.5 15a1.5 1.5 0 0 0 0 3h4a1.5 1.5 0 0 0 0-3h-4zM2 21.5c0-.8.7-1.5 1.5-1.5h4a1.5 1.5 0 0 1 0 3h-4c-.8 0-1.5-.7-1.5-1.5zM6.5 25a1.5 1.5 0 0 0 0 3h4a1.5 1.5 0 0 0 0-3h-4z"/></svg>'},54852:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M8.5 2a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2v.6a5.5 5.5 0 1 1-2 0V3a1 1 0 0 1-1-1zm2 10.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"/><path d="M2 4.5a1 1 0 0 1 1-1h1.5a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1zm-1 2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2H1zm-1 4a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2H1a1 1 0 0 1-1-1zm3 2a1 1 0 1 0 0 2h1.5a1 1 0 1 0 0-2H3zm7.5-6a1 1 0 0 1 1 1V8h.5a1 1 0 1 1 0 2h-1.5a1 1 0 0 1-1-1V7.5a1 1 0 0 1 1-1z"/></svg>'},46176:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32"><path d="M18 12V2.5a.5.5 0 0 0-.9-.3L4.23 18.37A1 1 0 0 0 5.01 20H14v9.5c0 .47.6.68.9.31l12.88-16.19A1 1 0 0 0 27 12h-9z"/></svg>'},66376:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M9 1.41v-.07c.05-.3-.33-.47-.53-.22L2.11 9.2a.5.5 0 0 0 .39.8H7v4.68c-.03.3.36.44.54.2l6.37-8.1A.5.5 0 0 0 13.5 6H9V1.41z"/></svg>'},96810:(e,t,n)=>{"use strict";n.d(t,{t:()=>w});var r=n(86354),o=n(80797),i=n(81432),a=n(53255),s=n(50519),l=n(91463),c=n.n(l),u=n(84500),d=n.n(u),p=n(79617),f=n.n(p),v=n(29987),m=n(76477),h=n(96446),x={width:960,height:640,quality:80,type:"crop"},g=function(e){var t=e.savedNote,n=e.onClose,o=e.onEdit,i=e.onCreate,a=e.onDelete,s=e.imgSrc,l=void 0===s?"":s,u=e.env,p=e.properties,g=(0,r.useState)(t),y=g[0],C=g[1],k=(0,r.useState)(!1),_=k[0],N=k[1],S=(0,r.useState)(!1),j=S[0],b=S[1],w=(0,h.t)(),O=(0,m.Y6)(p).join(", ");(0,r.useEffect)((function(){C(t)}),[t]);var T=(0,r.useCallback)((function(e){e.length<=400&&C(e)}),[C]),M=(0,r.useCallback)(d()(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=10;break}return b(!0),e.prev=2,e.next=5,a();case 5:n(),T("");case 7:return e.prev=7,w()&&b(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[2,,7,10]])}))),[w,a,n,b,T]),P=(0,r.useCallback)(d()(f().mark((function e(){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t?o:i){e.next=3;break}return e.abrupt("return");case 3:return N(!0),e.prev=4,e.next=7,r(y);case 7:n();case 8:return e.prev=8,w()&&N(!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[4,,8,11]])}))),[w,t,y,o,i,n,N]),R=l?(0,v.w)(l,c()({},x,{env:u})):"";return{printedNote:y,onChange:T,onSaveNote:P,onDeleteNote:M,saveDisabled:!y.length,src:R,editInProcess:_,deleteInProcess:j,propertyText:O}},y=n(75900),C=n.n(y),k=n(23595),_=n(67445),N="AAGAOJ",S=n(63565),j=function(e){var t=e.property,n=e.src,r=e.address,o=e.e2eProperty,i=e.e2eAddress;return(0,S.jsxs)("div",{className:"RPW839",children:[(0,S.jsx)("div",{className:"x-5uRN",children:(0,S.jsx)(k.P,{alt:String(t),height:_.z2.height44,src:n})}),(0,S.jsxs)("div",{className:"k4SbNu",children:[(0,S.jsx)("div",{className:N,"data-e2e-id":o,children:t}),r?(0,S.jsx)("div",{className:C()(N,"M2H6iq"),"data-e2e-id":i,children:r}):null]})]})},b=function(e){var t=e.src,n=e.property,r=e.address,o=e.titleModal,i=void 0===o?"Заметка":o;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"uV5eKI",children:i}),(0,S.jsx)(j,{property:n,src:t,address:r,e2eProperty:"note-modal-property",e2eAddress:"note-modal-address"})]})},w=function(e){var t=e.note,n=void 0===t?"":t,r=e.imgSrc,l=e.properties,c=e.address,u=e.isOpen,d=e.onClose,p=e.onCreate,f=e.onEdit,v=e.onDelete,m=e.env,h=e.isMobile,x=e.titleModal,y=g({savedNote:n,onDelete:v,onClose:d,onCreate:p,onEdit:f,imgSrc:r,env:m,properties:l}),C=y.onChange,k=y.printedNote,_=y.onSaveNote,N=y.onDeleteNote,j=y.saveDisabled,w=y.src,O=y.editInProcess,T=y.deleteInProcess,M=y.propertyText;return(0,S.jsx)(o.Modal,{"data-e2e-id":"noteModal",open:u,topOffset:0,verticalCentering:!0,height:h?"100%":"412px",title:(0,S.jsx)(b,{src:w,property:M,address:c,titleModal:x}),onClose:d,footer:(0,S.jsxs)("div",{className:"VK6WcW",children:[n&&v?(0,S.jsx)(i.Button,{wrapperClassName:"DTIN-n","data-e2e-id":"delete-note",onClick:N,size:i.Size.Medium,intent:i.Intent.PrimaryOutline,loading:T,disabled:O||T,icon:(0,S.jsx)(s.JO,{type:s.Tu.Trash,size:s.Jh.Small})}):null,p&&f?(0,S.jsx)(i.Button,{"data-e2e-id":"save-note",fluid:!0,loading:O,disabled:j||O||T,onClick:_,text:"Сохранить"}):null]}),children:(0,S.jsx)(a.Textarea,{placeholder:"Оставьте комментарий",value:k,minRows:4,maxRows:4,onValueChange:C,rightBottomSection:Array.from(k).length+"/400","data-e2e-id":"offer-note"})})}}}]);