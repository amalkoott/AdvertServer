"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3716],{23095:(e,t,n)=>{n.d(t,{jI:()=>d,A7:()=>k.A,hk:()=>T.h,QQ:()=>A,dQ:()=>I,Ss:()=>D,iI:()=>b.i,zk:()=>y.z,tm:()=>B.t,i5:()=>o,xp:()=>c.x,s:()=>m,Dk:()=>_,rf:()=>E.r}),n(95399),n(47388);var c=n(76113),i=n(92316),o=function(){return(0,c.x)()===i.H.MAP_PAGE},a=n(12714),l=n(86354),s=n(11797),r=n(76118),u=n(35346),d=function(e){var t=(0,a.useSelector)(u.b_);return{checkAuth:(0,l.useCallback)((function(){return t||(0,r.ar)(e),t}),[t,e])}},m=function(e){var t=e.name,n=e.withAuth,c=void 0!==n&&n,i=(0,a.useDispatch)(),o=d(t).checkAuth,r=(0,l.useMemo)((function(){return c?o:function(){return!0}}),[o,c]);return(0,l.useCallback)((function(){r()&&i((0,s.Hi)({UIName:t,UIState:!0}))}),[r,i,t])},v=n(13396),f=n(98138),p=n(93139),_=function(){var e=(0,a.useDispatch)(),t=d("NewCompilationModal").checkAuth;return(0,l.useCallback)((function(){(0,f.j)(p.WC),t()&&e((0,s.Hi)({UIName:v.o2,UIState:!0}))}),[e,t])},b=n(89530),k=n(1700),y=n(95197),T=n(68133),I=function(){var e=(0,a.useDispatch)();(0,l.useEffect)((function(){window.location.href.includes("show_filters=1")&&e((0,s.Hi)({UIName:"FILTER_MODAL_FILTERS",UIState:!0}))}),[e])},h=n(60356),A=function(){var e=(0,h.s0)();return(0,l.useCallback)((function(){var t=window.location,n=t.search,c=t.pathname;if(n.includes("show_filters=1")){var i=n.replace(/[&|?]show_filters=1/,"");e(c+i,{replace:!0})}}),[])},B=n(97011),D=function(){var e=(0,l.useState)(!1),t=e[0],n=e[1],c=(0,l.useState)(0);return{activeSlideIndex:c[0],isGalleryOverlayOpen:t,setActiveSlideIndex:c[1],toggleOverlay:(0,l.useCallback)((function(){n((function(e){return!e}))}),[])}},E=n(27451)},1700:(e,t,n)=>{n.d(t,{A:()=>i});var c=n(88816),i=function(){var e=(0,c.vR)().query;return null==e?void 0:e.compilation_id}},68133:(e,t,n)=>{n.d(t,{h:()=>I});var c=n(46875),i=n.n(c),o=n(84500),a=n.n(o),l=n(91463),s=n.n(l),r=n(86354),u=n(12714),d=n(3611),m=n(58515),v=n(74049),f=n(86607),p=n(18137),_=n(39256),b=n(88816),k=n(98138),y=n(93139),T=n(97011),I=function(e){var t=e.checked,n=e.onClose,c=e.setLoading,o=e.clearSelected,l=e.id,I=e.favorites,h=e.compilationId,A=e.fetchCompilationsListAndTotalFavorites,B=(0,m.Z)(),D=(0,u.useDispatch)(),E=(0,T.t)(),C=(0,_.r1)(),L=(0,b.C1)().changeAlertList,S=((0,b.Py)()||{}).requestQuery,g=(0,r.useMemo)((function(){return h?s()({offset:0,compilationId:h},S):s()({offset:0,itemType:p.Qk},S)}),[h,S]);return(0,r.useCallback)(a()(i()().mark((function e(){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),e.prev=1,!l){e.next=7;break}return e.next=5,D((0,v.K6)({favoriteId:I[0],id:l})).unwrap();case 5:e.next=13;break;case 7:return(0,k.j)(y.yQ),e.next=10,(0,f.Ng)(C,I);case 10:D((0,v.Pi)()),D((0,v.FP)(g)),o();case 13:A&&A(),t&&B.setItem(p.qL,"true"),L([{title:"Удалено из избранного"}]),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),L([{title:"Не удалось удалить объявления",description:"Проверьте интернет и попробуйте еще раз",status:d.ls.ERROR}]);case 21:return e.prev=21,E()&&(c(!1),n()),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])}))),[L,t,o,D,I,A,g,l,E,B,n,c,C])}},47388:(e,t,n)=>{n.d(t,{R:()=>l});var c=n(86354),i=n(98138),o=n(85932),a={DEAL_TYPE:{elementId:"fe94957865d5b8649628398b4e1a85a7",elementKind:"dealType"},OFFER_TYPE:{elementId:"5519efca4f5540f6f6176be494ddc003",elementKind:"realtyType"},ROOMS:{elementId:"4ab08e60aacdf0cfaaa29e2c89786b60",elementKind:"room"},PRICE_RANGE:{elementId:"6c1c927050b340d1b76837e5c0e1585a",elementKind:"price"}},l=function(e){var t=void 0===e?{}:e,n=t.onClick,l=t.onClose,s=t.modalName,r=(0,c.useRef)(null),u=(0,c.useRef)(null),d=(0,c.useState)(!1),m=d[0],v=d[1],f=a[s]||{},p=f.elementId,_=f.elementKind,b=(0,c.useCallback)((function(){(0,i.j)((0,o.sO)({elementId:p,elementKind:_})),v((function(e){return e&&l&&l(),n&&n(),!e}))}),[l,n,p,_]);(0,c.useEffect)((function(){if(m){var e=function(e){r.current&&!r.current.contains(e.target)&&b()};return document.addEventListener("click",e,!0),function(){return document.removeEventListener("click",e,!0)}}}),[m,b]);var k=(0,c.useCallback)((function(e){"Enter"===e.key&&m&&(e.preventDefault(),e.stopPropagation(),v(!1),u.current&&u.current.focus())}),[m,v]);return{isOpen:m,toggleOpen:b,wrapperRef:r,onKeyPress:k,focusRef:u}}},89530:(e,t,n)=>{n.d(t,{i:()=>o});var c=n(1700),i=n(95197),o=function(){var e=(0,c.A)();return(0,i.z)()&&Boolean(e)}},95197:(e,t,n)=>{n.d(t,{z:()=>o});var c=n(76113),i=n(92316),o=function(){return(0,c.x)()===i.H.FAVORITES}},97011:(e,t,n)=>{n.d(t,{t:()=>i});var c=n(86354),i=function(){var e=(0,c.useRef)(!1);return(0,c.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),(0,c.useCallback)((function(){return e.current}),[])}},95399:(e,t,n)=>{n.d(t,{g:()=>m});var c=n(12714),i=n(86354),o=n(56257),a=n(65986),l=n(32808),s=n(12248),r=n(19936),u="cities",d=["addresses","metro","districts"],m=function(){var e=(0,c.useSelector)(s.Hr),t=(0,c.useSelector)(o.Zl),n=(0,c.useSelector)(r.lr);return{isDistrictsAvailable:t,isRoadsAvailable:(0,c.useSelector)(a.ck)&&(0,l.AI)(e),isSubwayAvailable:n,suggestTypes:(0,i.useMemo)((function(){var t=function(e){return(0,l.AI)(e)?["roads","villages"].concat(d):(0,l.Bj)(e)?["complexes"].concat(d):[].concat(d)}(e);return[u].concat(t)}),[e])}}},27451:(e,t,n)=>{n.d(t,{r:()=>i});var c=n(86354),i=function(e,t){var n=(0,c.useState)(!1),i=n[0],o=n[1];(0,c.useEffect)((function(){i&&e(),o(!0)}),t)}},93139:(e,t,n)=>{n.d(t,{Cq:()=>I,Gb:()=>k,Gr:()=>y,HM:()=>A,Jw:()=>h,Lk:()=>s,Mh:()=>r,WC:()=>a,ZI:()=>l,j2:()=>p,k0:()=>T,kK:()=>m,oM:()=>u,qD:()=>f,rs:()=>_,sS:()=>b,u7:()=>d,yQ:()=>v});var c=n(91463),i=n.n(c),o=n(25421),a={senseData:{event_section:"favoritesAds",block_in_section:"compilationListBlock",event_element:"createCompilationButton"},elementId:"6387864240baebb3a96ac63ae4bc9482",elementType:"button",eventType:"click"},l={senseData:{event_section:"favoritesAds",block_in_section:"compilationListBlockСreateCompilation",event_element:"saveButton"},elementId:"e71750e2e7259300e8fe6dbab83d807a",elementType:"button",eventType:"click"},s={senseData:{event_section:"favoritesAds",block_in_section:"compilationBlockSettings",event_element:"saveButton"},elementId:"2557efc1f4d7a1a9bb059ce994669063",elementType:"button",eventType:"click"},r={senseData:{event_section:"favoritesAds",block_in_section:"compilationListBlock",event_element:"compilationSnippet"},elementId:"46dee44dd3061d009b56b970bda6cb2c",elementType:"button",eventType:"click"},u={senseData:{event_section:"favoritesAds",block_in_section:"compilationBlock",event_element:"deleteButton"},elementId:"3b011740183f3cf38588a8090d71cb75",elementType:"button",eventType:"click"},d={senseData:{event_section:"favoritesAds",block_in_section:"compilationBlock",event_element:"shareButton"},elementId:"596b60806051a9bf01ca1aab0694dfa5",elementType:"button",eventType:"click"},m={senseData:{event_section:"favoritesAds",block_in_section:"compilationBlockFavorite",event_element:"deleteButton"},elementId:"5d7b905cfce5d79ced43a7db435c2121",elementType:"button",eventType:"click"},v={senseData:{event_section:"favoritesAds",block_in_section:"compilationBlockFavorite",event_element:"deleteButton"},elementId:"f18c0d0c4b652c522c52b4cae6ba4b00",elementType:"button",eventType:"click"},f={senseData:{event_section:"favoritesAds",block_in_section:"searchResultBlock",event_element:"addToCompilationsButton"},elementId:"b20a9ef930e8470c935e39c2047c539",elementType:"button",eventType:"click"},p={senseData:{event_section:"favoritesAds",block_in_section:"searchResultBlockAddToCompilations",event_element:"saveButton"},elementId:"4a7bd9e1a0e769c4343ef3804c56163f",elementType:"button",eventType:"click"},_={senseData:{event_section:"compilations",block_in_section:"wholePage",event_element:"page"},elementId:"df2232ce494dbf3633cc8c41a88e6f39",elementType:"page",eventType:"pageview"},b={senseData:{event_section:"compilations",block_in_section:"compilationBlock",event_element:"saveButton"},elementId:"80f50a1cb715bbc55cccd0e4d83eede7",elementType:"button",eventType:"click"},k={senseData:{event_section:"compilations",block_in_section:"compilationBlock",event_element:"deleteButton"},elementId:"c8e00b217ee555e4b538e4a3925bcdcb",elementType:"button",eventType:"click"},y={senseData:{event_section:"compilations",block_in_section:"compilationBlock",event_element:"showLinksContactsCheckbox"},elementId:"b658161f98b71905f05c5931a3926505",elementType:"checkbox",eventType:"click"},T={senseData:{event_section:"compilations",block_in_section:"compilationBlock",event_element:"showAdressChechbox"},elementId:"2fcc4980be5863a0c30a9e66edd9622b",elementType:"checkbox",eventType:"click"},I={senseData:{event_section:"compilations",block_in_section:"compilationBlock",event_element:"saveButton"},elementId:"1ddcc3e2e433091c56909bad17401905",elementType:"button",eventType:"click"},h=function(e){var t=e.item,n=e.position;return{senseData:i()({event_section:"compilations",position:n},(0,o.X)(t),{block_in_section:"receiveCompilationBlock",event_element:"likeButton"}),elementId:"769b61a05895c3ac6ddb326d0f748121",elementType:"button",eventType:"click"}},A=function(e){var t=e.item,n=e.position;return{senseData:i()({event_section:"compilations",position:n},(0,o.X)(t),{block_in_section:"receiveCompilationBlock",event_element:"dislikeButton"}),elementId:"cd0714d1e2e9478e28404ae671054ac1",elementType:"button",eventType:"click"}}},85932:(e,t,n)=>{n.d(t,{I5:()=>l,hJ:()=>a,sO:()=>s,vg:()=>o});var c=n(91463),i=n.n(c),o=function(){return{senseData:{event_section:"listing",block_in_section:"searchParametrsBlock",event_element:"filterButton",element_kind:"all"},elementId:"744311a396bf63770bcf9a15cfdc6956",elementType:"button",eventType:"click"}},a=function(){return{senseData:{event_section:"listing",block_in_section:"searchParametrsBlockFiltersModal",event_element:"clearButton"},elementId:"0becf57ac14b13a68d74068dc701998b",elementType:"button",eventType:"click"}},l=function(e){var t=e.params,n=e.elementId,c=e.blockInSection;return{senseData:i()({event_section:"listing",block_in_section:c,event_element:"applyButton"},t),elementId:n,elementType:"button",eventType:"click"}},s=function(e){var t=e.elementId;return{senseData:{event_section:"listing",block_in_section:"searchParametrsBlock",event_element:"filterButton",element_kind:e.elementKind},elementId:t,elementType:"button",eventType:"click"}}},25421:(e,t,n)=>{n.d(t,{X:()=>i});var c=n(26079),i=function(e){return e.offerType===c.TYPE_COMPLEX?{complex_id:e.id}:e.offerType===c.TYPE_LAYOUT||e.offerType===c.TYPE_NEW_FLAT?{offer_id:e.id,flat_layout_id:e.layoutId,complex_id:null==e||null==(t=e.complex)?void 0:t.id}:e.offerType===c.TYPE_VILLAGE?{village_id:e.id}:{offer_id:e.id};var t}},3744:(e,t,n)=>{n.d(t,{ZQ:()=>i,__:()=>s});var c,i,o,a=n(63565),l=n(86354);(o=c||(c={})).ExtraSmall="4px",o.Small="8px",o.Large="24px",function(e){e.Div="div",e.Label="label"}(i||(i={}));var s=function(e){var t=e.labelId,n=e.label,o=e.indent,s=void 0===o?c.Small:o,r=e.htmlElementType,u=void 0===r?i.Label:r,d=e.children;return n?(0,a.jsxs)(a.Fragment,{children:[(0,l.createElement)(u,{className:"label-4-0-5",htmlFor:t,style:{marginBottom:s}},n),d]}):(0,a.jsx)(a.Fragment,{children:d})};s.displayName="Label"}}]);