"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3178],{81633:(e,n,t)=>{t.d(n,{g:()=>h});var i=t(81432),o=t(86342),a=t(86354),r=t(12714),s=t(23095),u=t(10374),c=t(63881),l=t(98138),f=t(60458),g=t(92316),S=t(59983),d=t(83093),v=t(50660),C=t(63565),L=function(e){var n=function(e){var n=(0,v.YD)({threshold:1,triggerOnce:!0}),t=n[0],i=n[1];return(0,a.useEffect)((function(){i&&e()}),[i,e]),t}(e.onLazyLoad);return(0,C.jsx)(d.E,{loaderRef:n,dataE2eId:"next-offers-button-lazy"})};L.defaultProps={onLazyLoad:Function.prototype};var h=function(e){var n=e.isLoading,t=e.onClickButton,d=function(e){var n=e.eventSection,t=e.onClickButton,i=e.pageName,o=(0,s.xp)(),d=(0,r.useSelector)(u.eD),v=i===g.H.MAP_PAGE,C=(0,a.useCallback)((function(e){return(0,S.MA)(e,o)}),[o]),L=(0,a.useCallback)((function(e){return(0,S.z4)(e,o)}),[o]),h=(0,r.useSelector)(C),p=(0,r.useSelector)(L).length%2==0;return{onClickPage:(0,a.useCallback)((function(){t(h+f.UZ),(0,l.j)((0,c.w)(n))}),[t,h,n]),isMobile:d,isRail:v,isShowButton:p}}({eventSection:e.eventSection,onClickButton:t,pageName:e.pageName}),v=d.onClickPage,h=d.isMobile,p=d.isRail;return d.isShowButton?(0,C.jsx)(o.R,{text:"Показать ещё",onClick:v,dataE2EId:"next-offers-button",isLoading:n,isRail:p,isMobile:h,intent:i.Intent.PrimaryOutline,fluid:!0,size:i.Size.Medium}):(0,C.jsx)(L,{onLazyLoad:v})};h.defaultProps={eventSection:"",onClickButton:Function.prototype,isLoading:!1,pageName:""}},40856:(e,n,t)=>{t.d(n,{_:()=>S});var i=t(86354),o=t(12714),a=t(23095),r=t(59983),s=t(40396),u=t(10374),c=t(63881),l=t(98138),f=t(7742),g=t(63565),S=function(e){var n=function(e){var n=e.onChangePaginate,t=e.eventSection,f=(0,i.useState)(),g=f[0],S=f[1],d=(0,a.xp)(),v=(0,i.useCallback)((function(e){return(0,r.gO)(e,d)}),[d]),C=(0,i.useCallback)((function(e){return(0,r.I$)(e,d)}),[d]),L=(0,i.useCallback)((function(e){return(0,r.o8)(e,d)}),[d]),h=(0,o.useSelector)(v),p=(0,o.useSelector)(C),x=(0,o.useSelector)(u.eD),E=(0,a.i5)(),P=(0,o.useSelector)(L),b=(0,s.hU)(h),k=(0,s.lo)(p),m=x||E?6:8,j=(0,i.useCallback)((function(e){n(e);var i=(0,s.os)(e),o=(0,s.h$)(i,h)?t+"LastPage":t;(0,l.j)((0,c.E)({eventSection:o,elementKind:String(e)}))}),[n,t,h]);return(0,i.useEffect)((function(){P||S(k)}),[S,P,k]),{count:b,current:g,visibleCount:m,onChange:j,isRail:E}}({onChangePaginate:e.onChangePaginate,eventSection:e.eventSection}),t=n.count,S=n.current,d=n.visibleCount,v=n.onChange,C=n.isRail;return(0,g.jsx)(f.c,{count:t,currentPage:S,onChange:v,visibleCount:d,isRail:C})};S.defaultProps={onChangePaginate:Function.prototype,eventSection:""}},91923:(e,n,t)=>{t.r(n),t.d(n,{RenderListing:()=>I});var i=t(12714),o=t(12248),a=t(7846),r=t(86354),s=t(67868),u=t(69738),c=t(81446),l=t(63565),f=function(e){var n,t=e.isError,o=void 0!==t&&t;return n=(0,i.useDispatch)(),(0,r.useEffect)((function(){n((0,s.g$)()),n((0,u.Wb)())}),[n]),o?null:(0,l.jsx)(c.k,{seoTitle:null,reLinks:null})},g=t(32808),S=t(92316),d=t(81866),v=t(35846),C=t(86607),L=t(59215),h=t(39256),p=t(48096),x=t(41443),E=t(94852).Z("pages/Listing/RenderListing"),P=t(81633),b=t(40856),k=t(60458),m=t(40396),j=t(98138),O=t(28532),N=t(86519),_=t(90206),D=t(14034),y=t(95072),B=function(e){var n=e.hasItems,t=e.pageName,a=function(){var e=(0,i.useDispatch)(),n=(0,i.useSelector)(o.MA),t=(0,i.useSelector)(o.uH),a=(0,i.useSelector)(o.o8),s=(0,i.useSelector)(o.gO),u=(0,m.h$)(n,s),c=(0,g.$2)(t),l=s>=m.yD-k.UZ,f=u&&!l&&!c,S=c?"soldListing":"listing",d=f?"similar":"default",v=(0,r.useCallback)((function(n){e((0,L.q_)({offset:n}))}),[e]),C=(0,r.useCallback)((function(e){v(e),(0,j.j)((0,O.N)({eventSection:S}))}),[S,v]),h=(0,r.useCallback)((function(e){v(e),(0,j.j)((0,O.w)({eventSection:S,elementKind:d}))}),[S,v,d]),p=(0,N.L)({onPaginate:C,onNextOffers:h}),x=p.onChangePaginate;return{isLoading:a,isSimilarOffersEnabled:f,onlyPaginate:!!u&&!f,onNextOffers:p.onClickNextOffersButton,eventSection:S,onPaginate:x}}(),s=a.isSimilarOffersEnabled,u=a.eventSection,c=a.isLoading,f=a.onNextOffers,S=a.onPaginate,d=a.onlyPaginate;return(0,l.jsx)(y.C,{hasItems:n,pageName:t,similarOffers:s?(0,l.jsx)(D.G,{}):null,nextOffers:(0,l.jsx)(P.g,{pageName:t,eventSection:u,isLoading:c,onClickButton:f}),paginate:(0,l.jsx)(_.I,{onlyPaginate:d,children:(0,l.jsx)(b._,{onChangePaginate:S,eventSection:u})})})},A=t(22819),R=function(e){var n=e.isError,t=function(){var e=(0,i.useDispatch)(),n=(0,i.useSelector)(o.uH),t=(0,i.useSelector)(o.B$),a=(0,i.useSelector)(o.ed),s=(0,i.useSelector)(o.qd),u=(0,i.useSelector)(d.Yv),c=(0,g.$2)(n)?"soldListing":S.H.LISTING,l=(0,x.c)(),f=(0,p.s)();return(0,r.useEffect)((function(){u&&e((0,v.LL)(u)).then((function(){(0,C.or)((0,h.r1)(),u)}))}),[u,e]),(0,r.useEffect)((function(){E("loadOffers (change filter/pagination)"),f()}),[s,t,a,f]),(0,r.useEffect)((function(){l&&e((0,L.Xr)())}),[l,e]),c}();return(0,l.jsx)(A.O,{isError:n,pageName:t,Footer:B})},I=function(){var e=(0,i.useSelector)(o.N8);return(0,l.jsx)(a.V,{isShowHeader:!0,mainContent:(0,l.jsx)(R,{isError:e}),header:(0,l.jsx)(f,{isError:e})})}}}]);