/*! For license information please see 2261_a057cc90fb709eac50ed.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2261],{52510:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var r=(0,n(40156).ZP)({resolved:{},chunkName:function(){return"AppBanner"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(532),n.e(2766)]).then(n.bind(n,15611))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function(e){var t=this.resolve(e);return n(t)},resolve:function(){return 15611}},{resolveComponent:function(e){return e.AppBanner}})},89224:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var r=n(52510),i=n(63565),o=function(){return(0,i.jsx)(r.y,{})}},1171:(e,t,n)=>{"use strict";n.d(t,{x:()=>Pn});var r={};n.r(r),n.d(r,{Address:()=>we,BooleanFilter:()=>Sn,DealType:()=>Oe,DependentSingleButtonSelect:()=>xn,DividedSingleButtonSelect:()=>_n,InputFilter:()=>hn,MoreDropdown:()=>z,MultipleButtonSelect:()=>lt,OfferType:()=>vt,PriceRange:()=>fn,Range:()=>mn,Rooms:()=>gn,SearchDevelopers:()=>et});var i=n(86354),o=n(63565),a=function(e){var t=e.children,n=(0,i.useRef)(null);return(0,i.useEffect)((function(){n.current&&n.current.focus()}),[]),(0,o.jsx)("div",{tabIndex:-1,ref:n,children:t})},l=n(12714),s=n(10374),c=n(65274),u=n.n(c);u().shape({name:u().string,help:u().string,title:u().string,type:u().string,dataSet:u().arrayOf(u().shape({}))}),u().shape({name:u().string,title:u().string,type:u().string,options:u().arrayOf(u().shape({}))});var d=n(81432),f=n(23095),p=n(75900),m=n.n(p),h=n(80797),v=n(11797),g=h.ModalSize.ExtraLarge,b=(h.ModalSize.Large,h.ModalSize.Medium),y=(h.ModalSize.Small,function(e){var t=e.children,n=e.modalName,r=e.onClose,a=e.size,c=e.footer,u=e.header,d=e.showCloseIcon,f=function(e){var t=e.modalName,n=e.onClose,r=(0,l.useSelector)((function(e){return(0,s.j_)(e,t)})),o=(0,l.useDispatch)();return{closeModal:(0,i.useCallback)((function(){o((0,v.Hi)({UIName:"FILTER_MODAL_"+t,UIState:!1})),n()}),[o,t,n]),isOpen:r}}({modalName:n,onClose:r}),p=f.closeModal,m=f.isOpen;return m&&(0,o.jsx)(h.Modal,{open:m,footer:c,header:u,onClose:p,showCloseIcon:d,size:a,topOffset:40,height:"calc(100vh - 80px)",children:t})});y.defaultProps={footer:null,header:null,size:b,showCloseIcon:!0,onClose:Function.prototype};var x=n(66704),C=n(80851),w=n(98138),S=n(85932);const _="fVmsw";var I=n(8885),k=n(95560);var j=n(50206),N=function(e){var t,n=e.children,r=e.closeDropdown,i=e.isOfferTypeModal,a=e.wrapperClassName,l=e.analyticsId,s=e.blockInSection;return(0,o.jsxs)("div",{className:m()("ZboPv",(t={},t.RTEkY=n,t._2kib=i,t),a),children:[n,(0,o.jsx)(j.z,{onButtonClick:r,dataTest:"show-offers-filter-button",isOfferTypeModal:i,showResultButtonAnalyticsId:l,blockInSection:s})]})};N.defaultProps={children:null,isOfferTypeModal:!1,wrapperClassName:"",analyticsId:"",blockInSection:""};var E=function(e){var t,n=e.isOfferTypeModal,r=e.toggleDialog,i=e.isMobile,a=e.buttons,l=(0,I.T)();return(0,o.jsxs)("div",{className:m()("fEfBd",(t={},t.Vx0ow=l,t)),children:[!n&&!l&&(0,o.jsx)(k.Q,{theme:"light",isModal:!0,isInFilters:!0,showText:!i}),(0,o.jsx)(N,{closeDropdown:r,isOfferTypeModal:n,analyticsId:"6190387e1f4c39c1c5438383348a52e4",blockInSection:"searchParametrsBlockFiltersModal",children:a})]})};E.defaultProps={buttons:null};const M="NM7dA";var T=function(e){var t,n,r=e.isMobile,i=e.isOfferTypeModal,a=e.toggleDialog,l=e.headerIcon,s=e.label,c=e.resetFilter;return(0,o.jsx)("div",{className:"lYnVC",children:(0,o.jsx)("div",{className:"Dfe1M",children:r||i?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{type:"button",className:m()("HnQqQ",(t={},t.n8q8H=!i,t)),onClick:a,"aria-label":"Закрыть",children:l}),(0,o.jsx)("span",{className:m()(M,(n={},n.Zf3xx=i,n)),children:s}),i?(0,o.jsx)("div",{}):(0,o.jsx)("button",{type:"button",onClick:c,className:"ilROd",children:"Сбросить"})]}):(0,o.jsx)("span",{className:M,children:s})})})};const L={button:"MxNcZ",buttonOfferType:"u5ckd",buttonOfferTypeActive:"zOkIV",label:"T3HTO"};var O=function(e){var t,n,r=e.isOpen,i=e.toggleOpen,a=e.label,l=e.showDropdownOfferType,s=e.dataTest;return l?(0,o.jsx)(d.Button,{type:"button",intent:d.Intent.PrimaryOutline,onClick:i,__className:m()(L.buttonOfferType,(t={},t[L.buttonOfferTypeActive]=r,t)),text:(0,o.jsx)("span",{"data-e2e-id":"filter-button-label",className:L.label,children:a}),"data-e2e-id":s,children:(0,o.jsx)("span",{"data-e2e-id":"filter-button-icon",className:m()(L.arrowDown,(n={},n[L.arrowUp]=r,n))})}):(0,o.jsx)(d.Button,{__className:L.button,intent:d.Intent.PrimaryOutline,onClick:i,"data-e2e-id":s,text:a})};O.defaultProps={isOpen:!1,label:"Фильтры",showDropdownOfferType:!1,dataTest:void 0};var B=function(e){var t,n=e.children,r=e.hideFiltersButton,a=e.modalName,c=e.hasIcon,u=e.label,d=e.hasCounter,f=e.dataTest,p=e.buttons,h=e.resetFilter,b=e.onClose,I=function(e){var t=e.modalName,n=e.onClose,r=(0,l.useSelector)((function(e){return(0,s.j_)(e,t)})),a=(0,l.useSelector)(s.eD),c=(0,l.useDispatch)(),u="OFFER_TYPE"===t,d=!a&&"OFFER_TYPE"!==t;return{toggleDialog:(0,i.useCallback)((function(){(0,w.j)((0,S.vg)()),c((0,v.Hi)({UIName:"FILTER_MODAL_"+t,UIState:!r})),n()}),[c,t,r,n]),isOfferTypeModal:u,headerIcon:(0,i.useMemo)((function(){return a||"FILTERS"!==t?(0,o.jsx)(C.Ec,{className:_}):(0,o.jsx)(C.Wc,{className:_})}),[a,t]),showCloseIcon:d,isMobile:a,isOpenFilterDialog:r}}({modalName:a,onClose:b}),k=I.toggleDialog,j=I.isOfferTypeModal,N=I.headerIcon,M=I.showCloseIcon,L=I.isMobile,B=I.isOpenFilterDialog;return(0,o.jsxs)(o.Fragment,{children:[!r&&(c?(0,o.jsx)(x.d,{toggleOpen:k,label:u,showText:!L,hasCounter:d,dataTest:f}):(0,o.jsx)(O,{isOpen:B,toggleOpen:k,label:u,dataTest:f})),(0,o.jsx)(y,{modalName:a,onClose:b,footer:(0,o.jsx)(E,{isOfferTypeModal:j,toggleDialog:k,isMobile:L,buttons:p}),header:(0,o.jsx)(T,{isMobile:L,isOfferTypeModal:j,toggleDialog:k,headerIcon:N,label:u,resetFilter:h}),size:g,showCloseIcon:M,children:(0,o.jsx)("div",{className:m()("RH1eR",(t={},t.gQfUg=j,t)),children:n})})]})};B.defaultProps={dataTest:"dropdown-filter-mobile",hasCounter:!1,hideFiltersButton:!1,buttons:null,hasIcon:!1,onClose:Function.prototype};var A=n(47388);var R=n(50660),P={DEAL_TYPE:{analyticsId:"0bde186efd6abcc0410bd427f44efc47",blockInSection:"searchParametrsBlockDealType"},OFFER_TYPE:{analyticsId:"b3aa691792c66e2f95ef34a82f9518ae",blockInSection:"searchParametrsBlockRealtyType"},ROOMS:{analyticsId:"c608c523eb421bce78168a75ce690a39",blockInSection:"searchParametrsBlockRoomNumber"},PRICE_RANGE:{analyticsId:"755c7928fadeb6255d3113f41145bc58",blockInSection:"searchParametrsBlockPriceFilter"}},F=function(e){var t,n=e.children,r=e.buttons,a=e.stickToRight,c=e.toggleOpen,u=e.showDropdownOfferType,d=e.modalName,f=function(){var e=(0,l.useSelector)(s.Y6),t=(0,i.useRef)(),n=(0,i.useState)(),r=n[0],o=n[1];return(0,i.useEffect)((function(){var n,r=null==(n=t.current)?void 0:n.getBoundingClientRect();if(e&&r){var i=r.top,a=window.scrollY;o("calc(100vh - "+(i+a)+"px)")}}),[e]),{ref:t,maxHeight:r}}(),p=f.ref,h=f.maxHeight,v=function(e){var t=e.toggleOpen,n=P[e.modalName]||{};return{analyticsId:n.analyticsId,blockInSection:n.blockInSection,onInViewChange:(0,i.useCallback)((function(e){e||t()}),[t])}}({modalName:d,toggleOpen:c}),g=v.analyticsId,b=v.blockInSection,y=v.onInViewChange;return(0,o.jsx)("div",{className:m()("bGVzc",(t={},t.tJpuX=a,t.QAT7A=u,t)),ref:p,style:{maxHeight:h},children:(0,o.jsxs)(R.df,{onChange:y,initialInView:!0,children:[(0,o.jsx)("div",{className:"u1w5E",children:n}),!u&&(0,o.jsx)(N,{closeDropdown:c,wrapperClassName:"zogwF",analyticsId:g,blockInSection:b,children:r})]})})};F.defaultProps={showDropdownOfferType:!1,buttons:null,modalName:""};var D=function(e){var t=e.buttons,n=e.children,r=e.dataTest,i=e.label,a=e.hideFiltersButton,l=e.hasCounter,s=e.stickToRight,c=e.showDropdownOfferType,u=e.filterParams,d=e.modalName,f=(0,A.R)({modalName:d}),p=f.isOpen,m=f.toggleOpen,h=f.wrapperRef;return(0,o.jsxs)("div",{"data-e2e-id":r,className:"_r_3m",ref:h,children:[!a&&(0,o.jsx)(O,{label:u||i,isOpen:p,toggleOpen:m,hasCounter:l,showDropdownOfferType:c,dataTest:r+"--filter-button",modalName:d}),p?(0,o.jsxs)(F,{buttons:t,stickToRight:s,toggleOpen:m,showDropdownOfferType:c,modalName:d,children:[" ",n]}):null]})};D.defaultProps={buttons:null,hasCounter:!1,dataTest:"dropdown-filter-desktop",stickToRight:!1,hideFiltersButton:!1,showDropdownOfferType:!1,filterParams:null,modalName:""};var V=function(e){var t=e.additionalButtons,n=e.children,r=e.dataTest,i=e.label,a=e.hasCounter,c=e.resetFilter,u=e.hideFiltersButton,d=e.modalName,f=e.stickToRight,p=e.isModal,m=e.showDropdownOfferType,h=e.filterParams,v=e.hasIcon,g=e.onClose,b=function(e){var t=e.modalName,n=e.isModal,r=(0,l.useSelector)(s.Y6);return{isDropdown:"OFFER_TYPE"===t&&r||r&&!n}}({modalName:d,isModal:p});return b.isDropdown?(0,o.jsx)(D,{stickToRight:f,label:i,dataTest:r,hideFiltersButton:u,hasCounter:a,buttons:t,modalName:d,showDropdownOfferType:m,filterParams:h,children:n}):(0,o.jsx)(B,{resetFilter:c,modalName:d,label:i,dataTest:r,hideFiltersButton:u,hasCounter:a,buttons:t,hasIcon:v,onClose:g,children:n})};V.defaultProps={filterParams:null,additionalButtons:null,dataTest:"dropdown-filter",hasCounter:!1,resetFilter:Function.prototype,hideFiltersButton:!1,stickToRight:!1,modalName:"FILTERS",isModal:!1,showDropdownOfferType:!1,hasIcon:!1,onClose:Function.prototype};var H=n(24572);var U=function(e){var t=e.count,n=e.children,r=e.resetFilters,a=e.isMobile,l=e.stickToRight,s=e.hasIcon,c=(0,f.QQ)(),u=(0,i.useCallback)((function(){r(),(0,w.j)((0,S.hJ)())}),[r]),p=a?null:(0,o.jsx)("div",{className:"LNF4K",children:(0,o.jsx)(d.Button,{onClick:u,text:"Сбросить фильтры",intent:d.Intent.PrimaryOutline,"data-e2e-id":"dropdown-filter-more-clear"})});return(0,o.jsx)(V,{label:"Фильтры",hasCounter:t>0,dataTest:"dropdown-filter-more",additionalButtons:p,stickToRight:l,resetFilter:r,isModal:!0,hasIcon:s,onClose:c,children:n})};U.defaultProps={stickToRight:!1,resetFilters:Function.prototype,hasIcon:!1};const z=(0,l.connect)((function(e){return{isMobile:(0,s.eD)(e),count:(0,H.yP)(e)}}))(U);var q=function(e){var t=e.fetchFilters;return(0,o.jsxs)("div",{className:"Kp7sd",children:[(0,o.jsx)("div",{className:"PfCly",children:(0,o.jsx)(C.Pz,{})}),(0,o.jsx)("p",{className:"lMzTb",children:"Не удалось загрузить фильтры"}),(0,o.jsx)(d.Button,{size:d.Size.Small,intent:d.Intent.PrimaryOutline,onClick:t,text:"Попробовать еще раз"})]})},Y=n(80801);const G=function(){return(0,o.jsxs)("div",{className:"l0_uu",children:[(0,o.jsx)("div",{className:"M6w_c",children:(0,o.jsx)(Y.Loader,{size:Y.LoaderSize.ExtraLarge})}),(0,o.jsx)("p",{className:"NECOF",children:"Загружаем фильтры"})]})};var W=n(58828),Z=n(7818),K=n(71294),X=n(87142);var Q=n(65100),J=n(18597),$=n.n(J);var ee=function(e){var t=e.description,n=e.moreLink;return(0,o.jsxs)("div",{className:"mXiEH",children:[(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:t}}),n?(0,o.jsx)("a",{href:n,className:"_CtbX",target:"_blank",rel:"noopener",children:"Подробнее"}):null]})};ee.defaultProps={description:"",moreLink:""};var te=function(e){var t=e.moreLink,n=e.description,r=e.setTooltipVisible;return n?(0,o.jsx)("div",{className:"zr4jb",children:(0,o.jsx)(Q.Tooltip,{tooltipClassName:"Ll0XE",onVisibleChange:r,arrowClassName:"gmro_",text:(0,o.jsx)(ee,{description:n,moreLink:t}),popperProps:{zIndex:3001},children:(0,o.jsx)($(),{className:"qiqKX"})})}):null};te.defaultProps={description:"",setTooltipVisible:Function.prototype,moreLink:""};var ne=(0,i.memo)((function(e){var t,n=e.hideMobileTitle,r=e.title,i=e.moreLink,a=e.description,l=e.setTooltipVisible;return(0,o.jsx)("div",{className:m()("pKFxU",(t={},t.ghw7t=n,t)),children:(0,o.jsxs)("div",{className:"te2q3",children:[(0,o.jsx)("span",{className:"H2Mz0",children:r}),(0,o.jsx)(te,{moreLink:i,description:a,setTooltipVisible:l})]})})}));ne.propTypes={hideMobileTitle:u().bool,title:u().string.isRequired,moreLink:u().string,description:u().string,setTooltipVisible:u().func},ne.defaultProps={hideMobileTitle:!1,moreLink:"",description:"",setTooltipVisible:Function.prototype};var re,ie=n(98182),oe=n(75272),ae=n.n(oe),le=n(95399),se=n(62979),ce=n(82603),ue=((re={})[se.default.QA]={type:"qa"},re[se.default.STAGE]={type:"stage"},re[se.default.PROD]={type:"prod"},re);const de=ue[ce.UF]||ue[se.default.PROD];var fe=n(39256),pe=n(59215),me=n(19649),he=n(68040),ve=n(12248),ge=n(16234),be=n(77436),ye=n(3731),xe=n(86607),Ce=function(){(0,ie.sendAnalytics)({element_id:"0ccdded5afe8c38542fbc9fae7098d37",event_type:"searchFieldRequest",event_source:"web"})},we=function(){var e=function(){var e,t=(0,l.useSelector)(ve.Hr),n=(0,l.useSelector)(s._k),r=(0,l.useSelector)(me.es),o=(0,l.useSelector)(me.Jb),a=(0,l.useSelector)(me.YP),c=(0,l.useSelector)(he.sr),u=(0,l.useSelector)(ve.I8),d=(0,l.useSelector)(ve.O7),f=(0,l.useSelector)(ve.o8),p=(0,l.useSelector)(ge.pT),m=(0,i.useState)(Boolean(!1)||Boolean(null==(e=window)?void 0:e.ymaps)),h=m[0],g=m[1],b=(0,fe.r1)(),y=(0,l.useDispatch)(),x=(0,i.useCallback)((function(e){return function(){y((0,v.Hi)({UIName:e,UIState:!0}))}}),[y]);return{bbox:o,localityName:a,regionGuid:r,isMobile:n,selectedValues:c,callChangeSuggest:(0,i.useCallback)((function(e){y((0,pe.$M)(e))}),[y]),isLoading:f,showModal:x,onClear:(0,i.useCallback)((function(){y((0,pe.f2)({aids:[],complex_ids:[],routing_ids:[],village_uuids:[]}))}),[y]),onFocus:(0,i.useCallback)((function(){if(!p&&!h){g(!0);var e=performance.now();(0,be.J)().then((function(){(0,xe._h)(b,{status:"success",duration:(performance.now()-e)/1e3})})).catch((function(){(0,xe._h)(b,{status:"fail",duration:(performance.now()-e)/1e3})}))}}),[h,p,b]),showRegionChange:(0,i.useCallback)((function(){var e,t,n;null==(e=window.domclick)||null==(t=e.platform)||null==(n=t.topline)||n.showRegion()}),[]),buttonText:"Показать "+(0,ye.p2)({count:u,snippetsCount:d,offerType:t},["предложение","предложения","предложений"])}}(),t=e.bbox,n=e.localityName,r=e.regionGuid,a=e.isMobile,c=e.selectedValues,u=e.callChangeSuggest,d=e.isLoading,f=e.showModal,p=e.onClear,m=e.onFocus,h=e.showRegionChange,g=e.buttonText,b=(0,le.g)(),y=b.suggestTypes,x=b.isDistrictsAvailable,C=b.isRoadsAvailable,w=b.isSubwayAvailable;return(0,o.jsx)(ae(),{bbox:t,isMetroAvailable:w,isDistrictsAvailable:x,isRoadsAvailable:C,cityName:n,additionalValue:c,apiModeEnv:de.type,suggestTypes:y,regionGuid:r,neededKind:"province",buttonText:g,exact:!0,size:"large",isMobile:a,e2e:"multi-suggest",onValueChangeCallback:u,onClearCallBack:p,onCityClick:h,onMetroClick:f("SUBWAY"),onRoadsClick:f("ROADS"),onDistrictsClick:f("DISTRICTS"),onFocus:m,isLoading:d,onRequest:Ce})},Se=n(39169),_e=n(6241),Ie=function(e){var t=e.modalName,n=e.label,r=e.children,a=e.filterParams,s=e.resetFilter,c=e.isDesktop,u=e.dataTest,d=function(e){var t=(0,l.useDispatch)(),n=(0,i.useCallback)((function(t){return(0,_e.H)(t,"FILTER_MODAL_"+e)}),[e]),r=(0,l.useSelector)(n),o=(0,i.useCallback)((function(){t((0,v.Hi)({UIName:"FILTER_MODAL_"+e,UIState:!r}))}),[e,r,t]);return{isOpen:r,toggleDialog:o}}(t),f=d.isOpen,p=d.toggleDialog;return"OFFER_TYPE"===t?(0,o.jsxs)(o.Fragment,{children:[!c&&(0,o.jsx)(O,{label:a||n,toggleOpen:p,isOpen:f,isModal:!0,showDropdownOfferType:!0,dataTest:u}),(0,o.jsx)(V,{label:n,hideFiltersButton:!c,resetFilter:s,modalName:t,showDropdownOfferType:c,filterParams:a,dataTest:u,children:r})]}):r};Ie.defaultProps={filterParams:null,isDesktop:!1};var ke=function(e){var t=e.expandedPlaceholder,n=e.label,r=e.placeholder,i=e.reset,a=e.modalName,l=e.dataTest,s=e.isDesktop,c=e.dropdownSide,u=e.children,d=e.isModal;return s&&!d?(0,o.jsx)(V,{label:r||n,dataTest:l,dropdownSide:c,modalName:a,children:u}):(0,o.jsx)(Ie,{label:n,filterParams:r||t,resetFilter:i,modalName:a,isModal:!0,isDesktop:s,dataTest:l,children:u})};ke.defaultProps={dropdownSide:void 0,expandedPlaceholder:"",placeholder:"",isModal:!1};const je=(0,l.connect)((function(e){return{isDesktop:(0,s.Y6)(e)}}))(ke);var Ne=u().arrayOf(u().shape({name:u().string,label:u().string,value:u().oneOfType([u().string,u().number]),icon:u().string,dependent:u().string,units:u().string}));u().func,u().bool,u().bool,u().string,u().string,u().arrayOf(u().string),u().string,u().bool;var Ee=n(91463),Me=n.n(Ee),Te=n(6861),Le=Me()({},Te.DEAL_TYPES_LABELS,{sold_sale:"Продано"}),Oe=(0,i.memo)((function(e){var t=e.name,n=e.options,r=e.isModal,a=function(e,t){var n=(0,l.useDispatch)(),r=(0,i.useCallback)((function(t){return(0,ve.jd)(t,[e])}),[e]),o=(0,l.useSelector)(r),a=(0,i.useCallback)((function(){var e;n((0,pe.f2)(((e={}).deal_type="sale",e)))}),[n]),s=(0,i.useCallback)((function(e){var t,r=e.target,i=r.name,o=r.value;n((0,pe.f2)(((t={})[i]=o,t)))}),[n]),c=Le[o];return{items:(0,i.useMemo)((function(){return t.map((function(e){return{text:e.label,value:e.value}}))}),[t]),value:o,reset:a,onChange:s,label:c}}(t,n),s=a.items,c=a.value,u=a.reset,d=a.onChange,f=a.label;return(0,o.jsx)(je,{label:f,modalName:"DEAL_TYPE",reset:u,dataTest:"dropdown-filter-deal-type",isModal:r,children:(0,o.jsx)(Se.k,{wrapperClassName:r?"mh6J4":"",fluid:!0,inputName:"deal_type",items:s,value:c,onChange:d,"data-e2e-id":"select-deal-type"})})}));Oe.defaultProps={isModal:!1};var Be=n(30225),Ae=n(29987),Re=function(e){var t=e.onClose,n=e.onClick,r=e.tabIndex,i=e.placeholder,a=e.children,l=e.dataTest,s=e.secondaryClasses,c=(0,A.R)({onClose:t,onClick:n}),u=c.isOpen,f=c.toggleOpen,p=c.wrapperRef,h=c.onKeyPress,v=c.focusRef;return(0,o.jsxs)("div",{"data-e2e-id":l,className:m()("dropdown",{active:u},s),tabIndex:r,onKeyPress:h,ref:p,role:"presentation",children:[(0,o.jsx)(d.Button,{buttonRef:v,__className:"dropdown__value",onClick:f,role:"button",intent:d.Intent.PrimaryOutline,fluid:!0,"data-e2e-id":l+"-button",text:(0,o.jsx)("span",{className:"dropdown__value-content",children:i}),tabIndex:"0"}),(0,o.jsx)("div",{className:"dropdown__options",children:u?a:null})]})};Re.defaultProps={secondaryClasses:"",placeholder:"",dataTest:"",onClick:Function.prototype,onClose:Function.prototype,tabIndex:"-1"};var Pe=n(78019);var Fe={pp:"g",ps:"dxfy",p2:"hbwy"},De=function(){return(0,o.jsx)("div",{className:"otjTr",children:(0,o.jsx)(Pe.Z,{containerId:"filters_slot",bannerParams:Fe})})},Ve=n(46875),He=n.n(Ve),Ue=n(84500),ze=n.n(Ue),qe=n(71226),Ye=n.n(qe),Ge=n(15692),We=n(2459),Ze=function(e,t){return t?(0,xe.Nt)(e,t):[]},Ke=xe.Nt,Xe={quality:80,height:44,type:"scale"},Qe=n(10830);var Je=function(e){var t=e.isOnSearchFetch,n=e.inputValue,r=e.onInputChange;return(0,o.jsx)(Qe.II,{className:"JxOza",value:n,onChange:r,placeholder:"Поиск по названию",leftSection:(0,o.jsx)(C.jV,{className:"LX2qG"}),rightSection:t?(0,o.jsx)(Y.Loader,{size:Y.LoaderSize.Small}):void 0,wrapperClassName:"CIuHw"})};Je.defaultProps={inputValue:"",isOnSearchFetch:!1};var $e=function(e){var t=e.src,n=e.name;return(0,o.jsxs)("span",{className:"hEwyG",children:[(0,o.jsx)("span",{className:"PFlc4",children:n}),t?(0,o.jsx)("img",{className:"ZXlt0",src:t,alt:n}):null]})};$e.defaultProps={src:"",name:""};var et=function(){var e,t=function(){var e=(0,f.tm)(),t=(0,fe.r1)(),n=(0,i.useCallback)((function(e){return(0,ve.jd)(e,"holding_id")}),[]),r=(0,i.useCallback)((function(e){return(0,ve.jd)(e,"developer_id")}),[]),o=(0,l.useSelector)(We.q),a=(0,l.useSelector)(me.es),s=(0,l.useSelector)(n)||X.o,c=(0,l.useSelector)(r)||X.o,u=(0,l.useDispatch)(),d=(0,i.useState)(""),p=d[0],m=d[1],h=(0,i.useState)([]),v=h[0],g=h[1],b=(0,i.useState)([]),y=b[0],x=b[1],C=(0,i.useState)(!1),w=C[0],S=C[1],_=(0,i.useState)([]),I=_[0],k=_[1],j=(0,i.useMemo)((function(){return Ye()(function(){var n=ze()(He()().mark((function n(r){var i;return He()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e()){n.next=2;break}return n.abrupt("return");case 2:if(r){n.next=5;break}return g([]),n.abrupt("return");case 5:return S(!0),n.prev=6,n.next=9,Ze(t,{name:r,address:a});case 9:i=n.sent,g(i),n.next=15;break;case 13:n.prev=13,n.t0=n.catch(6);case 15:return n.prev=15,S(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[6,13,15,18]])})));return function(e){return n.apply(this,arguments)}}(),400)}),[e,t,a]),N=(0,i.useCallback)((function(e){m(e.target.value),j(e.target.value)}),[m,j]),E=(0,i.useCallback)((function(e){return e.holdingId?"holding_id":"developer_id"}),[]),M=(0,i.useCallback)((function(e){return e.holdingId||e.developerId}),[]),T=(0,i.useMemo)((function(){return[].concat([].concat(I).reverse(),o.filter((function(e){return!I.find((function(t){return M(t)===M(e)}))})))}),[M,I,o]),L=(0,i.useMemo)((function(){return p?v:T}),[p,v,T]),O=(0,i.useCallback)((function(e){return e.holdingId?s.includes(String(e.holdingId)):c.includes(String(e.developerId))}),[s,c]),B=(0,i.useCallback)((function(e){var t=E(e);return function(n){var r=n.value,i=n.checked,o=i?y.filter((function(e){return M(e)!==r})):[].concat(y,[e]);x(o),u((0,pe.Mw)({name:t,value:String(r),checked:!i}))}}),[u,E,M,y]),A=(0,i.useCallback)((function(){var e=[].concat(I,y),t=e.filter((function(t,n,r){return r.indexOf(e.find((function(e){return M(e)===M(t)})))===n})).filter((function(e){return O(e)}));x([]),k(t)}),[M,O,I,y]),R=(0,i.useCallback)((function(){m(""),A()}),[m,A]),P=(0,i.useMemo)((function(){var e=L.reduce((function(e,t){return O(t)?[].concat(e,[null==t?void 0:t.name]):e}),[]);return e.length>0?e.join(", "):"Не выбрано"}),[L,O]);return(0,i.useEffect)((function(){var n=function(){var e=ze()(He()().mark((function e(){var n;return He()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke(t,{holding_id:s,developer_id:c});case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n=[];case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();(c.length||s.length)&&n().then((function(t){e()&&k(t)}))}),[t,c,s,e]),(0,i.useEffect)((function(){u((0,Ge.WJ)({guid:a})),j()}),[u,a,j]),(0,i.useEffect)((function(){""===p&&A()}),[p]),{items:L,onCheckboxChange:B,getIsChecked:O,onInputChange:N,handleClose:R,placeholder:P,isOnSearchFetch:w,inputValue:p}}(),n=t.items,r=t.onCheckboxChange,a=t.getIsChecked,s=t.isOnSearchFetch,c=t.handleClose,u=t.placeholder,d=t.inputValue,p=t.onInputChange;return(0,o.jsxs)("div",{className:"dbLNL",children:[(0,o.jsx)(Re,{onClose:c,placeholder:u,secondaryClasses:"search-form__multiselect--developers",dataTest:"filter-developers-dropdown",children:(0,o.jsxs)("div",{className:m()("vkrdn",(e={},e.naKVz=0===n.length,e)),children:[(0,o.jsx)(Je,{isOnSearchFetch:s,inputValue:d,onInputChange:p}),n.length>0&&n.map((function(e){var t=e.name,n=e.logo,i=e.holdingId,l=e.developerId;return(0,o.jsx)(Be.Checkbox,{value:i||l,onSelect:r(e),labelPlacement:"left",checked:a(e),"data-e2e-id":"filter-developers-checkbox",label:(0,o.jsx)($e,{src:n?(0,Ae.w)(n,Xe):void 0,name:t}),wrapperClassName:"iZ8yf"},i||l)}))]})}),(0,o.jsx)(De,{})]})},tt=n(24854);const nt={icon:"PkYVR"};var rt=n(23650),it=n.n(rt),ot=n(86442),at=function(e){var t=e.options,n=e.singleMode,r=(0,l.useSelector)(ve.qd),o=(0,l.useDispatch)(),a=(0,i.useMemo)((function(){return it()(t.map((function(e){return e.name}))).map((function(e){return(0,ot.Ak)(r[e]).map((function(t){return e+"_&_"+t}))})).flat()}),[r,t]),s=(0,i.useMemo)((function(){return t.map((function(e){return Me()({},e,{text:e.label,value:e.name+"_&_"+e.value})}))}),[t]),c=(0,i.useCallback)((function(e,r){var i=r.split("_&_"),l=i[0],s=i[1],c=void 0===s?"":s;if(n){var u,d=t.reduce((function(e,t){var n,r=t.name;return Object.assign(e,((n={})[r]="",n)),e}),{}),f=a.includes(r)?"":c;o((0,pe.f2)(Me()({},d,((u={})[l]=f,u))))}else o((0,pe.Mw)({name:l,value:c,checked:!a.includes(r)}))}),[o,t,n,a]);return{values:a,preparedOptions:s,onChange:c}},lt=function(e){var t=e.name,n=e.options,r=e.wrapperClassName,a=e.column,l=e.fluid,s=e.singleMode,c=at({options:n,singleMode:s}),u=c.values,d=c.onChange,f=c.preparedOptions,p=(0,i.useMemo)((function(){return f.map((function(e){return Me()({},e,{icon:e.icon?(0,o.jsx)("div",{className:nt[u.includes(e.value)?e.icon+"Selected":e.icon]}):null})}))}),[f,u]);return p.length&&u?(0,o.jsx)(tt.MultipleButtonSelect,{onValueChange:d,items:p,value:u,"data-e2e-id":"multiple-button__"+t,wrapperClassName:r,column:a,fluid:l}):null};lt.defaultProps={options:[],fluid:!1,singleMode:!1};var st=function(e){var t=e.showDivider,n=e.children;return t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:t?"blVcr":null}),n]}):n};st.defaultProps={showDivider:!1};var ct=(0,i.memo)((function(e){var t=e.name,n=e.items,r=e.values,a=e.selectedValues,l=e.onChange,s=e.valuesWithDivider,c=e.allowLastUncheck,u=function(e){var t=e.name,n=e.items,r=e.selectedValues,o=e.values,a=e.valuesWithDivider,l=e.onChange,s=e.allowLastUncheck,c=(0,i.useMemo)((function(){return o.map((function(e){return e.some((function(e){return a.includes(e)}))}))||[]}),[o,a]),u=(0,i.useCallback)((function(e){return{label:n.find((function(t){return t.value===e})).label,value:e,"data-e2e-id":"filter-"+t+"--item-"+e}}),[t,n]),d=(0,i.useCallback)((function(e){return r.filter((function(t){return e.includes(t)}))}),[r]),f=(0,i.useCallback)((function(e){return e.map(u)}),[u]),p=(0,i.useCallback)((function(e,t){var n=d(o[e]),i=0===t.length&&1===n.length;if(i&&r.length<=1&&!s)return null;if(i){var a=r.filter((function(e){return e!==n[0]}));return l(a)}return l(t)}),[s,d,l,r,o]),m=(0,i.useMemo)((function(){return o.map((function(e,t){return function(e){return p(t,e)}}))}),[o,p]);return{getOptions:f,getSelectedValues:d,dividers:c,onValueChangeCallbacks:m}}({name:t,items:n,selectedValues:a,values:r,valuesWithDivider:s,onChange:l,allowLastUncheck:c}),d=u.getOptions,f=u.getSelectedValues,p=u.dividers,m=u.onValueChangeCallbacks;return r.map((function(e,t){return(0,o.jsx)(st,{showDivider:0!==t&&p[t],children:(0,o.jsx)(Be.CheckboxList,{items:d(r[t]),value:f(r[t]),onValueChange:m[t],wrapperClassName:"qXRXg"})},t)}))}));ct.defaultProps={valuesWithDivider:[]};var ut=n(27078),dt=n.n(ut),ft=n(26079),pt=n(32808),mt={living_sale:["house"],living_rent:["house"],living_sold_sale:["house"]},ht={living:!1,commercial:!1,garage:!1};var vt=function(e){var t=e.name,n=e.options,r=e.isModal,a=t,s=function(e){var t=e.filterName,n=e.options,r=ft.TYPE_CATEGORY_LIVING,o=(0,l.useSelector)(ve.uY),a=(0,l.useSelector)(ve.qd),s=(0,l.useSelector)(ve.uH),c=!(0,pt.$2)(s),u=function(e,t){return mt[e+"_"+t]||[]}(o,s),d=ht[o]||!1,f=(0,pe.GY)().changeMultiFields,p=(0,i.useMemo)((function(){if(dt()(n))return X.o;var e=n.reduce((function(e,t){var n=t.value,r=t.group||"other";return e[r]||(e[r]=[]),e[r].push(n),e}),{});return Object.values(e)}),[n]),m=ft.CATEGORIES[o]||ft.CATEGORIES[ft.TYPE_CATEGORY_LIVING],h=ft.TYPES_CATEGORIES.map((function(e){return{text:e.label,value:e.id,"data-e2e-id":"filter-category--item-"+e.id}})),v=(0,i.useMemo)((function(){var e=a[t]||X.o,n=m.values.flat();return e.filter((function(e){return n.includes(e)}))}),[m.values,t,a]),g=(0,i.useMemo)((function(){return null!=n&&n.length?v.reduce((function(e,t,r){var i,o=(null==(i=n.find((function(e){return e.value===t})))?void 0:i.label)||"";if(!o)return e;if(-1!==e.flatIndex&&o.includes("Квартира")){var a=e.list[e.flatIndex];return e.list.splice(e.flatIndex,1,a,""+o.replace(/Квартира (во|в)/,"")),e}return-1===e.flatIndex&&o.includes("Квартира")&&(e.flatIndex=r),e.list.push(o),e}),{list:[],flatIndex:-1}).list.join(", "):""}),[v,n]),b=(0,i.useCallback)((function(){var e;f(((e={})[t]=X.o,e.category=r,e))}),[f,r,t]),y=(0,i.useCallback)((function(e){f({category:e})}),[f]),x=(0,i.useCallback)((function(e){var n;f(((n={})[t]=e,n))}),[f,t]);return{categoryValue:m.id,categoryLabel:m.label,categoryOptions:h,selectedValues:v,offerTypeItems:n,offerTypeValues:p,placeholder:g,resetFilter:b,changeCategory:y,changeOfferType:x,valuesWithDivider:u,allowLastUncheck:d,isCategoryVisible:c}}({filterName:a,options:n}),c=s.categoryValue,u=s.categoryLabel,d=s.placeholder,f=s.categoryOptions,p=s.selectedValues,m=s.offerTypeItems,h=s.offerTypeValues,v=s.resetFilter,g=s.changeOfferType,b=s.changeCategory,y=s.valuesWithDivider,x=s.allowLastUncheck,C=s.isCategoryVisible;return(0,o.jsxs)(je,{label:u,expandedPlaceholder:d,modalName:"OFFER_TYPE",reset:v,placeholder:d,dataTest:"dropdown-filter-offer-type",isModal:r,children:[C?(0,o.jsx)("div",{className:"v3TzC",children:(0,o.jsx)(Se.k,{inputName:"category",items:f,value:c,onValueChange:b,fluid:!0,"data-e2e-id":"filter-category"})}):null,(0,o.jsx)("div",{className:"fKh0s",children:(0,o.jsx)(ct,{name:a,items:m,values:h,selectedValues:p,onChange:g,valuesWithDivider:y,allowLastUncheck:x})})]})};vt.defaultProps={isModal:!1};var gt,bt,yt=n(39601),xt=function(e){return Number(e)?e>=1e9?[Number((e/1e9).toFixed(1)),"млрд"].join(" ").replace(".",","):e>=1e6?[Number((e/1e6).toFixed(1)),"млн"].join(" ").replace(".",","):(0,yt.V)(e):""},Ct=[ft.TYPE_FLAT,ft.TYPE_LAYOUT,ft.TYPE_ROOM,ft.TYPE_COMPLEX,ft.TYPE_TOWNHOUSE].concat(ft.TYPES_COMMERCIAL,ft.TYPES_GARAGE),wt=[ft.TYPE_FLAT,ft.TYPE_LAYOUT,ft.TYPE_ROOM,ft.TYPE_HOUSE,ft.TYPE_HOUSEPART,ft.TYPE_TOWNHOUSE],St="square",_t="full",It="monthly_payment",kt=[{text:"За всё",value:_t},{text:"За м²",value:St,offerType:Ct},{text:"Ипотека",value:It,isNew:!0,dealType:"sale",offerType:wt}],jt=[{title:"Цена за всё",value:_t},{title:"Цена за м²",value:St,offerType:Ct},{title:"Ипотечный платёж",value:It,isNew:!0,dealType:"sale",offerType:wt}],Nt=function(e,t,n){return e.filter((function(e){return n.length>0&&(!e.dealType||e.dealType===t)&&(!e.offerType||e.offerType.some((function(e){return n.includes(e)})))}))},Et=function(e,t){return Nt(kt,e,t)},Mt=function(e,t){return Nt(jt,e,t)},Tt=function(e){return(0,H.lv)(e,"square_price")},Lt=function(e){return(0,H.lv)(e,"monthly_payment")},Ot=n(85505),Bt=n(68448);(bt=gt||(gt={})).Small="small",bt.Medium="medium",bt.Large="large";var At={radio:"radio-radio-8-0-2",label:"radio-label-8-0-2",circle:"radio-circle-8-0-2",control:"radio-control-8-0-2",input:"radio-input-8-0-2",disabled:"radio-disabled-8-0-2",small:"radio-small-8-0-2",medium:"radio-medium-8-0-2",large:"radio-large-8-0-2"},Rt=(0,i.memo)((0,i.forwardRef)((function(e,t){var n,r=e.name,a=e.label,l=e.title,s=e.className,c=e.value,u=e.checked,d=e.disabled,f=e.onBlur,p=e.onFocus,m=e.size,h=void 0===m?gt.Medium:m,v=e.onChange,g=e.onValueChange,b=e["data-e2e-id"],y=(0,i.useRef)(null),x=l||a;return(0,i.useImperativeHandle)(t,(function(){return{focus:function(){var e,t;y.current&&(null==(e=y.current)||e.focus(),null==(t=y.current)||t.classList.add("focus-visible"))}}})),(0,o.jsxs)("label",{className:(0,Ot.Z)(At.radio,At[h],s,(n={},n[At.disabled]=d,n)),"data-e2e-id":b+"__label",children:[(0,o.jsxs)("span",{className:At.control,children:[(0,o.jsx)("input",{ref:y,className:At.input,type:"radio",name:r,value:c,checked:u,disabled:d,onChange:function(e){null==v||v(e),null==g||g(e.target.value)},onFocus:p,onBlur:f,"data-e2e-id":b}),(0,o.jsx)("span",{className:At.circle})]}),x&&(0,o.jsx)("span",{className:At.label,children:x})]})}))),Pt={header:"radio-header-8-0-2","radio-group":"radio-radio-group-8-0-2",column:"radio-column-8-0-2",small:"radio-small-8-0-2",vertical:"radio-vertical-8-0-2",item:"radio-item-8-0-2",columns:"radio-columns-8-0-2",horizontal:"radio-horizontal-8-0-2","with-label":"radio-with-label-8-0-2"},Ft=((0,i.memo)((0,i.forwardRef)((function(e,t){var n,r=e.items,a=e["data-e2e-id"],l=e.label,s=e.wrapperClassName,c=e.className,u=e.size,d=void 0===u?gt.Medium:u,f=e.defaultValue,p=e.columns,m=e.isHorizontal,h=e.onValueChange,v=e.onSelect,g=e.value,b=e.disabled,y=e.groupName,x=e.onChange,C=e.onFocus,w=e.onBlur,S=(0,i.useState)(f),_=S[0],I=S[1],k=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(function(){return{focus:function(){var e;k&&(null==(e=k.current)||e.focus())}}}));var j=function(e){g||I(e);var t=r.findIndex((function(t){return t.value===e}));null==h||h(e,t),null==v||v(r[t])},N=(0,Ot.Z)(c,Pt["radio-group"],Pt[d],Pt[m?"horizontal":"vertical"],((n={})[Pt.columns]=Boolean(p)&&!m,n[Pt["with-label"]]=l,n)),E=function(e,t){var n=e.key,r=e.value,i=e.disabled,l=e.label,s=e.className,c=e.title,u=e["data-e2e-id"];return(0,o.jsx)("div",{className:Pt.item,children:(0,o.jsx)(Rt,{ref:t,size:d,title:c||l,value:r,className:s,checked:g?r===g:r===_,disabled:b||i,name:y,onChange:x,onValueChange:j,onFocus:C,onBlur:w,"data-e2e-id":u||a&&a+"__"+r})},"string"==typeof n?n:r)},M=!1;if(p&&!m){var T=Array.from({length:p}).map((function(){return[]})),L=Math.ceil(r.length/p);return r.forEach((function(e,t){T[Math.floor(t/L)].push(e)})),(0,o.jsx)("div",{className:N,"data-e2e-id":a,children:T.map((function(e,t){return(0,o.jsx)("div",{className:Pt.column,children:e.map((function(e){var t=M||e.disabled?void 0:k;return t&&(M=!0),E(e,t)}))},t)}))})}return(0,o.jsxs)(Bt.WrapperComponent,{wrapperClassName:s,children:[l&&(0,o.jsx)("div",{className:Pt.header,"data-label":l,children:l}),(0,o.jsx)("div",{className:N,"data-e2e-id":a,children:r.map((function(e){var t=M||e.disabled?void 0:k;return t&&(M=!0),E(e,t)}))})]})}))),n(93757));var Dt=function(e){var t=e.text,n=e.wrappedClassName;return(0,o.jsxs)("div",{className:m()("rDtaf",n),children:[t,(0,o.jsx)(Ft.Ct,{"data-e2e-id":"badge-new",color:Ft.JV.Red,text:"Новое",wrapperClassName:"M7xt4"})]})};Dt.defaultProps={wrappedClassName:""};var Vt,Ht,Ut,zt,qt=n(66867),Yt=n.n(qt),Gt=/\d+/g,Wt=/\d+[.,]?\d*/g,Zt=function(e){return e?(String(e).match(Gt)||[]).join(""):""},Kt=function(e){return e?(e.match(Wt)||[]).join(""):""},Xt=function(e){return e?e.toString():""},Qt=function(e){return Zt(Xt(e))},Jt=function(e){var t,n=e.split("."),r=n[0],i=n[1],o=(t=r,t.replace(/\B(?=(?:\d{3})+\b)/g," ")).replace(/\u00a0/g," ");return void 0!==i&&(o+="."+i),o},$t=function(e,t,n){var r=e,i=Number(e);return"number"==typeof t&&i<t&&(r=String(t)),"number"==typeof n&&i>n&&(r=String(n)),r};(zt=Vt||(Vt={})).Currency="currency",zt.None="none",function(e){e.NonDigits="non-digits",e.None="none"}(Ht||(Ht={})),function(e){e[e.DELETE=0]="DELETE",e[e.BACKSPACE=1]="BACKSPACE"}(Ut||(Ut={}));var en=["defaultValue","value","className","placeholder","onValueChange","onChange","onInput","onKeyUp","allowDecimals","allowLeadingZeros","format","onBlur","min","max","inputRef","checkLimitsOnChange","formatValue","replaceValue","maxLength","numberAfterDecimalPoint"],tn=(0,i.memo)((function(e){var t,n=e.defaultValue,r=e.value,a=e.className,l=e.placeholder,s=e.onValueChange,c=e.onChange,u=e.onInput,d=e.onKeyUp,f=e.allowDecimals,p=void 0!==f&&f,m=e.allowLeadingZeros,h=void 0!==m&&m,v=e.format,g=void 0===v?Vt.None:v,b=e.onBlur,y=e.min,x=e.max,C=e.inputRef,w=e.checkLimitsOnChange,S=e.formatValue,_=e.replaceValue,I=e.maxLength,k=void 0===I?24:I,j=e.numberAfterDecimalPoint,N=void 0===j?2:j,E=Yt()(e,en),M=p?Kt:Zt,T=S||(p?(t=N,function(e){var n,r=Kt(Xt(e));-1!==r.search(/,/)?n=",":-1!==r.search(/\./)&&(n=".");var i=n?r.split(n):[r],o=i[0],a=i[1],l=null!=a?a.slice(0,t):"";return n?""+o+n+l:o}):Qt),L="function"==typeof _?_:function(e){return function(t){var n=t.replace(",",".");return e||(n=n.replace(/^(0+)([1-9]|0\.|0)/,"$2")),n}}(h),O=function(e){return L(T(e))},B=(0,i.useRef)(),A=function(e,t){void 0===t&&(t=!1);var n=M(O(e)),r=t?$t(n,y,x):n,i=g===Vt.Currency?Jt(r):r;return{rawValue:n,formattedValue:B.current?r:i}},R=(0,i.useReducer)((function(e){return e+1}),0);R[0];var P=R[1],F=(0,i.useRef)(),D=(0,i.useRef)(null),V=C||D,H=(0,i.useRef)(),U=(0,i.useRef)(null),z=(0,i.useRef)(),q=(0,i.useState)(void 0!==n||void 0!==r?A(n||r,w).formattedValue:""),Y=q[0],G=q[1],W=A(r,w).formattedValue,Z=void 0!==r?W:Y;(0,i.useEffect)((function(){F.current=W}),[W]);var K=(0,i.useCallback)((function(e){var t,n,r,i=e.target,o=e.nativeEvent,a=i.value,l=i.selectionStart||0,d="deleteContentBackward"===o.inputType,f="deleteContentForward"===o.inputType;(d||f)&&(" "===(null==(r=F.current)?void 0:r[l])&&(n=l,f&&(n+=1)),z.current=Ut.DELETE);var p=M(O(a)),m=p.replace(/\./,"").length,h=-1!==p.indexOf(".")?k+1:k;m>=h&&(p=p.substring(0,h)),o.isComposing&&F.current&&i.value.length>F.current.length?B.current=!0:B.current&&(B.current=!1);var v=w?$t(p,y,x):p,b=g===Vt.Currency?Jt(v):v,C=B.current?v:b,S=l+(C.length-a.length),_=S<0?0:S;0===l&&"0"===C&&(n=C.length),U.current=null!=(t=n)?t:_,C!==F.current?(H.current=e,H.current.target.value=v,F.current=C,G(C),null==c||c(H.current),null==u||u(H.current),null==s||s(v,C)):P()}),[c,u,s,y,x,w,p,g]),X=(0,i.useCallback)((function(e){var t=A(Z,!0),n=t.rawValue,r=t.formattedValue;Z!==r&&(G(r),H.current&&(H.current.target.value=n,null==c||c(H.current)),null==s||s(M(r),r)),null==b||b(e)}),[Z,c,s,b,y,x,g]),Q=(0,i.useCallback)((function(e){var t;null!==U.current&&(null==(t=V.current)||t.setSelectionRange(U.current,U.current),U.current=null),null==d||d(e)}),[d]);return(0,i.useEffect)((function(){var e;null!==U.current&&(null==(e=V.current)||e.setSelectionRange(U.current,U.current))})),(0,o.jsx)(Qe.II,Me()({},E,{placeholder:l,className:(0,Ot.Z)("nmbr-input-root-10-0-2",a),defaultValue:n,inputRef:V,value:Z,onInput:K,onBlur:X,onKeyUp:Q}))}));tn.displayName="NumberInput";var nn=n(38771),rn=n.n(nn),on=n(73623),an=n.n(on);var ln=function(e){var t,n=e.field,r=e.index,a=e.clearHandler,l=n.name,s=n.value,c=(0,i.useCallback)((function(){return a(l)}),[a,l]);return(0,o.jsxs)("div",{className:"I5SWP",children:[(0,o.jsx)("div",{"data-e2e-id":"clear-icon",className:m()("Gc6_Z",(t={},t.UamZm=!s,t)),onClick:c,children:(0,o.jsx)(rn(),{})}),(0,o.jsx)("div",{className:"SQE9X",children:1===r&&(0,o.jsx)(an(),{})})]})};var sn=function(e){var t,n=e.dataTest,r=e.isModal,i=e.isMobile,a=e.currentOptions,l=e.onFocus,s=e.onBlur,c=e.onChange,u=e.clearHandler,d=e.isHidePriceType;return(0,o.jsx)("div",{className:m()("dNr7I",(t={},t.UgGzx=!r,t.aXG4N=r,t.oxHnn=i,t.qUx2l=d,t)),"data-test":n,children:a.map((function(e,t){var a;return(0,o.jsx)(tn,{autoCorrect:"off",spellCheck:"false",autoCapitalize:"none",autoComplete:"off",maxLength:e.maxLength,type:"text",inputMode:"numeric",pattern:"[0-9 ,]*",onFocus:l,onBlur:s,name:e.name,placeholder:i&&0===t?"Цена "+e.label:e.label,className:m()("rUtM6",(a={},a.yxIyj=r,a)),value:e.value,onValueChange:c(e.name),format:Vt.Currency,"data-e2e-id":n+"-"+e.name,rightSection:(0,o.jsx)(ln,{field:e,index:t,clearHandler:u})},e.name)}))})};sn.defaultProps={isHidePriceType:!1};var cn=function(e){var t=e.conditionRadioBtn,n=e.isHidePriceType,r=e.priceTypesComponent,i=e.priceTypesRadioComponent,a=e.children;return n?a:(0,o.jsx)("div",{className:t?m()("m6my1","sYjql"):"eys40",children:t?(0,o.jsxs)(o.Fragment,{children:[a,i]}):(0,o.jsxs)(o.Fragment,{children:[r,a]})})};const un={priceTypesRadio:"ZavQy",priceTypesCompact:"OLswi",newRadioWrapper:"I2Qko",radioWrapper:"l1hIv"};var dn=function(e){var t=e.priceType,n=e.isMobile,r=e.isModal,a=e.onPriceTypeChange,s=e.currentOptions,c=e.onFocus,u=e.onBlur,d=e.onChange,f=e.clearHandler,p=e.dataTest,m=e.isHidePriceType,h=(0,l.useSelector)(ve.uH),v=(0,l.useSelector)(ve.Hr),g=(0,i.useMemo)((function(){return(0,o.jsx)(Se.k,{wrapperClassName:un.priceTypes,equalCellWidth:!0,fluid:!0,inputName:"category",items:Et(h,v).map((function(e){return e.isNew?Me()({},e,{text:(0,o.jsx)(Dt,{text:e.text})}):e})),value:t,onChange:a})}),[t,a,h,v]),b=(0,i.useMemo)((function(){return(0,o.jsx)("div",{className:un.radioWrapper,children:Mt(h,v).map((function(e){return(0,o.jsx)(Rt,{label:e.isNew?(0,o.jsx)(Dt,{text:e.title,wrappedClassName:un.newRadioWrapper}):e.title,name:"category",checked:e.value===t,value:e.value,onChange:a},e.title)}))})}),[t,a,h,v]),y=r||n;return(0,o.jsx)(cn,{conditionRadioBtn:y,isHidePriceType:m,priceTypesComponent:g,priceTypesRadioComponent:b,children:(0,o.jsx)(sn,{isModal:r,isMobile:n,dataTest:p,currentOptions:s,onFocus:c,onBlur:u,onChange:d,clearHandler:f,isHidePriceType:m})})},fn=function(e){var t=e.name,n=e.isModal,r=e.dataTest,a=function(e){var t=(0,l.useSelector)((function(t){return(0,H.lv)(t,e)})),n=(0,l.useSelector)(Tt),r=(0,l.useSelector)(Lt),o=(0,l.useSelector)(H.W2),a=(0,l.useSelector)(H.Xy),c=(0,l.useSelector)(s.eD),u=(0,l.useSelector)(ve.Hr),d=(0,l.useSelector)(ve.uH),p=u.includes(ft.TYPE_VILLAGE)||1===u.length&&u[0]===ft.TYPE_LOT,m=(0,i.useMemo)((function(){return o?St:a?It:_t}),[o,a]),h=(0,i.useState)(m),v=h[0],g=h[1],b=(0,l.useDispatch)(),y=(0,i.useMemo)((function(){return v===St?n:v===It?r:t}),[v,n,r,t]),x=(0,i.useCallback)((function(e){return function(t){var n;return b((0,pe.f2)(((n={})[e]=t,n)))}}),[b]),C=(0,i.useCallback)((function(){y.forEach((function(e){x(e.name)("")}))}),[y,x]),w=(0,i.useCallback)((function(){C(),g(_t)}),[C]),S=(0,i.useCallback)((function(){v!==St&&v!==It||(C(),g(_t))}),[g,v,C]),_=a&&u.includes(ft.TYPE_COMPLEX);(0,f.rf)((function(){w()}),[d]),(0,f.rf)((function(){(p||_)&&S()}),[p,_]);var I=(0,i.useCallback)((function(e){var t=e.target;C(),g(t.value)}),[C,g]),k=(0,i.useCallback)((function(e){var t;b((0,pe.f2)(((t={})[e]="",t)))}),[b]),j=(0,i.useCallback)((function(e){var t=y[0].name,n=y[1].name,r=y[0].value,i=y[1].value,o=e===n&&Boolean(r)&&Number(i)<Number(r),a=e===t&&Boolean(i)&&Number(r)>Number(i);o&&k(t),a&&k(n)}),[k,y]),N=(0,i.useMemo)((function(){var e=y[0].value,t=y[1].value;if(t&&e){var n=xt(e)+" – "+xt(t);return[" млн"," млрд"].forEach((function(e){3===n.split(e).length&&(n=n.replace(e,""))})),n}return e?"от "+xt(e):t?"до "+xt(t):null}),[y]),E=(0,i.useCallback)((function(e){e.target.select()}),[]),M=(0,i.useCallback)((function(e){var t=e.target,n=t.name;t.value&&j(n)}),[j]);return{resetAll:w,placeholder:N,isMobile:c,currentOptions:y,onFocus:E,onBlur:M,priceType:v,onPriceTypeChange:I,onChange:x,clearHandler:k,isHidePriceType:p}}(t),c=a.resetAll,u=a.placeholder,d=a.isMobile,p=a.currentOptions,m=a.onFocus,h=a.onBlur,v=a.priceType,g=a.onPriceTypeChange,b=a.onChange,y=a.clearHandler,x=a.isHidePriceType;return(0,o.jsx)(je,{label:"Цена",expandedPlaceholder:"Любая",modalName:"PRICE_RANGE",reset:c,dataTest:"dropdown-filter-price",dropdownSide:"left",placeholder:u,isModal:n,children:(0,o.jsx)(dn,{priceType:v,isMobile:d,isModal:n,onPriceTypeChange:g,currentOptions:p,onFocus:m,onBlur:h,onChange:b,clearHandler:y,dataTest:r,isHidePriceType:x})})};fn.defaultProps={isModal:!1,name:"",dataTest:""};var pn=function(e){var t=e.field,n=e.index,r=e.clearHandler,a=e.inView,l=t.name,s=t.units,c=(0,i.useCallback)((function(){return r(l)}),[r,l]);return(0,o.jsxs)("div",{className:"BtLOf",children:[a?(0,o.jsx)("div",{"data-e2e-id":"clear-icon",className:"X1Vlc",onClick:c,children:(0,o.jsx)(rn(),{})}):null,1===n&&(0,o.jsx)("span",{className:"N2eXJ",children:s})]})};var mn=function(e){var t=e.name,n=e.options,r=function(e){var t=e.name,n=e.options,r=(0,l.useSelector)((function(e){return(0,ve.jd)(e,t+"__lte")}))||"",o=(0,l.useSelector)((function(e){return(0,ve.jd)(e,t+"__gte")}))||"",a=(0,l.useSelector)(s.eD),c=(0,l.useDispatch)(),u=(0,i.useCallback)((function(e){var t;c((0,pe.f2)(((t={})[e]="",t)))}),[c]),d=(0,i.useCallback)((function(e,t){var i=n.map((function(e){return e.name})),a=i[0],l=i[1],s=e===a&&Boolean(r)&&Number(t)>Number(r),c=e===l&&Boolean(o)&&Number(t)<Number(o);s&&u(l),c&&u(a)}),[u,r,o,n]),f=(0,i.useCallback)((function(e){e.target.select()}),[]);return{onBlur:(0,i.useCallback)((function(e){var t=e.target,n=t.name,r=t.value;r&&d(n,r)}),[d]),onFocus:f,onChange:(0,i.useCallback)((function(e){var t,n=e.target,r=n.name,i=n.value;c((0,pe.f2)(((t={})[r]=(0,ye.p3)(i),t)))}),[c]),clearHandler:u,isMobile:a,valueLte:r,valueGte:o}}({name:t,options:n}),a=r.onBlur,c=r.onFocus,u=r.onChange,d=r.clearHandler,f=r.isMobile,p=r.valueLte,m=r.valueGte,h=n.map((function(e,t){var n=f&&e.mobilePlaceholder?e.mobilePlaceholder:e.label;return(0,o.jsx)(tn,{name:e.name,placeholder:n,className:"CWwQT",value:1===t?p:m,"data-e2e-id":"filter-range-"+e.name,rightSection:(0,o.jsx)(pn,{field:e,index:t,clearHandler:d,inView:1===t?Boolean(p):Boolean(m)}),onChange:u,onFocus:c,onBlur:a,maxLength:e.maxLength,autoCorrect:"off",spellCheck:"false",autoCapitalize:"none",autoComplete:"off",type:"text"},e.name)}));return(0,o.jsx)("div",{className:"Jhm05","data-test":"filter-range-"+t,children:h})};mn.defaultProps={options:[]};var hn=function(e){var t=e.name,n=e.placeholder,r=(e.options[0]||{}).maxLength,a=function(e){var t=(0,i.useCallback)((function(t){return(0,ve.jd)(t,e)}),[e]),n=(0,l.useSelector)(t)||X.o,r=(0,i.useState)(""),o=r[0],a=r[1],s=(0,l.useDispatch)(),c=(0,i.useCallback)((function(e){a(e)}),[]),u=(0,i.useCallback)((function(){var t,r=o.trim();n.find((function(e){return e.toLowerCase()===r.toLowerCase()}))||""===r||s((0,pe.f2)(((t={})[e]=[].concat(n,[r]),t))),a("")}),[o,e,n,s]),d=n.length>=5||""===o,f=(0,i.useCallback)((function(e){"Enter"!==e.key||d||u()}),[u,d]),p=(0,i.useCallback)((function(t){return function(){var r,i=n.filter((function(e){return e!==t}));s((0,pe.f2)(((r={})[e]=i,r)))}}),[e,n,s]);return{onValueChange:c,onClickAddButton:u,paramsByName:n,disabledButton:d,inputValue:o,onClickDeleteBadge:p,onKeyDown:f}}(t),s=a.onValueChange,c=a.onClickAddButton,u=a.disabledButton,d=a.paramsByName,f=a.inputValue,p=a.onClickDeleteBadge,m=a.onKeyDown;return(0,o.jsxs)("div",{className:"rikQo",children:[(0,o.jsx)(Qe.II,{placeholder:n,maxLength:r,className:"cXXEn",value:f,onValueChange:s,onKeyDown:m,rightSection:(0,o.jsx)("button",{type:"button",onClick:c,"data-e2e-id":"add-button-"+t,className:"wfc0y",disabled:u,children:"Добавить"})}),d.length>0?(0,o.jsx)("div",{className:"YXL0y",children:d.map((function(e){return(0,o.jsx)(Ft.Ct,{color:t.includes("excluded")?Ft.JV.RedLight:Ft.JV.GreenLight,text:(0,o.jsx)("span",{children:e}),wrapperClassName:"rkGNa",iconRight:(0,o.jsx)("button",{type:"button",className:"gKc5r",onClick:p(e),"data-e2e-id":"delete-badge-"+t,children:(0,o.jsx)(rn(),{className:"REPcq"})})},e)}))}):null]})};var vn=function(e){var t=e.name,n=e.options,r=e.isModal,a=function(e){var t=e.name,n=(0,l.useSelector)((function(e){return(0,ve.jd)(e,t)}))||X.o,r=(0,l.useSelector)(s.eD),o=(0,i.useMemo)((function(){var e=[];[].concat(n).sort().forEach((function(t){if("st"===t||!e.length)return e.push([t]);var n=e[e.length-1],r=n[0],i=n[1],o=parseInt(r,10),a=parseInt(i,10),l=parseInt(t,10);return 1==(a?l-a:l-o)?(n[1]=t,n[1]):e.push([t])}));var t=e.length-Number(n.includes("st"))-1;return e.reduce((function(e,n,r){return"st"===n[0]?(e.unshift("Студия"),e):(e.push(n.join("-")+(r===t?" комн.":"")),e)}),[]).join(", ")}),[n]);return{reset:(0,i.useCallback)((function(){var e;return(0,pe.f2)(((e={})[t]=X.o,e))}),[t]),placeholder:o,isMobile:r}}({name:t}),c=a.placeholder,u=a.reset,d=a.isMobile,f=(0,i.useMemo)((function(){return n.map((function(e){return Me()({},e,{className:"mXlWe"})}))}),[n]);return(0,o.jsx)(je,{label:"Комнат",expandedPlaceholder:"Любое",modalName:"ROOMS",reset:u,placeholder:c,dataTest:"dropdown-filter-rooms",isModal:r,children:(0,o.jsx)(lt,{name:t,"data-e2e-id":"dropdown-filter-rooms",options:f,column:r||d?5:3,wrapperClassName:r?"PqpIE":"vGQzQ",fluid:d})})};vn.defaultProps={isModal:!1};const gn=vn;var bn={time_on_foot:C.zm,time_by_car:C.yx};const yn="AC_tY";var xn=function(e){var t=e.options,n=e.name,r=function(e){var t=(0,l.useDispatch)(),n=(0,l.useSelector)(s.eD),r=(0,l.useSelector)((function(t){return(0,H.zg)(t,e)})),a=(0,i.useMemo)((function(){return e.filter((function(e){return!e.dependent}))}),[e]),c=(0,i.useState)(r.dependent||a[0].value),u=c[0],d=c[1],f=(0,i.useMemo)((function(){return a.map((function(e){var t=bn[e.name];return{value:e.value,text:n?e.label:null,name:e.name,icon:t&&(0,o.jsx)(t,{color:e.value===u?"white":void 0})}}))}),[a,n,u]),p=(0,i.useMemo)((function(){return e.filter((function(e){return e.dependent===u})).map((function(e){return{value:e.value,label:e.label,text:e.label,name:e.name,dependent:e.dependent}}))}),[e,u]),m=at({options:p,singleMode:!0}),h=m.values,v=m.onChange,g=m.preparedOptions,b=(0,i.useCallback)((function(e){var n,r=p.find((function(e){return e.dependent===u}));t((0,pe.f2)(((n={})[r.name]="",n))),d(e)}),[p,u,t]);return{isMobile:n,type:u,typeOptions:f,onTypeChange:b,mainOptions:g,onMainValueChange:v,mainValues:h}}(t),a=r.isMobile,c=r.type,u=r.typeOptions,d=r.onTypeChange,f=r.mainOptions,p=r.onMainValueChange,h=r.mainValues;return(0,o.jsxs)("div",{className:"P7mII",children:[(0,o.jsx)("div",{className:yn,children:(0,o.jsx)(Se.k,{inputName:"metro_distance",items:u,onValueChange:d,value:c,fluid:a,"data-e2e-id":"dependent-select__"+n,equalCellWidth:a})}),(0,o.jsx)("div",{className:m()("h_elE",yn),children:(0,o.jsx)(tt.MultipleButtonSelect,{items:f,onValueChange:p,defaultValue:"",size:tt.ButtonSelectSize.Medium,value:h,"data-e2e-id-list-box":"dependent-single-select__"+n+"__list","data-e2e-id":"dependent-single-select__"+n})})]})},Cn=n(64271);var wn=function(e){var t=e.checked,n=e.onChange;return(0,o.jsxs)("div",{className:"CkuTO","data-e2e-id":"thanks-filter",children:[(0,o.jsxs)("div",{className:"qd8i1",children:[(0,o.jsx)("div",{className:"jPVuE",children:(0,o.jsx)(C.iK,{})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"Oet40",children:"Спасибо за квартиру"}),(0,o.jsx)("div",{className:"Er8xB",children:"Бонусы СберСпасибо до 5% за покупку квартиры"})]})]}),(0,o.jsx)(Cn.r,{ariaLabel:(t?"выключить":"включить")+" фильтр Спасибо за квартиру",checked:t,onChange:n})]})},Sn=function(e){var t=function(e){void 0===e&&(e=[]);var t=(0,l.useSelector)(ve.qd),n=(0,l.useSelector)(s.eD),r=(0,pe.GY)().changeGroup;return e.map((function(e){var i,o=e.label,a=e.name,l=e.value,s=e.viewType,c=(null==(i=t[a])?void 0:i[0])===l;return{label:o,name:a,viewType:s,checked:c,onChange:function(){r({name:a,checked:!c,value:l})},isMobile:n}}))}(e.options);return t.length?t.map((function(e){void 0===e&&(e={});var t=e,n=t.name,r=t.label,i=t.checked,a=t.onChange;return"ThanksFilter"===t.viewType?(0,o.jsx)(wn,{onChange:a,checked:i,name:n},n):(0,o.jsxs)("div",{className:"BTCJN",children:[r?(0,o.jsx)("span",{children:r}):null,(0,o.jsx)(Cn.r,{checked:i,onChange:a}),";"]},n)})):null};Sn.defaultProps={options:[]};var _n=function(e){var t=e.name,n=e.options,r=e.wrapperClassName,i=e.column,a=e.fluid;return(0,o.jsx)(lt,{name:t,options:n,wrapperClassName:r,column:i,fluid:a,singleMode:!0})};_n.defaultProps={options:[],fluid:!1};var In=function(e){var t=e.type,n=e.placeholder,a=e.options,l=e.name,s=e.isModal,c=(0,i.useMemo)((function(){return r[t]}),[t]);return c?(0,o.jsx)(c,{name:l,options:a,placeholder:n,isModal:s}):null};In.defaultProps={isModal:!1,name:void 0,placeholder:void 0,options:[]};var kn=(0,i.memo)((function(e){var t=e.controls,n=e.name,r=e.isModal;return(0,o.jsx)("div",{className:"nETN5",children:t.map((function(e){var t=e.dataSet,i=e.placeholder,a=e.type;return(0,o.jsx)("div",{className:"lYvdZ",children:(0,o.jsx)(In,{name:n,options:t,placeholder:i,isModal:r,type:a})},a+"_"+n)}))})}));kn.propTypes={controls:u().arrayOf(u().shape({type:u().string.isRequired,dataSet:Ne})).isRequired,name:u().string.isRequired,isModal:u().bool},kn.defaultProps={isModal:!1};var jn=(0,i.memo)((function(e){var t=e.field,n=t.name,i=t.title,a=t.description,l=t.type,s=t.dataTest,c=t.dataSet,u=void 0===c?[]:c,d=t.controls,f=void 0===d?[]:d,p=t.placeholder,m=void 0===p?"":p,h=t.multiple,v=t.moreLink,g=void 0===v?"":v,b=t.hideMobileTitle,y=e.setTooltipVisible,x=e.isModal,C=Boolean(r[l]);if(!h&&!C)return null;var w=i&&x,S=(0,o.jsxs)(o.Fragment,{children:[w?(0,o.jsx)(ne,{title:i,hideMobileTitle:b,moreLink:g,description:a,setTooltipVisible:y}):null,h?(0,o.jsx)(kn,{name:n,controls:f,isModal:x}):(0,o.jsx)(In,{type:l,name:n,options:u,placeholder:m,isModal:x})]});return x?(0,o.jsx)("div",{className:"NEmiB","data-test":s||"filter-"+n,children:S}):S}));jn.defaultProps={setTooltipVisible:Function.prototype,isModal:!1};var Nn=function(){var e=function(){var e=(0,l.useDispatch)(),t=(0,l.useSelector)(Z.ss),n=(0,l.useSelector)(Z.xB),r=t?(0,K.Jq)(t,n):X.o;return{callFetchFiltersConfig:(0,i.useCallback)((function(){e((0,W.CS)())}),[e]),filters:r,isError:(0,l.useSelector)(Z.N8),isLoading:(0,l.useSelector)(Z.xU)}}(),t=e.callFetchFiltersConfig,n=e.filters,r=e.isError,a=e.isLoading;return r?(0,o.jsx)(q,{fetchFilters:t}):a?(0,o.jsx)(G,{}):n?(0,o.jsx)("div",{className:"n5sZ7",children:n.filter((function(e){return"area"!==e.name})).map((function(e){return(0,o.jsx)(jn,{field:e,isModal:!0},e.name)}))}):null},En=n(28121),Mn=function(e){var t=e.filters,n=e.headerFilters,r=e.resetFilters,i=(0,l.useSelector)(s.Y6),a=(0,l.useSelector)(s.tk);return(0,o.jsx)("form",{className:"tXk51",role:"search",children:(0,o.jsxs)("div",{className:"newqu",children:[(0,o.jsxs)(z,{stickToRight:!0,resetFilters:r,hasIcon:!0,children:[(0,o.jsx)("div",{className:"KRylh",children:(0,o.jsx)("div",{className:"Yez0n",children:t.map((function(e){return i?(0,o.jsx)(jn,{field:e,isModal:!0},e.name):(0,o.jsx)("div",{className:"HmiiT",children:(0,o.jsx)(jn,{field:e,isModal:!0},e.name)},e.name)}))})}),(0,o.jsx)(Nn,{})]}),!a&&n.map((function(e){return(0,o.jsx)(jn,{field:e},e.name)})),(0,o.jsx)("div",{className:"taBUn",children:(0,o.jsx)(jn,{field:En.Up.address})})]})})};var Tn=function(e){var t=e.mobileFilters,n=(0,l.useSelector)(Z.xU);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"_Iu9X",children:(0,o.jsx)("div",{className:"eyiGz",children:t.map((function(e){return(0,o.jsx)("div",{className:"QsLtD",children:(0,o.jsx)(jn,{field:e})},e.name)}))})}),(0,o.jsx)(Nn,{}),n&&!t.length?(0,o.jsx)(Y.Loader,{className:"Kn8NI",size:Y.LoaderSize.Medium}):null]})};var Ln=function(){var e=function(){var e=(0,l.useDispatch)(),t=(0,l.useSelector)(Z.FR),n=(0,l.useSelector)(Z.xB),r=(0,l.useSelector)(s.V6),o=(0,l.useSelector)(s.Y6);(0,f.dQ)();var a=(0,i.useCallback)((function(){e((0,pe.f6)())}),[e]),c=(0,i.useMemo)((function(){return(0,K.LG)(t,n)}),[t,n]);return{isMobileView:!(o||r),callResetFilterSheet:a,headerFilters:(0,i.useMemo)((function(){return c.filter((function(e){return e.isHeaderPlace}))}),[c]),filters:(0,i.useMemo)((function(){return c.filter(Boolean)}),[c])}}(),t=e.headerFilters,n=e.filters,r=e.isMobileView,c=e.callResetFilterSheet;return r?(0,o.jsx)("form",{className:"Y8Lnv",role:"search",children:(0,o.jsx)(Tn,{mobileFilters:n})}):(0,o.jsx)(a,{children:(0,o.jsx)(Mn,{filters:n,headerFilters:t,resetFilters:c})})};var On=function(){var e=function(){var e=(0,l.useDispatch)(),t=(0,l.useSelector)(H.yP);return(0,f.dQ)(),{filtersCount:t,reset:(0,i.useCallback)((function(){e((0,pe.f6)())}),[e]),onClose:(0,f.QQ)()}}(),t=e.filtersCount,n=e.reset,r=e.onClose;return(0,o.jsx)(a,{children:(0,o.jsxs)("div",{className:"cFkoa",children:[(0,o.jsx)("div",{className:"Ts45f",children:(0,o.jsx)(we,{})}),(0,o.jsx)(V,{label:"Фильтры",hasCounter:t>0,resetFilter:n,hasIcon:!0,onClose:r,children:(0,o.jsx)(Ln,{})})]})})},Bn=n(98997),An=n(9321),Rn=n(51555),Pn=function(){var e,t;return(e=(0,l.useSelector)(s.eD),t=(0,l.useDispatch)(),(0,i.useEffect)((function(){t((0,Bn.h)()),t((0,An.D1)()),t((0,Rn._9)())}),[t]),{isMobile:e}).isMobile?(0,o.jsx)(On,{}):(0,o.jsx)(Ln,{})}},34539:(e,t,n)=>{"use strict";n.d(t,{L:()=>oe});var r=n(80797),i=n(91463),o=n.n(i),a=n(86354),l=n(65274),s=n.n(l),c=n(63565);s().oneOfType([s().func,s().shape({current:s().shape({})})]);var u=n(12714),d=n(80851),f=n(6241),p=n(11797),m=n(59215),h=n(10374),v=n(19649);var g=n(81432),b=n(50206);const y="OIlmP";var x=function(e){var t=e.isMobile,n=e.onClose,r=e.resetFilters,i=e.blockInSection;return t?(0,c.jsxs)("div",{className:"aXjV5",children:[(0,c.jsx)(g.Button,{wrapperClassName:y,onClick:r,text:"Очистить всё",intent:g.Intent.PrimaryOutline,"data-e2e-id":"multi-search-clear-search-button",fluid:!0}),(0,c.jsx)(g.Button,{wrapperClassName:y,onClick:n,"data-e2e-id":"multi-search-find-button",fluid:!0,text:"Сохранить"})]}):(0,c.jsxs)("div",{className:"KGNBv",children:[(0,c.jsx)(g.Button,{wrapperClassName:"HSluk",onClick:r,text:"Очистить всё",intent:g.Intent.PrimaryOutline,"data-e2e-id":"multi-search-clear-search-button"}),(0,c.jsx)(b.z,{fluid:!1,onButtonClick:n,dataTest:"show-result-button-multi-search",blockInSection:i})]})};x.defaultProps={blockInSection:""};var C,w={DISTRICTS:"DISTRICTS",ROADS:"ROADS",SUBWAY:"SUBWAY"},S=((C={})[w.DISTRICTS]={e2e:"district-modal",blockInSection:"searchParametrsBlockSearchFieldDistrict"},C[w.ROADS]={e2e:"road-modal",blockInSection:"searchParametrsBlockSearchFieldShosse"},C[w.SUBWAY]={e2e:"subway-modal",blockInSection:"searchParametrsBlockSearchFieldMetro"},C),_=n(36260),I=n(93757),k=n(95399),j=n(56257),N=n(65986),E=n(19936),M=n(80801);const T="dVXm1";var L,O=n(24572),B=n(98997),A=n(9321),R=n(51555),P=((L={})[w.DISTRICTS]={selectOptions:j.SY,selectIsLoading:j.$Z,selectIsError:j.tq,selectValues:O.RC,fetchFn:B.h,onChange:m.yB},L[w.ROADS]={selectOptions:N.bg,selectIsLoading:N.t0,selectIsError:N.V8,selectValues:O.L3,fetchFn:A.D1,onChange:m.Mw},L[w.SUBWAY]={selectOptions:E.Pt,selectIsLoading:E.d0,selectIsError:E.r6,selectValues:O.RC,fetchFn:R._9,onChange:m.yB},L),F=n(66867),D=n.n(F),V=n(10830),H=(s().shape({aid:s().number.isRequired,display_name:s().string,name:s().string.isRequired,children:s().arrayOf(s().shape({aid:s().number,display_name:s().string,name:s().string,children:s().arrayOf(s().shape({aid:s().number,display_name:s().string,name:s().string,children:s().arrayOf(s().shape({}))}))}))}),s().shape({aId:s().number.isRequired,id:s().number.isRequired,name:s().string.isRequired,value:s().number.isRequired}),s().shape({color:s().string.isRequired,iconText:s().string.isRequired,name:s().string.isRequired,type:s().string.isRequired,children:s().arrayOf(s().shape({aid:s().number.isRequired,color:s().string.isRequired,name:s().string.isRequired,value:s().number.isRequired}))}),n(75900)),U=n.n(H),z=n(30225);var q=function(e){var t=e.color,n=e.text;return t?(0,c.jsxs)("span",{className:"uE6ed",children:[(0,c.jsx)("i",{style:{backgroundColor:"#"+t},className:"zKERN"}),n]}):n};q.defaultProps={color:void 0};var Y=(0,a.memo)((function(e){var t,n=e.color,r=e.checked,i=e.dataTest,o=e.isBolded,a=e.onChange,l=e.label,s=e.value;return(0,c.jsx)("div",{className:U()("pxJ5i",(t={},t.CZV4B=o,t)),children:(0,c.jsx)(z.Checkbox,{size:z.CheckboxSize.Small,label:(0,c.jsx)(q,{color:n,text:l}),value:s,checked:r,onSelect:a,"data-e2e-id":i+"-checkbox"})})}));Y.propTypes={color:s().string,checked:s().bool.isRequired,dataTest:s().string.isRequired,isBolded:s().bool,onChange:s().func,label:s().string.isRequired,value:s().number.isRequired},Y.defaultProps={color:void 0,isBolded:!1,onChange:Function.prototype};var G=function(e){var t,n=e.color,r=e.iconText,i=e.text;return n?(0,c.jsxs)("div",{className:"khrnO",children:[(0,c.jsx)("span",{className:U()("s9ySm",(t={},t.GTcND=!r,t)),style:{backgroundColor:"#"+n},children:r}),i]}):i};G.defaultProps={color:void 0,iconText:void 0};var W=(0,a.memo)((function(e){var t=e.color,n=e.checked,r=e.dataTest,i=e.iconText,o=e.label,a=e.onChange,l=e.value;return(0,c.jsx)("div",{className:"Q3dhJ",children:l?(0,c.jsx)(z.Checkbox,{size:z.CheckboxSize.Small,label:(0,c.jsx)(G,{color:t,iconText:i,text:o}),value:l,checked:n,onSelect:a,"data-e2e-id":r+"-checkbox"}):(0,c.jsx)(G,{color:t,iconText:i,text:o})})}));W.propTypes={color:s().string,checked:s().bool.isRequired,dataTest:s().string.isRequired,iconText:s().string,label:s().string.isRequired,onChange:s().func,value:s().number},W.defaultProps={color:void 0,iconText:void 0,onChange:Function.prototype,value:void 0};var Z=function(e){var t,n,r,i=e.dataTest,o=e.parentOptions,a=e.options,l=e.values,s=e.isMobile,u=e.onChange,d=e.hasFilter,f=o||{},p=f.color,m=f.iconText,h=f.name,v=f.value,g=d||s;return(0,c.jsxs)(c.Fragment,{children:[h?(0,c.jsx)(W,{color:p,iconText:m,label:h,dataTest:i,value:v,checked:l.includes(v),onChange:u}):null,(0,c.jsx)("div",{style:g?null:{gridTemplateRows:"repeat("+(n=a.length,r=parseInt(n/3,10),(n%3>0?r+1:r)+", auto)")},className:U()((t={},t.Ib7ma=!g,t.x5t31=g,t)),children:a.map((function(e){var t=e.name,n=e.value,r=e.isParent,o=e.color;return(0,c.jsx)(Y,{color:o,checked:l.includes(n),dataTest:i,isBolded:r,onChange:u,label:t,value:n},n)}))})]})};Z.defaultProps={parentOptions:void 0};var K,X=((K={})[w.DISTRICTS]={e2e:"district",placeholder:"Введите название района",filterName:"aids",emptyOptionsText:"Такого района нет, укажите другой"},K[w.ROADS]={e2e:"roads",placeholder:"Введите название шоссе",filterName:"routing_ids",emptyOptionsText:"Такого шоссе нет, укажите другое"},K[w.SUBWAY]={e2e:"subway",placeholder:"Введите название станции",filterName:"aids",emptyOptionsText:"Такой станции нет, укажите другую"},K),Q=function(e){return void 0===e&&(e=""),e.toLowerCase().replace("ё","е")},J=["children"],$=function(e){var t=e.isMobile,n=e.options,r=e.values,i=function(e){var t=e.options,n=e.onChange,r=e.name,i=X[r],l=i.e2e,s=i.placeholder,c=i.filterName,u=i.emptyOptionsText,d=(0,a.useState)(),f=d[0],p=d[1],m=(0,a.useCallback)((function(e){var t=e.value,i=e.checked;n({name:c,value:t,checked:!i,type:r})}),[n,c,r]),h=(0,a.useMemo)((function(){return f?t.reduce((function(e,t){var n,r,i=Q(f),a=void 0===t.value?null:Q(t.name).includes(i),l=(null==(n=t.children)?void 0:n.filter((function(e){return Q(e.name).includes(i)})))||[];return a&&e.push(o()({},t,{children:[],isParent:Boolean(null==(r=t.children)?void 0:r.length)})),l.length&&e.push.apply(e,l),e}),[]):t}),[f,t]);return{e2e:l,placeholder:s,setFilterValue:p,handleSelectCheckbox:m,hasChildren:(0,a.useMemo)((function(){return h.some((function(e){var t;return null==e||null==(t=e.children)?void 0:t.length}))}),[h]),filteredOptions:h,emptyOptionsText:u,hasFilter:Boolean(null==f?void 0:f.length)}}({options:n,onChange:e.onChange,name:e.name}),l=i.setFilterValue,s=i.handleSelectCheckbox,u=i.hasChildren,d=i.filteredOptions,f=i.hasFilter,p=i.e2e,m=i.placeholder,h=i.emptyOptionsText,v=(null==n?void 0:n.length)&&!(null!=d&&d.length);return(0,c.jsxs)(c.Fragment,{children:[n.length?(0,c.jsx)(V.II,{"data-e2e-id":p+"-name-filter",fluid:!0,showClearIcon:!0,onValueChange:l,placeholder:m,autoComplete:V.F2.OFF}):null,v?(0,c.jsx)("div",{className:"Z8ak8",children:h}):null,(0,c.jsx)("div",{"data-e2e-id":"multi-search-"+p+"-list",className:"Tdp8I",children:u?d.map((function(e){var n=e.children,i=D()(e,J);return(0,c.jsx)("div",{className:"BX585",children:(0,c.jsx)(Z,{parentOptions:i,isMobile:t,options:n,values:r,onChange:s,hasFilter:f,dataTest:p})},i.value||i.name)})):(0,c.jsx)("div",{className:"yIyU7",children:(0,c.jsx)(Z,{isMobile:t,options:d,values:r,onChange:s,hasFilter:f,dataTest:p})})})]})},ee=n(5824),te=n.n(ee);var ne=function(e){var t=e.onAgainClick;return(0,c.jsxs)("div",{className:"ocAAT",children:[(0,c.jsx)("span",{className:"fmfgh",children:" Что-то пошло не так "}),(0,c.jsx)("span",{className:"C2CoA",children:" Проверьте подключение к интернету и попробуйте снова "}),(0,c.jsx)(g.Button,{intent:g.Intent.PrimaryOutline,onClick:t,text:"Обновить",icon:(0,c.jsx)(te(),{color:"#242629"})})]})},re=function(e){var t=e.name,n=function(e){var t=P[e],n=t.selectOptions,r=t.selectIsLoading,i=t.selectIsError,o=t.selectValues,l=t.fetchFn,s=t.onChange,c=(0,u.useDispatch)(),d=(0,u.useSelector)(h.eD),f=(0,u.useSelector)(n),p=(0,u.useSelector)(r),m=(0,u.useSelector)(i),v=(0,u.useSelector)(o);return{options:f,isLoading:p,isError:m,isMobile:d,callFetch:(0,a.useCallback)((function(){c(l())}),[c,l]),callChange:(0,a.useCallback)((function(e){c(s(e))}),[c,s]),values:v}}(t),r=n.options,i=n.isLoading,o=n.isError,l=n.isMobile,s=n.callFetch,d=n.callChange,f=n.values;return i?(0,c.jsx)("div",{className:T,children:(0,c.jsx)(M.Loader,{size:M.LoaderSize.ExtraLarge})}):o?(0,c.jsx)("div",{className:T,children:(0,c.jsx)(ne,{onAgainClick:s})}):(0,c.jsx)($,{name:t,isMobile:l,options:r,values:f,onChange:d})},ie=function(e){var t=e.name,n=function(e){var t=(0,k.g)(),n=t.isDistrictsAvailable,r=t.isRoadsAvailable,i=t.isSubwayAvailable,o=(0,u.useSelector)(j.Oj),l=(0,u.useSelector)(N.fQ),s=(0,u.useSelector)(E.JN),d=(0,u.useDispatch)(),f=(0,a.useCallback)((function(t){e!==t&&(d((0,p.Hi)({UIName:t,UIState:!0})),d((0,p.Hi)({UIName:e,UIState:!1})))}),[e,d]);return{tabs:(0,a.useMemo)((function(){return[{label:"Шоссе",value:w.ROADS,badge:l?(0,c.jsx)(I.Ct,{color:I.JV.Green,counter:!0,text:l,size:I.OD.Mini}):void 0,content:e===w.ROADS&&(0,c.jsx)(re,{name:w.ROADS}),isAvailable:r},{label:"Метро",value:w.SUBWAY,badge:s?(0,c.jsx)(I.Ct,{color:I.JV.Green,counter:!0,text:s,size:I.OD.Mini}):void 0,content:e===w.SUBWAY&&(0,c.jsx)(re,{name:w.SUBWAY}),isAvailable:i},{label:"Район",value:w.DISTRICTS,badge:o?(0,c.jsx)(I.Ct,{color:I.JV.Green,counter:!0,text:o,size:I.OD.Mini}):void 0,content:e===w.DISTRICTS&&(0,c.jsx)(re,{name:w.DISTRICTS}),isAvailable:n}].filter((function(e){return e.isAvailable}))}),[o,l,s,e,n,r,i]),onChange:f}}(t),r=n.tabs,i=n.onChange;return(0,c.jsx)(_.m,{"data-e2e-id":"multi-tabs",tabs:r,value:t,onValueChange:i})},oe=function(e,t){void 0===t&&(t="innerRef");var n=(0,a.forwardRef)((function(n,r){var i,l=((i={})[t]=r||n[t]||(0,a.createRef)(),i);return(0,c.jsx)(e,o()({},n,l))}));return n.displayName=function(e,t){var n=e.displayName||e.name||"Component";return t?t+"("+n+")":n}(e,"withRefHOC"),n}((function(e){var t=function(e){var t=e.innerRef,n=(0,u.useDispatch)(),r=(0,u.useSelector)(f.q),i=S[r]||{},o=i.e2e,l=i.blockInSection,s=(0,u.useSelector)(h.eD),g=(0,u.useSelector)(v.YP),b=(0,a.useCallback)((function(){n((0,p.Hi)({UIName:r,UIState:!1}))}),[n,r]),y=(0,a.useCallback)((function(){n((0,m.Ur)()),n((0,m.A6)())}),[n]),C=(0,a.useMemo)((function(){return s?(0,c.jsx)("div",{className:"Fmb2s",children:(0,c.jsx)("button",{type:"button",className:"n8YDp",onClick:b,"aria-label":"Назад","data-e2e-id":"multi-modal-mobile-back-button",children:(0,c.jsx)(d.Ec,{className:"ddQnq"})})}):null}),[s,b]),w=!s&&g,_=(0,a.useMemo)((function(){return(0,c.jsx)(x,{isMobile:s,onClose:b,resetFilters:y,blockInSection:l})}),[l,s,y,b]);return(0,a.useEffect)((function(){t.current||(t.current={}),t.current.open=function(){return n((0,p.Hi)({UIName:r,UIState:!0}))}}),[]),{onCloseModal:b,isMobile:s,footer:_,title:w,e2e:o,header:C,name:r}}({innerRef:e.innerRef}),n=t.onCloseModal,i=t.isMobile,o=t.footer,l=t.e2e,s=t.title,g=t.header,b=t.name;return b?(0,c.jsx)(r.Modal,{header:g,open:Boolean(b),"data-e2e-id":l,onClose:n,title:s,size:r.ModalSize.Large,topOffset:40,height:"calc(100vh - 80px)",showCloseIcon:!i,footer:o,children:(0,c.jsx)("div",{className:"stUYc",children:(0,c.jsx)(ie,{name:b})})}):null}));oe.defaultProps={innerRef:{}}},95560:(e,t,n)=>{"use strict";n.d(t,{Q:()=>q});var r=n(81432),i=n(75900),o=n.n(i),a=n(80851),l=n(65100),s=n(62543),c=n(6240),u=n(3700),d=n(17957),f=n(49271),p=n(63565),m=function(){return(0,p.jsx)(c.Link,{theme:u.Q2.Dark,text:"Смотреть",href:(0,d.G)(f.ZP.MY_SEARCH)})},h=function(e){var t=e.errorCode,n=e.isDuplicated,r=Boolean(t),i=n?(0,p.jsx)(p.Fragment,{children:"Такой поиск уже был сохранён в разделе «Мои поиски»"}):(0,p.jsx)(p.Fragment,{children:"Не удалось сохранить поиск. Пожалуйста, повторите позже."}),o=!r||n;return(0,p.jsxs)("div",{children:[i,o?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("br",{}),(0,p.jsx)(m,{})]}):null]})};h.defaultProps={errorCode:null,isDuplicated:!1};var v=function(e){var t=e.errorCode,n=e.children,r=e.visible,i=1004===t;return(0,p.jsx)(l.Tooltip,{"data-test":"save-the-search-failure-message",text:(0,p.jsx)(h,{errorCode:t,isDuplicated:i}),open:r,size:l.TooltipSize.Wide,popperProps:{placement:s._h.Bottom,align:s.fp.Right},children:n})};v.defaultProps={errorCode:null};const g=v;var b,y="light",x="green",C=n(86354),w=n(12714),S=n(8885),_=n(44818),I=n(43841),k=n(35846),j=n(81866),N=n(76118),E=n(16234),M=n(12248),T=n(10374),L=n(271),O=n(35346),B=n(98138),A=n(91463),R=n.n(A),P=n(15387),F="#FFFFFF",D=((b={})[x]=F,b[y]="#A7A8A9",b.dark=F,b),V=null,H=function(e){var t=e.isInFilters,n=e.theme,i=(0,C.useState)(!1),o=i[0],a=i[1],l=(0,C.useState)(!1),s=l[0],c=l[1],u=(0,C.useState)(!1),d=u[0],f=u[1],p=(0,C.useState)(null),m=p[0],h=p[1],v=(0,w.useSelector)(O.CU),g=(0,S.T)(),b=(0,w.useSelector)(j.LO),A=(0,w.useSelector)(O.b_),F=(0,w.useSelector)(M.HU),H=(0,w.useSelector)(j.I3),U=(0,w.useSelector)(T.Y6),z=(0,w.useSelector)(E.pT),q=(0,w.useSelector)(T._p),Y=(0,w.useSelector)(P.It),G=(0,w.useSelector)(M.qd),W=(0,w.useDispatch)(),Z=function(e){return function(e){return e===x}(e)?r.Intent.Secondary:function(e){return e===y}(e)?r.Intent.PrimaryOutline:r.Intent.Primary}(n),K=U||n!==y?D[n]:"#242629",X=(0,C.useCallback)((function(){W((0,k.Ri)()),V&&(clearTimeout(V),V=null),a(!1),c(!1)}),[W]),Q=(0,C.useCallback)((function(){V&&clearTimeout(V),V=setTimeout((function(){return X()}),8e3)}),[X]),J=(0,C.useCallback)((function(){a(!0),c(!1),Q()}),[Q]),$=(0,C.useCallback)((function(){X()}),[X]);(0,C.useEffect)((function(){var e=!o&&s&&Boolean(b),n=o&&(!s&&!b||q&&!t);e&&J(),n&&$()}),[b,$,s,t,q,J,o]);var ee=(0,C.useCallback)((function(){f(!1)}),[]),te=(0,C.useCallback)((function(){v===_.s.idle&&W((0,L.In)()),W((0,k.cB)({query:F})).unwrap().then((function(e){h(e.searchId),f(!0)})).catch((function(){return null}))}),[F,W,v]),ne=(0,C.useCallback)((function(){var e="listing",n="searchResultBlock";t?n="searchParametrsBlockFiltersModal":z?e="mapPage":g?e="soldListing":Y&&(e="seoListing"),(0,B.j)(function(e){var t=e.eventSection,n=e.blockInSection,r=e.elementId,i=e.params;return{senseData:R()({event_section:t,block_in_section:n,event_element:"saveSearchButton"},i),elementId:r,elementType:"button",eventType:"click"}}({eventSection:e,blockInSection:n,elementId:"610c391a348f427cb47166ca4f547ba4",params:G})),function(){return e={event:"DOMCLICK_domclick.ru.search",action:"saved-search-primary-button-text_clicked"},window.dataLayer||(window.dataLayer=[]),void window.dataLayer.push(e);var e}()}),[t,z,Y,g,G]),re=(0,C.useCallback)((function(){A?(te(),c(!0)):((0,N.ar)((0,I.x)("savedSearchButton")),(0,N.yz)((function(){te(),c(!0)}))),ne()}),[A,te,c,ne]);return{isModalOpen:d,onCloseModal:ee,searchId:m,isUserAuth:A,isOnMap:z,searchQueryUrl:F,isLoading:H,errorCode:b,showTooltip:o,handleButtonClick:re,buttonIntent:Z,iconColor:K}},U=n(10025),z=function(e){var t=e.isOpen,n=e.onClose,r=e.searchId;return t?(0,p.jsx)(U.c,{searchId:r,onClose:n}):null};z.defaultProps={searchId:void 0};var q=function(e){var t,n=e.isInFilters,i=e.isModal,l=e.hideIcon,s=e.theme,c=e.showText,u=H({isInFilters:n,theme:s}),d=u.errorCode,f=u.isModalOpen,m=u.onCloseModal,h=u.searchId,v=u.buttonIntent,b=u.showTooltip,y=u.handleButtonClick,x=u.iconColor;return(0,p.jsxs)("div",{className:o()("NXlZJ",(t={},t.Z8rSN=i,t)),children:[(0,p.jsx)(g,{errorCode:d,visible:b,children:(0,p.jsx)(r.Button,{onClick:y,"data-e2e-id":"save-the-search",intent:v,text:c?"Сохранить поиск":void 0,icon:l?null:(0,p.jsx)(a.Qe,{width:"16",height:"16",className:"i0d2g",color:x})})}),(0,p.jsx)(z,{onClose:m,isOpen:f,searchId:h})]})};q.defaultProps={theme:y,isModal:!1,isInFilters:!1,hideIcon:!1,showText:!0}},10025:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(40156),i=(0,n(19049).i)((0,r.ZP)({resolved:{},chunkName:function(){return"SavedSearchModalUI"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(532),n.e(8167),n.e(5367),n.e(7866)]).then(n.bind(n,34143))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function(e){var t=this.resolve(e);return n(t)},resolve:function(){return 34143}},{resolveComponent:function(e){return e.SavedSearchModalUI}}))},50206:(e,t,n)=>{"use strict";n.d(t,{z:()=>d});var r=n(81432);var i=n(86354),o=n(12714),a=n(3731),l=n(12248),s=n(98138),c=n(85932),u=n(63565),d=function(e){var t=e.isOfferTypeModal,n=e.onButtonClick,d=e.fluid,f=e.dataTest,p=function(e){var t=e.isOfferTypeModal,n=e.onButtonClick,r=e.showResultButtonAnalyticsId,u=e.blockInSection,d=(0,o.useSelector)(l.I8),f=(0,o.useSelector)(l.o8),p=(0,o.useSelector)(l.Hr),m=(0,o.useSelector)(l.O7),h=(0,o.useSelector)(l.qd);return{isLoading:f,buttonText:(0,i.useMemo)((function(){return t?"Применить":"Показать "+(0,a.p2)({count:d,offerType:p,snippetsCount:m},["предложение","предложения","предложений"])}),[t,d,p,m]),onClick:(0,i.useCallback)((function(){n(),(0,s.j)((0,c.I5)({params:h,elementId:r,blockInSection:u}))}),[n,h,u,r])}}({isOfferTypeModal:t,onButtonClick:n,showResultButtonAnalyticsId:e.showResultButtonAnalyticsId,blockInSection:e.blockInSection}),m=p.isLoading,h=p.buttonText,v=p.onClick;return(0,u.jsx)(r.Button,{onClick:v,wrapperClassName:d?"DqYGq":"",fluid:d,loading:m,"data-e2e-id":f,text:h})};d.defaultProps={dataTest:"show-offers-filter-button",isOfferTypeModal:!1,fluid:!0}},77436:(e,t,n)=>{"use strict";n.d(t,{J:()=>r.J});var r=n(66449)},66449:(e,t,n)=>{"use strict";n.d(t,{b:()=>d,J:()=>f});var r,i=n(91463),o=n.n(i),a=n(59885),l=["lang","apikey","coordorder","load","mode"],s="_$_api_success",c="_$_api_error",u={lang:"ru_RU",apikey:(0,a.u)().YMAPS_API_KEY,onload:s,onerror:c},d=function(e){var t=o()({},u);return Object.keys(e).filter((function(e){return-1!==l.indexOf(e)})).forEach((function(n){t[n]=e[n]})),"https://api-maps.yandex.ru/2.1.79/?"+Object.keys(t).filter((function(e){return Boolean(t[e])})).map((function(e){return e+"="+t[e]})).join("&")},f=function(e){return void 0===e&&(e={}),r||(r=new Promise((function(t,n){var r;window[s]=function(e){e.ready((function(){window.ymaps=e,t(e),window[s]=null}))},window[c]=function(e){n(e),window[c]=null},r=d(e),new Promise((function(e,t){var n=document.createElement("script");n.onload=e,n.onerror=t,n.src=r;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}))})))}},43841:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var r=function(e){return{clientSource:{theme:"vitrina",team:"SEARCH",product:"search",additional:e}}}},8885:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(12714),i=n(12248),o=n(32808),a=function(){var e=(0,r.useSelector)(i.uH);return(0,o.$2)(e)}},30892:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7996),o=r(n(44059)),a=(0,i.iconFactory)({svgSource:o.default});t.default=a},73623:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7996),o=r(n(26617)),a=(0,i.iconFactory)({svgSource:o.default});t.default=a},58311:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7996),o=r(n(74757)),a=(0,i.iconFactory)({svgSource:o.default});t.default=a},44059:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M10.05 11.28v1.25H15v-1.25h-.96L10.76 3 8 7.84 5.24 3l-3.28 8.28H1v1.25h4.95v-1.25H5.2l.72-2.06L8 12.62l2.07-3.4.72 2.06h-.74z"/></svg>'},26617:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M5.28 13v-1.9H4.07v-.91h1.21V8.94H4.07V7.88h1.21V3h2.64c1.22 0 2.12.25 2.71.75.6.5.9 1.2.9 2.15s-.32 1.7-.97 2.24c-.64.53-1.59.8-2.84.8H6.54v1.25h2.31v.9h-2.3V13H5.27zm1.26-5.12h1c.85 0 1.5-.14 1.97-.42.48-.28.72-.79.72-1.52 0-.63-.2-1.1-.6-1.41-.38-.3-1-.46-1.83-.46H6.54v3.8z"/></svg>'},74757:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M10 6.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0zm-.38 4.53a5.5 5.5 0 1 1 1.41-1.41l2.92 2.92a1 1 0 0 1-1.41 1.41l-2.92-2.92z" clip-rule="evenodd"/></svg>'},10830:(e,t,n)=>{"use strict";n.d(t,{F2:()=>o,II:()=>w,$u:()=>r});var r,i,o,a,l,s=n(68448),c=n(3700),u=n(91463),d=n.n(u),f=n(63565),p=n(86354),m=n(85505),h=n(98182),v=n(38771),g=n.n(v),b=n(3744);(l=r||(r={})).Large="large",l.Medium="medium",function(e){e.Email="email",e.Number="number",e.Password="password",e.Search="search",e.Telephone="tel",e.Text="text",e.URL="url",e.Date="date"}(i||(i={})),function(e){e.OFF="off",e.ON="on",e.NAME="name",e.HONORIFIC_PREFIX="honorific-prefix",e.GIVEN_NAME="given-name",e.ADDITIONAL_NAME="additional-name",e.FAMILY_NAME="family-name",e.HONORIFIC_SUFFIX="honorific-suffix",e.NICKNAME="nickname",e.EMAIL="email",e.USERNAME="username",e.NEW_PASSWORD="new-password",e.CURRENT_PASSWORD="current-password",e.ORGANIZATION_TITLE="organization-title",e.ORGANIZATION="organization",e.STREET_ADDRESS="street-address",e.ADDRESS_LINE1="address-line1",e.ADDRESS_LINE2="address-line2",e.ADDRESS_LINE3="address-line3",e.ADDRESS_LEVEL4="address-level4",e.ADDRESS_LEVEL3="address-level3",e.ADDRESS_LEVEL2="address-level2",e.ADDRESS_LEVEL1="address-level1",e.COUNTRY="country",e.COUNTRY_NAME="country-name",e.POSTAL_CODE="postal-code",e.CC_NAME="cc-name",e.CC_GIVEN_NAME="cc-given-name",e.CC_ADDITIONAL_NAME="cc-additional-name",e.CC_FAMILY_NAME="cc-family-name",e.CC_NUMBER="cc-number",e.CC_EXP="cc-exp",e.CC_EXP_MONTH="cc-exp-month",e.CC_EXP_YEAR="cc-exp-year",e.CC_CSC="cc-csc",e.CC_TYPE="cc-type",e.TRANSACTION_CURRENCY="transaction-currency",e.TRANSACTION_AMOUNT="transaction-amount",e.LANGUAGE="language",e.BDAY="bday",e.BDAY_DAY="bday-day",e.BDAY_MONTH="bday-month",e.BDAY_YEAR="bday-year",e.SEX="sex",e.TEL="tel",e.TEL_COUNTRY_CODE="tel-country-code",e.TEL_NATIONAL="tel-national",e.TEL_AREA_CODE="tel-area-code",e.TEL_LOCAL="tel-local",e.TEL_EXTENSION="tel-extension",e.IMPP="impp",e.URL="url",e.PHOTO="photo"}(o||(o={})),function(e){e.NEW_PASSWORD="new-password",e.CURRENT_PASSWORD="current-password"}(a||(a={}));var y={root:"inpt-root-9-1-0",label:"inpt-label-9-1-0",leftSection:"inpt-leftSection-9-1-0",rightSection:"inpt-rightSection-9-1-0",input:"inpt-input-9-1-0",fluid:"inpt-fluid-9-1-0",hasLabel:"inpt-hasLabel-9-1-0",clearIcon:"inpt-clearIcon-9-1-0",hover:"inpt-hover-9-1-0",labelWithoutLabelId:"inpt-labelWithoutLabelId-9-1-0",focus:"inpt-focus-9-1-0",readOnly:"inpt-readOnly-9-1-0",notEditable:"inpt-notEditable-9-1-0",notEmpty:"inpt-notEmpty-9-1-0",inputContainer:"inpt-inputContainer-9-1-0",invalid:"inpt-invalid-9-1-0",valid:"inpt-valid-9-1-0",disabled:"inpt-disabled-9-1-0",webview:"inpt-webview-9-1-0",webviewInvalid:"inpt-webviewInvalid-9-1-0",webviewFocus:"inpt-webviewFocus-9-1-0",webviewDisabled:"inpt-webviewDisabled-9-1-0",webviewReadOnly:"inpt-webviewReadOnly-9-1-0",webviewNotEmpty:"inpt-webviewNotEmpty-9-1-0",webviewValid:"inpt-webviewValid-9-1-0",withLeftSection:"inpt-withLeftSection-9-1-0",withRightSection:"inpt-withRightSection-9-1-0",rightSectionWithAction:"inpt-rightSectionWithAction-9-1-0",medium:"inpt-medium-9-1-0",large:"inpt-large-9-1-0",clearIconWrapper:"inpt-clearIconWrapper-9-1-0",clearIconWithRS:"inpt-clearIconWithRS-9-1-0",required:"inpt-required-9-1-0"},x=function(e,t,n,i){var o,a=e.leftSection,l=e.rightSection,c=e.disabled,u=e.readOnly,d=e.validity,f=e.hover,p=e.className,h=e.fluid,v=e.size,g=void 0===v?r.Medium:v,b=e.rightSectionOnClick,x=e.webView,C=void 0===x?(0,s.isWebView)():x,w=e.__editable,S=void 0===w||w;return(0,m.Z)(y.root,((o={})[y[g]]=!C&&g,o[y.focus]=!c&&!u&&n,o[y.invalid]=d===s.Validity.invalid,o[y.valid]=d===s.Validity.valid,o[y.disabled]=c,o[y.readOnly]=u,o[y.notEditable]=!S,o[y.notEmpty]=Boolean(t),o[y.webview]=C,o[y.webviewDisabled]=C&&c,o[y.webviewReadOnly]=C&&u,o[y.webviewInvalid]=d===s.Validity.invalid&&C,o[y.webviewValid]=d===s.Validity.valid&&C,o[y.webviewNotEmpty]=Boolean(t)&&C,o[y.webviewFocus]=!c&&!u&&n&&C,o[y.withLeftSection]=a,o[y.withRightSection]=l,o[y.rightSectionWithAction]=!c&&l&&b,o[y.hover]=!c&&f,o[y.fluid]=h,o[y.hasLabel]=i,o),p)},C=function(e){var t;if(e===c._g.Numbers){var n="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase();t=n&&n.includes("safari")&&!n.includes("chrome")?"tel":"decimal"}else t=e;return t?{inputMode:t}:void 0},w=function(e){var t,n,i,o=e.label,a=e.type,l=e.step,c=e.min,u=e.max,v=e.minLength,w=e.maxLength,S=e.leftSection,_=e.rightSection,I=e.onPaste,k=e.onKeyDown,j=e.onKeyUp,N=e.wrapperClassName,E=e["aria-label"],M=e["aria-activedescendant"],T=e["data-e2e-id"],L=e.disabled,O=e.readOnly,B=e.keyboardLayout,A=e.onValueChange,R=e.onChange,P=e.onInput,F=e.onClearIconClick,D=e.value,V=e.focus,H=e.labelId,U=e.name,z=e.autoComplete,q=e.onFocus,Y=e.onBlur,G=e.analyticsId,W=e.defaultValue,Z=e.inputRef,K=e.placeholder,X=e.size,Q=void 0===X?r.Medium:X,J=e.showPlaceholderWithLabel,$=void 0!==J&&J,ee=e.forceDisableAutoComplete,te=void 0!==ee&&ee,ne=e.rightSectionOnClick,re=e.tabIndex,ie=void 0===re?0:re,oe=e.webView,ae=void 0===oe?(0,s.isWebView)():oe,le=e.autoFocus,se=void 0!==le&&le,ce=e.required,ue=void 0!==ce&&ce,de=e.__editable,fe=void 0===de||de,pe=e.showClearIcon,me=void 0!==pe&&pe,he=(0,p.useRef)(null),ve=Z||he,ge=(0,p.useState)(null!=(t=null!=W?W:D)?t:""),be=ge[0],ye=ge[1],xe=(0,p.useState)(),Ce=xe[0],we=xe[1],Se=(0,p.useMemo)((function(){var e=H||(U?"label-for-"+U:void 0);if(te&&(e||U)){var t=Math.random().toString(36).substring(2,7),n=(null!=e?e:U)+"-"+t;return{labelId:n,name:n,autoComplete:n}}return{labelId:e,name:U,autoComplete:z}}),[H,te,U,z]),_e=Se.labelId,Ie=Se.name,ke=Se.autoComplete,je=o&&(0,f.jsxs)(f.Fragment,{children:[o,ue&&(0,f.jsx)("span",{className:(0,m.Z)(y.required),children:" *"})]}),Ne=void 0!==D?D||"":be,Ee=void 0!==V?V:Ce,Me=L||O,Te=Boolean(o&&(Q===r.Large||ae)),Le=(0,p.useMemo)((function(){return Q===r.Large||ae?("string"!=typeof o||Q!==r.Large&&!ae||$||Ee)&&("string"==typeof o&&(Q===r.Large||ae)&&$&&Ee||void 0===o)?K:void 0:K}),[K,o,Q,Ee,$,ae]);(0,p.useEffect)((function(){L&&we(!1)}),[L]);var Oe=function(e,t){if(!e)return null;var n=Me||"right"!==t||"function"!=typeof ne?void 0:ne,r="function"==typeof e?e({value:Ne}):e;return void 0!==n?(0,f.jsx)("button",{type:"button",className:(0,m.Z)(y[t+"Section"]),onClick:ne,tabIndex:-1,"data-e2e-id":T?T+"__"+t+"-section":void 0,children:r}):(0,f.jsx)("div",{role:"presentation",className:(0,m.Z)(y[t+"Section"]),onClick:function(){var e;return!Me&&(null==ve||null==(e=ve.current)?void 0:e.focus())},"data-e2e-id":T?T+"__"+t+"-section":void 0,children:r})};return(0,f.jsx)(s.WrapperComponent,{wrapperClassName:N,children:(0,f.jsx)(b.__,{label:Q!==r.Medium||ae?void 0:je,labelId:_e,children:(0,f.jsxs)("div",{className:x(e,Ne,Ee,Te),"data-e2e-id":T,children:[Oe(S,"left"),(0,f.jsxs)("div",{className:(0,m.Z)(y.inputContainer),children:[(0,f.jsx)("input",d()({type:a,id:_e,name:Ie,ref:ve,className:(0,m.Z)(y.input),autoComplete:ke,autoFocus:se,step:l,min:c,max:u,minLength:v,maxLength:w,placeholder:Le,onFocus:function(e){"function"==typeof q&&q(e),we(!0),G&&(0,h.sendAnalytics)({element_type:"Input",element_id:G,event_type:"focus",event_sense:Ne?"filled":"empty"})},onBlur:function(e){"function"==typeof Y&&Y(e),we(!1),G&&(0,h.sendAnalytics)({element_type:"Input",element_id:G,event_type:"blur",event_sense:Ne?"filled":"empty"})},value:Ne,onChange:function(e){null==R||R(e),null==A||A(e.target.value),void 0===D&&ye(e.target.value)},onInput:P,onPaste:I,onKeyDown:k,onKeyUp:j,disabled:L,readOnly:O||!fe,tabIndex:Me?-1:ie,"aria-label":E,"aria-activedescendant":M},C(B))),Te&&(0,f.jsx)("label",{htmlFor:_e,className:(0,m.Z)(y.label,(n={},n[y.labelWithoutLabelId]=!_e,n)),children:je})]}),me&&(0,f.jsx)("div",{className:(0,m.Z)(y.clearIconWrapper,(i={},i[y.clearIconWithRS]=_,i)),children:(null==Ne?void 0:Ne.length)>0&&!Me&&(0,f.jsx)("div",{role:"presentation",className:(0,m.Z)(y.clearIcon),onClick:function(e){var t;e.stopPropagation(),e.preventDefault();var n=new Event("change",{bubbles:!0});null==(t=ve.current)||t.dispatchEvent(n),n.target.value="",null==R||R(n),null==A||A(""),ye(""),null==F||F(e)},"data-e2e-id":T?T+"-clear-icon":void 0,children:(0,f.jsx)(g(),{})})}),Oe(_,"right")]})})})}},24854:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ButtonSelectSize:()=>r,MultipleButtonSelect:()=>m});var r,i,o=n(63565),a=n(86354),l=n(85505),s=n(68448),c=n(3744),u=n(98182),d={root:"multipleButtonSelect-root-9-0-6",tableGrid:"multipleButtonSelect-tableGrid-9-0-6",item:"multipleButtonSelect-item-9-0-6",fluid:"multipleButtonSelect-fluid-9-0-6",small:"multipleButtonSelect-small-9-0-6",square:"multipleButtonSelect-square-9-0-6",medium:"multipleButtonSelect-medium-9-0-6",large:"multipleButtonSelect-large-9-0-6",equalCellWidth:"multipleButtonSelect-equalCellWidth-9-0-6","column-2":"multipleButtonSelect-column-2-9-0-6","column-3":"multipleButtonSelect-column-3-9-0-6","column-4":"multipleButtonSelect-column-4-9-0-6",disabled:"multipleButtonSelect-disabled-9-0-6",icon:"multipleButtonSelect-icon-9-0-6",active:"multipleButtonSelect-active-9-0-6",focus:"multipleButtonSelect-focus-9-0-6",text:"multipleButtonSelect-text-9-0-6",input:"multipleButtonSelect-input-9-0-6"},f=function(e,t){var n=(0,l.Z)(d.text);return(0,o.jsxs)(o.Fragment,{children:[Boolean(e)&&(0,o.jsx)("span",{className:d.icon,children:"function"==typeof e?e():e}),Boolean(t)&&(0,o.jsx)("span",{className:n,children:t})]})},p=(0,a.memo)((function(e){var t,n=e.active,r=e.disabled,i=e.name,s=e.index,c=e.onClick,u=e.onValueChange,p=e["data-e2e-id"],m=e.item,h=m||{},v=h.value,g=h.text,b=h.title,y=h.disabled,x=h.icon,C=g||b,w=r||y,S=x&&!C,_=(0,a.useState)(!1),I=_[0],k=_[1],j=(0,l.Z)(d.item,((t={})[d.active]=n,t[d.disabled]=w,t[d.focus]=!w&&I,t[d.square]=S,t)),N=(0,a.useCallback)((function(e){null==u||u(v,s,m),null==c||c(e)}),[c,s,v,u,m]),E=(0,a.useCallback)((function(e){e.target.className.includes("focus-visible")&&k(!0)}),[]),M=(0,a.useCallback)((function(){return k(!1)}),[]);return(0,o.jsx)("button",{"data-e2e-id":p,className:j,name:i,disabled:w,"aria-pressed":n,"data-disabled":w?"":void 0,onClick:N,onBlur:M,onFocus:E,type:"button",children:f(x,C)})}));(i=r||(r={})).Small="small",i.Medium="medium",i.Large="large";var m=(0,a.memo)((function(e){var t,n=e.items,i=e.value,f=e.defaultValue,m=e.name,h=e.onValueChange,v=e.onClick,g=e.onSelect,b=e.size,y=void 0===b?r.Medium:b,x=e.disabled,C=void 0!==x&&x,w=e.fluid,S=e.label,_=e.labelId,I=e["data-e2e-id"],k=e.equalCellWidth,j=e.column,N=e.tableGrid,E=e.wrapperClassName,M=e.analyticsId,T=(0,a.useState)(f||[]),L=T[0],O=T[1],B=void 0!==i?i:L,A=(0,a.useCallback)((function(e,t,n){if(!C){var r=[].concat(B),i=r.indexOf(e);-1!==i?r.splice(i,1):(r.push(e),M&&(0,u.sendAnalytics)({element_type:"MultipleButtonSelect",element_id:M,event_type:"select",event_sense:n.value})),O(r),null==h||h(r,e,t),null==g||g(n)}}),[C,B,M,h,g]),R=(0,l.Z)(d.root,d[y],((t={})[d.fluid]=w,t[d.tableGrid]=N,t[d.equalCellWidth]=k,t[d["column-"+j]]=j&&!N,t));return(0,o.jsx)(s.WrapperComponent,{wrapperClassName:E,children:(0,o.jsx)(c.__,{label:S,labelId:_,htmlElementType:c.ZQ.Div,children:(0,o.jsx)("div",{className:R,"data-e2e-id":I,children:n.map((function(e,t){var n=e.value,r=e["data-e2e-id"]||I&&I+"__"+n,i=null==B?void 0:B.includes(n);return(0,o.jsx)(p,{name:m,index:t,"data-e2e-id":r,disabled:C||e.disabled,active:i,onValueChange:A,onClick:v,item:e},n+"_"+t)}))})})})}));m.displayName="MultipleButtonSelect"},39169:(e,t,n)=>{"use strict";n.d(t,{k:()=>m});var r,i,o=n(63565),a=n(86354),l=n(85505),s=n(68448),c=n(3744),u=n(98182),d={root:"singleButtonSelect-root-7-0-10",readonly:"singleButtonSelect-readonly-7-0-10",item:"singleButtonSelect-item-7-0-10",active:"singleButtonSelect-active-7-0-10",text:"singleButtonSelect-text-7-0-10",fluid:"singleButtonSelect-fluid-7-0-10",disableEllipses:"singleButtonSelect-disableEllipses-7-0-10",small:"singleButtonSelect-small-7-0-10",square:"singleButtonSelect-square-7-0-10",medium:"singleButtonSelect-medium-7-0-10",large:"singleButtonSelect-large-7-0-10",equalCellWidth:"singleButtonSelect-equalCellWidth-7-0-10",icon:"singleButtonSelect-icon-7-0-10",disabled:"singleButtonSelect-disabled-7-0-10",focus:"singleButtonSelect-focus-7-0-10",input:"singleButtonSelect-input-7-0-10"},f=function(e,t){return(0,o.jsxs)(o.Fragment,{children:[Boolean(e)&&(0,o.jsx)("span",{className:d.icon,children:"function"==typeof e?e():e}),Boolean(t)&&(0,o.jsx)("span",{className:d.text,children:t})]})},p=function(e){var t,n=e.active,r=e.disabled,i=e.disableEllipses,s=e.readonly,c=e.inputName,u=e.index,p=e.onChange,m=e.onValueChange,h=e["data-e2e-id"],v=e.item,g=void 0===v?{}:v,b=g.value,y=void 0===b?"":b,x=g.text,C=g.title,w=g.disabled,S=g.icon,_=x||C,I=r||w,k=S&&!_,j=(0,a.useState)(!1),N=j[0],E=j[1],M=(0,l.Z)([d.item,(t={},t[d.active]=n,t[d.disabled]=I||s,t[d.focus]=!I&&N,t[d.disableEllipses]=i,t[d.square]=k,t)]);return(0,o.jsxs)("label",{className:M,"data-e2e-id":h,children:[(0,o.jsx)("input",{type:"radio",className:d.input,name:c,disabled:I,tabIndex:I||s?-1:0,onFocus:function(e){e.target.className.includes("focus-visible")&&E(!0)},onBlur:function(){return E(!1)},checked:n,value:y,onChange:I||s?void 0:function(e){null==m||m(y,u,g),null==p||p(e)},readOnly:s}),f(S,_)]})};(i=r||(r={})).Small="small",i.Medium="medium",i.Large="large";var m=(0,a.memo)((function(e){var t,n=e.items,i=e.value,f=e.defaultValue,m=e.inputName,h=e.onValueChange,v=e.onChange,g=e.onSelect,b=e.size,y=void 0===b?r.Medium:b,x=e.disabled,C=void 0!==x&&x,w=e.fluid,S=e.readonly,_=void 0!==S&&S,I=e["data-e2e-id"],k=e.wrapperClassName,j=e.label,N=e.labelId,E=e.equalCellWidth,M=e.analyticsId,T=(0,a.useState)(),L=T[0],O=T[1],B=void 0!==i?i:L||f,A=C||_?void 0:function(e,t,n){O(e),null==h||h(e,t),null==g||g(n),M&&(0,u.sendAnalytics)({element_type:"SingleButtonSelect",element_id:M,event_type:"select",event_sense:n.value})},R=(0,l.Z)(d.root,d[y],((t={})[d.fluid]=w,t[d.equalCellWidth]=E&&w,t[d.readonly]=_,t));return(0,o.jsx)(s.WrapperComponent,{wrapperClassName:k,children:(0,o.jsx)(c.__,{label:j,labelId:N,htmlElementType:c.ZQ.Div,children:(0,o.jsx)("div",{className:R,"data-e2e-id":I,children:n.map((function(e,t){var n=e.value,r=e["data-e2e-id"],i=e.disableEllipses,a=r||I&&I+"__"+n,l=!C&&B===e.value;return(0,o.jsx)(p,{inputName:m,index:t,"data-e2e-id":a,disabled:C||e.disabled,readonly:_,disableEllipses:i,active:l,onValueChange:A,onChange:v,item:e},n+"_"+t)}))})})})}));m.displayName="SingleButtonSelect"},64271:(e,t,n)=>{"use strict";n.d(t,{r:()=>f});var r=n(91463),i=n.n(r),o=n(66867),a=n.n(o),l=n(63565),s=n(86354),c=n(85505),u="switch-label-454-7-0-2",d=["checked","disabled","name","ariaLabel","data-e2e-id","tabIndex","className","onValueChange","onChange","labelId","inputRef","labelLeft","labelRight","valid","invalid","fluid"],f=function(e){var t,n=e.checked,r=e.disabled,o=e.name,f=e.ariaLabel,p=e["data-e2e-id"],m=e.tabIndex,h=e.className,v=e.onValueChange,g=e.onChange,b=e.labelId,y=e.inputRef,x=e.labelLeft,C=e.labelRight;e.valid,e.invalid;var w=e.fluid,S=a()(e,d),_=(0,s.useState)(!1),I=_[0],k=_[1],j=void 0===n?I:n,N=(0,c.Z)("switch-root-a0b-7-0-2",((t={})["switch-disabled-cc3-7-0-2"]=r,t["switch-checked-4f6-7-0-2"]=j,t["switch-fluid-b10-7-0-2"]=w,t),h);return(0,l.jsxs)("label",{className:N,children:[x&&(0,l.jsx)("div",{className:(0,c.Z)(u,"switch-left-876-7-0-2"),children:x}),(0,l.jsxs)("div",{className:"switch-block-5b7-7-0-2","data-e2e-id":p,children:[(0,l.jsx)("input",i()({},S,{className:"switch-input-f62-7-0-2",disabled:r,id:b,name:o,ref:y,onChange:function(e){r||(null==v||v(!j),g&&g(e),k(!j))},checked:j,"aria-checked":j,"aria-label":f,onKeyPress:function(e){e&&"Enter"===e.key&&e.target&&!r&&(null==v||v(!j),g&&g(e),k(!j))},tabIndex:r?-1:m,type:"checkbox"})),(0,l.jsx)("div",{className:"switch-container-948-7-0-2",children:(0,l.jsx)("div",{className:"switch-circle-7c1-7-0-2"})})]}),C&&(0,l.jsx)("div",{className:(0,c.Z)(u,"switch-right-d31-7-0-2"),children:C})]})}},78019:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(63565),i=n(86354),o=n(38771),a=n.n(o);const l=e=>{const{canHide:t,onClose:n}=e;return t?(0,r.jsx)("button",{type:"button",onClick:n,className:"styles_button__ZrMaH",children:(0,r.jsx)(a(),{color:"#fff"})}):null};class s extends i.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error(e,t)}render(){const{fallbackComponent:e,children:t}=this.props,{hasError:n}=this.state;return n?e:t}}const c=()=>{const{host:e}=window.location,t=e.split(".");return 3===t.length||4===t.length?t[0]:""},u=()=>{const{cookie:e}=document,t=e.indexOf("currentRegionGuid=");if(-1===t)return"";const n=t+18,r=n+36;return e.slice(n,r)},d=()=>Boolean(window.document.createElement);function f(){var e;(null===(e=window.Ya)||void 0===e?void 0:e.adfoxCode)&&window.Ya.adfoxCode.create||(window.adFoxError=!0,window.dispatchEvent(new Event("adFoxError")))}var p="styles_container__TSGy9";const m=e=>{const{canHide:t,onError:n,onRender:o,containerId:a,bannerParams:m,onCloseBanner:h,containerClassName:v="",needIntersection:g,children:b}=e,[y,x]=(0,i.useState)(!1),[C,w]=(0,i.useState)(!1),S=(0,i.useRef)(null),_=function(e){const[t,n]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{if(d()&&("IntersectionObserver"in window||n(!0),e.current&&!t)){const t=new IntersectionObserver(((e=[])=>{e[0]&&e[0].isIntersecting&&(n(!0),t.disconnect())}));return t.observe(e.current),()=>t.disconnect()}}),[e,t]),t}(S),I=()=>{w(!0),null==n||n(),d()&&window.removeEventListener("adFoxError",I)},k=()=>{try{((e,t,n,r)=>{const i=Object.assign(Object.assign({},t),{puid1:c(),puid4:u()});!function(t,n,r){t.adfoxAsyncParams||(t.adfoxAsyncParams=[]),t.adfoxAsyncParams.push({ownerId:340407,containerId:e,params:i,onError:n,onRender:r,onStub:n})}(window,n,r)})(a,m,I,o)}catch(e){console.error(e),I()}};return(0,i.useEffect)((()=>{d()&&setTimeout(f,4e3)})),(0,i.useEffect)((()=>{d()&&(window.adFoxError?I():(window.addEventListener("adFoxError",I),a&&Boolean(m)?g||k():(console.error("ContainerId and bannerParams params are required"),I())))}),[]),(0,i.useEffect)((()=>{d()&&g&&_&&k()}),[_]),y?null:C?b:(0,r.jsx)(s,{fallbackComponent:b,children:(0,r.jsx)("div",{"data-testid":"slot",ref:S,id:a,className:v?`${p} ${v}`:p,children:(0,r.jsx)(l,{canHide:t,onClose:()=>{null==h||h(),x(!0)}})})})}},29601:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ErrorMessage:()=>Ee,Loading:()=>Me,MultipleSelectSize:()=>Ue,SearchMultiSelect:()=>We});var r,i,o=n(63565),a=n(86354),l=n(53190),s=n.n(l),c=n(91463),u=n.n(c);function d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}!function e(t,n){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=d({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)i[a]&&(o+="; "+a,!0!==i[a]&&(o+="="+i[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var l=decodeURIComponent(o[0]);if(r[l]=t.read(a,l),e===l)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",d({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,d({},this.attributes,t))},withConverter:function(t){return e(d({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),new Map,!("undefined"==typeof window||!window.document||!window.document.createElement)&&window.addEventListener,(i=r||(r={})).ANDROID="android",i.IOS="ios","undefined"!=typeof window?a.useLayoutEffect:a.useEffect;var f,p,m,h="undefined"!=typeof navigator&&(null==(f=navigator.userAgent)?void 0:f.toLowerCase()),v=(h&&h.includes("safari")&&h.includes("chrome"),function(){return"undefined"==typeof window});!function(e){e.DESKTOP="desktop",e.TABLET_PORTRAIT="tablet-portrait",e.TABLET_LANDSCAPE="tablet-landscape",e.MOBILE="mobile"}(m||(m={}));var g,b,y,x,C=((p={})[m.TABLET_LANDSCAPE]=1024,p[m.TABLET_PORTRAIT]=768,p[m.MOBILE]=320,p[m.DESKTOP]=1280,p),w={isDesktop:m.DESKTOP,isTabletLandscape:m.TABLET_LANDSCAPE,isTabletPortrait:m.TABLET_PORTRAIT,isMobile:m.MOBILE},S=function(){if(v())return m.DESKTOP;if(window.hasOwnProperty("matchMedia")){var e,t,n,r;if(null!=(e=window)&&e.matchMedia("(max-width: "+(C[m.TABLET_PORTRAIT]-1)+"px)").matches)return m.MOBILE;if(null!=(t=window)&&t.matchMedia("(max-width: "+(C[m.TABLET_LANDSCAPE]-1)+"px)").matches)return m.TABLET_PORTRAIT;if(null!=(n=window)&&n.matchMedia("(max-width: "+(C[m.DESKTOP]-1)+"px)").matches)return m.TABLET_LANDSCAPE;if(null!=(r=window)&&r.matchMedia("(min-width: "+C[m.DESKTOP]+"px)").matches)return m.DESKTOP}return m.DESKTOP},_=(g=S(),b=Object.entries(w).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=function(){return r===g},e}),{}),u()({},b,{getActive:S}),function(e,t){var n=(null==t.composedPath?void 0:t.composedPath())||t.path;if(n)return!e.some((function(e){return!!e&&n.includes(e)}));var r=t.relatedTarget||t.target;return!r||!e.some((function(e){return null==e?void 0:e.contains(r)}))});y=function(e){this.keysEnum=void 0,this.keysEnum=e}.prototype,y.resolveMappableValue=function(e,t){return void 0===t&&(t="default"),this.isMappedValue(e)?void 0!==e[t]?e[t]:e.default:e},y.isMappedValue=function(e){if("object"!=typeof e||null===e)return!1;var t=["default"].concat(function(e){return Object.keys(e).map((function(t){return e[t]}))}(this.keysEnum));return Object.keys(e).every((function(e){return t.includes(e)}))},function(e){e.valid="valid",e.invalid="invalid"}(x||(x={}));var I=!1;if(!v()){var k={get passive(){I=!0}};window.addEventListener("testPassive",null,k),window.removeEventListener("testPassive",null,k)}var j=!v()&&Boolean(window.navigator)&&Boolean(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1);v()||(window.freezeCounter=window.freezeCounter||0);var N,E,M,T=!1,L=function(e){var t=e||window.event;return t.touches.length>1||(window.freezeCounter<=0?(B(),!0):(null==t.preventDefault||t.preventDefault(),!1))},O={passive:!1},B=function(){window.freezeCounter>0&&(window.freezeCounter-=1),window.freezeCounter<=0&&(j?(T&&(document.removeEventListener("touchmove",L,I?O:void 0),T=!1),function(){if(void 0!==window.previousBodyPosition){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=window.previousBodyPosition.position,document.body.style.top=window.previousBodyPosition.top,document.body.style.left=window.previousBodyPosition.left,document.body.style.width=window.previousBodyPosition.width,window.scrollTo(t,e),window.previousBodyPosition=void 0}void 0!==window.previousHtmlHeight&&(document.documentElement.style.height=window.previousHtmlHeight,window.previousHtmlHeight=void 0)}()):(void 0!==N&&(document.body.style.paddingRight=N,N=void 0),void 0!==window.previousBodyOverflowSetting&&(document.body.style.overflow=window.previousBodyOverflowSetting,window.previousBodyOverflowSetting=void 0)))};(function(e){void 0===e&&(e=!0),window.freezeCounter+=1,j?(T||(document.addEventListener("touchmove",L,I?O:void 0),T=!0),e&&function(){if(void 0===window.previousBodyPosition){window.previousBodyPosition={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,width:document.body.style.width};var e=window,t=e.scrollY,n=e.scrollX;document.body.style.position="fixed",document.body.style.top=-t+"px",document.body.style.left=-n+"px",document.body.style.width="100%"}void 0===window.previousHtmlHeight&&(document.documentElement.style.height="100vh",window.previousHtmlHeight=document.body.style.height)}()):function(){if(void 0===N){var e=window.innerWidth-document.documentElement.clientWidth;if(e>0){var t=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);N=document.body.style.paddingRight,document.body.style.paddingRight=t+e+"px"}}void 0===window.previousBodyOverflowSetting&&(window.previousBodyOverflowSetting=document.body.style.overflow,document.body.style.overflow="hidden")}()}).bind(void 0),B.bind(void 0),function(e){e.NoSizes='Provide numbers in "width" and "height".',e.GridHasNoBreakpoints='Please, use default grid, or provide in "__grid" object "landscape", "portrait" and "square" props with arrays of breakpoints.',e.GridHasNoLandscapeBreakpoints='Please, use default grid, or provide in "__grid" object "landscape" array of breakpoints.',e.GridHasNoPortraitBreakpoints='Please, use default grid, or provide in "__grid" object "portrait" array of breakpoints.'}(E||(E={})),function(e){e[e.Hint=1600]="Hint",e[e.Tooltip=1700]="Tooltip",e[e.Modal=1400]="Modal",e[e.Backdrop=1400]="Backdrop",e[e.Select=1600]="Select",e[e.Datepicker=1600]="Datepicker",e[e.SpeedDial=1100]="SpeedDial",e[e.Topline=1200]="Topline",e[e.Snackbar=1500]="Snackbar",e[e.BottomSheet=1300]="BottomSheet",e[e.Alert=1900]="Alert"}(M||(M={}));var A=function(e){var t=e.wrapperClassName,n=e.children;return t?(0,o.jsx)("div",{className:t,children:n}):(0,o.jsx)(o.Fragment,{children:n})};A.defaultProps={wrapperClassName:void 0},A.displayName="WrapperComponent";var R=n(3744),P=n(80797),F=n(38771),D=n.n(F),V=n(75900),H=n.n(V),U=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function z(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(i=t[n])||U(r)&&U(i)))return!1;var r,i;return!0}var q=n(56563),Y=n.n(q),G=n(16711),W=n.n(G),Z=n(30225),K=n(81432),X=n(80801),Q=n(56513),J=n.n(Q),$=n(7886),ee=n.n($),te=n(58311),ne=n.n(te);function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function oe(e,t){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oe(e,t)}function ae(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,oe(e,t)}function le(e,t){return e=[].concat(e).sort(),t=[].concat(t).sort(),e.length===t.length&&e.every((function(e,n){return t[n]===e}))}var se,ce=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).items=[],t.focusedItem=void 0,t}ae(t,e);var n=t.prototype;return n.setItems=function(e){e=Array.from(new Set(e)),le(this.items,e)||(this.items=[].concat(e),this.focusedItem&&!this.items.includes(this.focusedItem)&&this.blur())},n.getItems=function(){return[].concat(this.items)},n.focusFirstItem=function(){this.focusItemByIndex(0)},n.focusLastItem=function(){this.focusItemByIndex(this.items.length-1)},n.focusItemByIndex=function(e){if(e<0||e>this.items.length-1)throw new Error("Невозможно сфокусировать элемент с индексом «"+e+"». Индекс не существует.");this.focusedItem=this.items[e],this.emitFocusedItemChanged()},n.focusItem=function(e){var t=this.getIndexOfItem(e);if(void 0===t)throw new Error("Невозможно сфокусировать указанный элемент. Элемент не найден в списке");this.focusItemByIndex(t)},n.focusNext=function(){this.focusItemByOffset(1)},n.focusPrevious=function(){this.focusItemByOffset(-1)},n.isItemFocused=function(e){return e===this.focusedItem},n.getFocusedItem=function(){return this.focusedItem},n.blur=function(){this.focusedItem=void 0,this.emitFocusedItemChanged()},n.clear=function(){this.items=[],this.focusedItem&&this.blur()},n.unbindAll=function(){W()(this)},n.focusItemByOffset=function(e){var t=this.getFocusedItemIndex(),n=this.getItemIndexByOffset(e,t);this.focusItemByIndex(n)},n.getFocusedItemIndex=function(){return this.getIndexOfItem(this.focusedItem)},n.getIndexOfItem=function(e){var t=this.items.findIndex((function(t){return t===e}));return-1===t?void 0:t},n.getItemIndexByOffset=function(e,t){void 0===t&&(t=e>0?-1:this.items.length);var n=(t+e)%this.items.length;return n<0&&(n=this.items.length+n),n},n.emitFocusedItemChanged=function(){this.emit("focusedItemChanged",this.focusedItem)},t}(Y()),ue=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).items=[],t.multiple=!1,t.selectedItems=[],t.value=void 0,t}ae(t,e);var n=t.prototype;return n.setItems=function(e){var t=Array.from(new Set(e));le(this.items,t)||(this.items=[].concat(t),this.updateSelectedItems())},n.getItems=function(){return[].concat(this.items)},n.setValue=function(e){if(this.multiple){if(!Array.isArray(e))throw new Error("В множественном режиме выбора значение должно быть массивом");var t=Array.from(new Set(e));if(le(this.value,t))return;this.value=[].concat(t)}else{if(this.value===e)return;this.value=e}this.updateSelectedItems()},n.setMultiple=function(e){if(this.multiple!==e){if(this.multiple=e,e)void 0!==this.value?this.value=[this.value]:this.value=[];else{var t=this.value;this.value=t.length>0?t[0]:void 0}this.updateSelectedItems()}},n.isMultiple=function(){return this.multiple},n.getSelectedItems=function(){return[].concat(this.selectedItems)},n.isItemSelected=function(e){return this.selectedItems.includes(e)},n.unbindAll=function(){W()(this)},n.clear=function(){this.items=[],this.value=void 0,this.selectedItems=[],this.emitSelectedItemsUpdated()},n.handleItemSelection=function(e){var t,n=e.value;if(this.multiple){var r=[].concat(this.value);t=this.isItemSelected(e)?r.filter((function(e){return n!==e})):[].concat(r,[n])}else t=n;this.emit("valueChange",t)},n.updateSelectedItems=function(){var e=this.value,t=this.multiple?e:[e],n=this.items.filter((function(e){return t.includes(e.value)}));le(this.selectedItems,n)||(this.selectedItems=n,this.emitSelectedItemsUpdated())},n.emitSelectedItemsUpdated=function(){this.emit("selectedItemsUpdated",this.selectedItems)},t}(Y()),de="dc-listbox",fe=de+"__item",pe={"dc-listbox__item":"ms_ListboxItem-344f8-7-11-0","dc-listbox__item--single":"ms_ListboxItem-37489-7-11-0","dc-listbox__item--selected":"ms_ListboxItem-fd556-7-11-0","dc-listbox__item--keyboard-interaction":"ms_ListboxItem-76df9-7-11-0","dc-listbox__item--first-in-group":"ms_ListboxItem-e6003-7-11-0","dc-listbox__item__content":"ms_ListboxItem-3f340-7-11-0","dc-listbox__item--multiple":"ms_ListboxItem-019b8-7-11-0","dc-listbox__item__left-section":"ms_ListboxItem-cd476-7-11-0","dc-listbox__item__right-section":"ms_ListboxItem-024a1-7-11-0","dc-listbox__item--limit":"ms_ListboxItem-739eb-7-11-0","dc-listbox__item__title":"ms_ListboxItem-65134-7-11-0","dc-listbox__item--last-in-group":"ms_ListboxItem-6aef6-7-11-0","dc-listbox__item__checkbox":"ms_ListboxItem-8d9ac-7-11-0","dc-listbox__item--increased-padding":"ms_ListboxItem-ade50-7-11-0","dc-listbox--static-mode":"ms_ListboxItem-afc72-7-11-0"},me=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t.rootRef=(0,a.createRef)(),t.handleMouseEnter=function(){t.setState({hovered:!0})},t.handleMouseLeave=function(){t.setState({hovered:!1})},t.handleClick=function(){var e=t.props.onClick;null==e||e()},t}ae(t,e);var n=t.prototype;return n.componentDidUpdate=function(){this.updateFocus()},n.getAriaLabel=function(){var e=this.props,t=e.title,n=e.selected,r=e.groupTitle,i=t+". "+(n?"Выбрано.":"Не выбрано.");return r&&(i+=" "+r+"."),i},n.updateFocus=function(){var e=this.rootRef,t=this.props.focused,n=e.current;n&&document&&document.activeElement!==n&&t&&setTimeout((function(){return n.focus()}),0)},n.render=function(){var e,t=this.props,n=t.className,r=t.focused,i=t.keyboardInteraction,a=t.multiple,l=t.selected,s=t.__limitString,c=t.title,u=t.renderLeftSection,d=t.renderRightSection,f=t.children,p=t["data-e2e-id"],m=this.state.hovered,h=H()(pe[fe],n,((e={})[pe[fe+"--keyboard-interaction"]]=i,e[pe[fe+"--multiple"]]=a,e[pe[fe+"--selected"]]=l,e[pe[fe+"--single"]]=!a,e[pe[fe+"--limit"]]=s,e));return(0,o.jsxs)("div",{ref:this.rootRef,"aria-label":this.getAriaLabel(),"aria-selected":l,role:"option",className:h,tabIndex:-1,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-e2e-id":p,children:[a&&(0,o.jsx)(Z.Checkbox,{label:c,checked:l,className:pe[fe+"__checkbox"],hover:m,__limitString:s,focus:i&&r}),!a&&u&&(0,o.jsx)("div",{className:pe[fe+"__left-section"],children:u}),f&&(0,o.jsx)("div",{className:pe[fe+"__content"],children:f}),!f&&!a&&(0,o.jsx)("span",{className:pe[fe+"__title"],children:c}),d&&(0,o.jsx)("div",{className:pe[fe+"__right-section"],children:d})]})},t}(a.PureComponent);me.displayName="ListboxItemView",function(e){e.Focus="focused",e.Select="selected"}(se||(se={}));var he=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).scheduledUpdates={},t.state={focused:t.isFocused(),selected:t.isSelected()},t.handleClick=function(){var e=t.props,n=e.selectionManager,r=e.focusManager,i=e.item,o=e.onClick;n.handleItemSelection(i),r.focusItem(i),null==o||o()},t.renderFunction=function(e){var n=t.props.item;if("function"==typeof e)return e(n)},t}ae(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props,n=t.selectionManager,r=t.focusManager;n.on("selectedItemsUpdated",(function(){e.scheduleUpdate(se.Select)})),r.on("focusedItemChanged",(function(t){var n=e.props.item,r=e.state.focused,i=t===n;(!i&&r||i&&!r)&&e.scheduleUpdate(se.Focus)}))},n.componentWillUnmount=function(){var e=this;Object.values(se).forEach((function(t){e.cancelUpdate(t)}))},n.scheduleUpdate=function(e){var t=this;this.cancelUpdate(e),this.scheduledUpdates[e]=setTimeout((function(){var n=t.state,r=n.focused,i=n.selected;t.setState({focused:e===se.Focus?t.isFocused():r,selected:e===se.Select?t.isSelected():i})}),16)},n.cancelUpdate=function(e){clearTimeout(this.scheduledUpdates[e]),this.scheduledUpdates[e]=null},n.isSelected=function(){var e=this.props,t=e.selectionManager,n=e.item;return t.isItemSelected(n)},n.isFocused=function(){var e=this.props,t=e.focusManager,n=e.item;return t.isItemFocused(n)},n.render=function(){var e=this.props,t=e.className,n=e.group,r=e.item,i=e.keyboardInteraction,a=e.multiple,l=e.__limitString,s=e.renderItem,c=e.renderLeftItemSection,u=e.renderRightItemSection,d=e["data-e2e-id"],f=this.state,p=f.selected,m={className:t,focused:f.focused,groupTitle:n.title,keyboardInteraction:i,multiple:a,selected:p,__limitString:l,title:r.title,tooltip:r.tooltip,onClick:this.handleClick,renderLeftSection:this.renderFunction(c),renderRightSection:this.renderFunction(u),children:this.renderFunction(s),"data-e2e-id":d};return(0,o.jsx)(me,re({},m))},t}(a.PureComponent);he.displayName="ListboxItemContainer";var ve={"dc-listbox__group-title":"ms_ListboxGroup-5abda-7-11-0","dc-listbox__group-title--sticky":"ms_ListboxGroup-17aeb-7-11-0","dc-listbox__group-title-inner":"ms_ListboxGroup-42b71-7-11-0","dc-listbox__group-icon":"ms_ListboxGroup-a2de9-7-11-0","dc-embed-icon":"ms_ListboxGroup-e8b4d-7-11-0","dc-listbox--static-mode":"ms_ListboxGroup-64eb1-7-11-0"},ge=function(e){function t(){return e.apply(this,arguments)||this}ae(t,e);var n=t.prototype;return n.getTitle=function(){var e=this.props.group;return(0,o.jsxs)("div",{className:this.getTitleClassName(),title:e.title,children:[e.icon&&t.renderIconElement(e.icon),(0,o.jsx)("span",{className:ve[de+"__group-title-inner"],children:e.title})]})},n.getTitleClassName=function(){var e,t=this.props.stickyGroupName;return H()(ve[de+"__group-title"],((e={})[ve[de+"__group-title--sticky"]]=t,e))},t.renderIconElement=function(e){return(0,o.jsx)("span",{className:ve[de+"__group-icon"],children:e})},n.render=function(){var e,t=this.props,n=t.focusManager,r=t.group,i=t.keyboardInteraction,a=t.multiple,l=t.__limitString,s=t.onItemClick,c=t.selectionManager,u=t.renderItem,d=t.renderLeftItemSection,f=t.renderRightItemSection,p=t.itemClassName,m=t["data-e2e-id"],h=r.items.length-1;return(0,o.jsxs)(o.Fragment,{children:[r.title&&this.getTitle(),null==(e=r.items)?void 0:e.map((function(e,t){var v,g=H()(((v={})[ve[fe+"--first-in-group"]]=0===t,v[ve[fe+"--last-in-group"]]=h===t,v[ve[fe+"--increased-padding"]]=r.icon,v[ve[fe+"--has-left-section"]]=Boolean(d),v[ve[fe+"--has-right-section"]]=Boolean(f),v),p);return(0,o.jsx)(he,{className:g,focusManager:n,group:r,item:e,keyboardInteraction:i,multiple:a,__limitString:l,selectionManager:c,renderItem:u,renderLeftItemSection:d,renderRightItemSection:f,onClick:function(){return null==s?void 0:s(e)},"data-e2e-id":m},e.title+"-"+e.value)}))]})},t}(a.Component);ge.displayName="ListboxGroupComponent";var be=function(){};function ye(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function xe(e){return ye(e)?window.pageYOffset:e.scrollTop}function Ce(e){return Array.isArray(e.items)}var we={"dc-listbox":"ms_Listbox-e678d-7-11-0","dc-listbox__top-section":"ms_Listbox-9ed9a-7-11-0","dc-listbox__top-section--sticky":"ms_Listbox-5a888-7-11-0","dc-listbox--scroll":"ms_Listbox-28800-7-11-0","dc-listbox--inverted":"ms_Listbox-f0840-7-11-0","dc-listbox--static-mode":"ms_Listbox-7d3af-7-11-0",open:"ms_Listbox-3109c-7-11-0",closed:"ms_Listbox-4c272-7-11-0","dropdown-fade":"ms_Listbox-8e87f-7-11-0"},Se=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).selectionManager=new ue,t.focusManager=new ce,t.entitiesToGroupsMemoized=function(e,t){var n;void 0===t&&(t=z);var r,i=[],o=!1;return function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}}((function(e){return function(e){if(!Array.isArray(e))throw new Error("Список элементов для DropdownSelect должен быть представлен массивом");if(0===e.length)return[];var t=e[0];if(Ce(t)){var n=e;return function(e){e.forEach((function(e,t){if(!Ce(e))throw new Error("Элемент под индексом "+t+" в списке групп для DropdownSelect не является группой!")}))}(n),n}if(void 0!==t.value)return[{title:"",items:e}];throw new Error("Не удалось определить тип элементов переданных в DropdownSelect")}(e)})),t.rootRef=t.props.rootRef||(0,a.createRef)(),t.state={keyboardInteraction:!1,moreMinimalHeight:!1},t.checkListboxHeight=function(){t.rootRef.current&&(t.rootRef.current.clientHeight>240?t.setState({moreMinimalHeight:!0}):t.setState({moreMinimalHeight:!1}))},t.setupManagers=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),n=e.selectionManager,r=e.focusManager,i=t.props,o=i.items,a=i.multiple,l=i.value,s=t.entitiesToGroupsMemoized(o).flatMap((function(e){return e.items}));n.setMultiple(a),n.setItems(s),n.setValue(l),r.setItems(s)},t.handleValueChange=function(e){var n=t.props.onValueChange;t.isControlledComponent()||t.setState({value:e}),null==n||n(e)},t.handleKeyDown=function(e){var n=e.target;if(!(n instanceof HTMLDivElement&&n.getAttribute("contenteditable"))){switch(e.key){case"ArrowUp":t.focusManager.focusPrevious();break;case"ArrowDown":t.focusManager.focusNext();break;case"Escape":t.blur();break;case"Enter":case" ":t.selectFocusedItem();break;default:return}e.preventDefault(),t.setState({keyboardInteraction:!0})}},t.handleBlur=function(e){var n=t.rootRef.current;if(n){var r=e.relatedTarget;r&&n.contains(r)||t.focusManager.blur()}},t.handleClick=function(){t.setState({keyboardInteraction:!1})},t.propagateSelectedItems=function(){var e=t.props.onSelectedItemsChange,n=t.selectionManager.getSelectedItems();setTimeout((function(){return null==e?void 0:e(n)}),0)},t.handleItemClick=function(e){var n=t.props.onItemClick;null==n||n(e)},t.handleDocumentClick=function(e){var n=t.rootRef.current,r=t.props,i=r.closeMe,o=r.isOpen,a=r.parentRef;if(n){var l=e.target,s=n===l||n.contains(l),c=a.current,u=c&&(c===l||c.contains(l));s||u||!o||null==i||i()}},t.scrollWhenInBottom=function(e){var n=t.props.parentRef,r=0;if(e){var i=function(e){if(!e.current)return null;var t=getComputedStyle(e.current),n="absolute"===t.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===t.position)return i;for(var o=e.current;o=o.parentElement;)if(o.parentElement&&(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX)))return o;return i}(n);if(i){var o=window.innerHeight,a=e.getBoundingClientRect(),l=a.bottom,s=a.top,c=a.height,u=o-s,d=xe(i),f=getComputedStyle(e).marginBottom;null!=f&&(r=parseInt(f,10)),u>=c||function(e,t,n,r){void 0===n&&(n=200),void 0===r&&(r=be);var i=xe(e),o=t-i,a=0;!function t(){var l,s,c;c=o*((l=(l=a+=10)/n-1)*l*l+1)+i,ye(s=e)?window.scrollTo(0,c):s.scrollTop=c,a<n?window.requestAnimationFrame(t):r(e)}()}(i,l-o+d+r,160)}}},t}ae(t,e),t.getDerivedStateFromProps=function(e,t){return void 0!==e.value&&e.value!==t.value?{value:e.value}:null};var n=t.prototype;return n.componentDidMount=function(){this.selectionManager.on("valueChange",this.handleValueChange),this.selectionManager.on("selectedItemsUpdated",this.propagateSelectedItems),this.propagateSelectedItems(),document.addEventListener("click",this.handleDocumentClick),this.setupManagers()},n.componentDidUpdate=function(e){var t=this.props,n=t.isOpen,r=t.focusOnOpen,i=t.items;!e.isOpen&&n&&r&&i&&this.focus(),this.setupManagers(),setTimeout(this.checkListboxHeight,0)},n.componentWillUnmount=function(){this.selectionManager.unbindAll(),this.selectionManager.clear(),this.focusManager.unbindAll(),this.focusManager.clear(),document.removeEventListener("click",this.handleDocumentClick)},n.blur=function(){this.focusManager.blur(),document&&document.activeElement&&document.activeElement.blur()},n.selectFocusedItem=function(){var e=this.focusManager.getFocusedItem();e&&this.selectionManager.handleItemSelection(e)},n.isControlledComponent=function(){return void 0!==this.props.value},n.focus=function(){this.props.isOpen&&this.focusManager.focusFirstItem()},n.render=function(){var e,t,n=this,r=this.selectionManager,i=this.focusManager,a=this.props,l=a.items,s=a.multiple,c=a.maxHeight,u=a.className,d=a.isOpen,f=a.stickyGroupName,p=a.topSection,m=a.renderItem,h=a.renderLeftItemSection,v=a.renderRightItemSection,g=a.staticMode,b=a.__limitString,y=a.inverted,x=a.itemClassName,C=a.stickyTopSection,w=a["data-e2e-id"],S=this.state,_=S.keyboardInteraction,I=S.moreMinimalHeight;if(!l||0===l.length&&!p)return null;var k=this.entitiesToGroupsMemoized(l),j=H()(we[de],u,((e={})[we[de+"--keyboard-interaction"]]=_,e[we[de+"--scroll"]]=I,e[we[de+"--static-mode"]]=g,e[we[de+"--inverted"]]=y,e)),N=H()(j,d?we.open:we.closed);return(0,o.jsxs)("div",{ref:this.rootRef,className:N,style:{maxHeight:c},"aria-label":"Выбор значения из списка. Используйте стрелочки вверх и вниз, чтобы перемещаться между пунктами и кнопку Enter, чтобы сделать выбор.",role:"listbox",onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,"data-e2e-id":w,children:[p&&(0,o.jsx)("div",{className:H()(we[de+"__top-section"],(t={},t[we[de+"__top-section--sticky"]]=C,t)),children:p}),k.map((function(e){return(0,o.jsx)(ge,{focusManager:i,group:e,stickyGroupName:f,keyboardInteraction:_,multiple:s,selectionManager:r,onItemClick:n.handleItemClick,renderItem:m,itemClassName:x,__limitString:b,renderLeftItemSection:h,renderRightItemSection:v,"data-e2e-id":w+"-item"},e.title)}))]})},t}(a.PureComponent);Se.defaultProps={multiple:!1,stickyTopSection:!1},Se.displayName="Listbox";var _e=["isMobile","setVisibilityListbox","onErrorButtonClick","listboxProps","isError","isLoading","topSection","renderError","renderLoading"],Ie=s().bind({listbox:"ms_ListboxWrapper-bfe0a-7-11-0",section:"ms_ListboxWrapper-5f59e-7-11-0",close:"ms_ListboxWrapper-74ead-7-11-0"}),ke=function(e){var t=e.onClick,n=e.children;return(0,o.jsxs)("div",{className:Ie("section"),children:[(0,o.jsx)("div",{className:Ie("close"),onClick:t,"data-propagation-stop":!0,children:(0,o.jsx)(D(),{})}),n]})},je=(0,a.forwardRef)((function(e,t){var n=e.isMobile,r=e.setVisibilityListbox,i=e.onErrorButtonClick,a=e.listboxProps,l=e.isError,s=e.isLoading,c=e.topSection,u=e.renderError,d=e.renderLoading,f=ie(e,_e),p=re({},f,a,{topSection:null!=f&&f.selectedValues.length?c:null});return n&&(p.topSection=void 0),s&&d&&(p.items=[],p.topSection=(0,o.jsx)(ke,{onClick:function(){return r(!1)},children:d()})),l&&u&&(p.items=[],p.topSection=(0,o.jsx)(ke,{onClick:function(){return r(!1)},children:u(i)})),(0,o.jsx)("div",{ref:t,children:(0,o.jsx)(Se,re({},p))})})),Ne=s().bind({caption:"ms_ErrorMessage-016e7-7-11-0",text:"ms_ErrorMessage-ddc50-7-11-0",error:"ms_ErrorMessage-d6b12-7-11-0"}),Ee=function(e){return(0,o.jsxs)("div",{className:Ne("error"),children:[(0,o.jsx)("div",{className:Ne("caption"),children:"Что-то пошло не так"}),(0,o.jsx)("div",{className:Ne("text"),children:"Попробуйте ещё раз или вернитесь позже"}),(0,o.jsx)(K.Button,{text:"Попробовать еще раз",onClick:e})]})},Me=function(){return(0,o.jsx)(X.Loader,{size:X.LoaderSize.ExtraLarge})},Te=["onRemove","disabled","readOnly","visible","isMobile","searchMode","leftSection","e2e"],Le=s().bind({badge:"ms_Badge-72ca1-7-11-0",mobile:"ms_Badge-9eea3-7-11-0",text:"ms_Badge-35671-7-11-0",icon:"ms_Badge-800fb-7-11-0",disabled:"ms_Badge-23aea-7-11-0",hidden:"ms_Badge-7fdda-7-11-0",readonly:"ms_Badge-cf0bf-7-11-0","search-mode-mobile":"ms_Badge-e7838-7-11-0"}),Oe=function(e){var t=e.onRemove,n=e.disabled,r=e.readOnly,i=e.visible,l=e.isMobile,s=e.searchMode,c=e.leftSection,u=e.e2e,d=ie(e,Te),f=(0,a.useMemo)((function(){return Le("badge",{disabled:n,readonly:r,hidden:!i,mobile:l,"search-mode-mobile":s&&l})}),[n,r,i,l]);return(0,o.jsxs)("div",{className:f,"data-e2e-id":u,children:[null==c?void 0:c(d),(0,o.jsx)("span",{className:Le("text"),children:d.title}),(0,o.jsx)("span",{className:Le("icon"),onClick:n?void 0:function(){return t(d)},"data-propagation-stop":!0,"data-e2e-id":u&&u+"-clear",children:(0,o.jsx)(l?D():J(),{})})]})},Be=s().bind({input:"ms_Input-eb5b0-7-11-0"}),Ae=function(e){var t=e.label,n=e.className,r=e.onKeyDown,i=e.onInputChange,l=e.onFocus,s=e.inputRef,c=e.value,u=e.e2e,d=e.onBlur,f=(0,a.useCallback)((function(e){var t=e.key;"function"==typeof r&&("Enter"===t&&e.preventDefault(),r(t))}),[r]),p=(0,a.useCallback)((function(e){var t=(null==e?void 0:e.target).value;"\n"===t&&(t=""),null==i||i(t)}),[i]);return(0,o.jsx)("input",{className:Be("input",n),onFocus:l,onBlur:d,"aria-label":t,placeholder:t,onKeyDown:f,ref:s,value:c,disabled:!1,onChange:p,"data-e2e-id":u&&u+"-input"})},Re=s().bind({control:"ms_Control-92256-7-11-0","dc-multi-select":"ms_Control-02c3b-7-11-0",listbox:"ms_Control-ab50b-7-11-0","listbox-search":"ms_Control-16422-7-11-0","mobile-badges":"ms_Control-10fbb-7-11-0","modal-container":"ms_Control-d7b2c-7-11-0","clear-icon":"ms_Control-9539e-7-11-0","arrow-icon":"ms_Control-d2c57-7-11-0","clear-icon--shown":"ms_Control-63112-7-11-0","arrow-icon--open":"ms_Control-fdd82-7-11-0",disabled:"ms_Control-93b63-7-11-0","search-mode":"ms_Control-6be5e-7-11-0"}),Pe=function(e){var t=e.isOpen,n=e.disabled,r=e.notEmpty,i=e.showArrow,l=e.showClear,s=e.onClearValue,c=e.onToggleVisibleListbox,u=e.searchMode,d=e.e2e,f=(0,a.useMemo)((function(){return Re("control",{disabled:n,"search-mode":u})}),[n,u]),p=(0,a.useMemo)((function(){return Re("clear-icon",{"clear-icon--shown":r})}),[r]),m=(0,a.useMemo)((function(){return Re("arrow-icon",{"arrow-icon--open":t})}),[t]),h=(0,a.useCallback)((function(){return c(!t)}),[t]);return(0,o.jsxs)("div",{className:f,children:[l&&!n&&(0,o.jsx)("div",{className:p,onClick:s,"data-propagation-stop":!0,"data-e2e-id":d&&d+"-clear-all",children:(0,o.jsx)(D(),{})}),i&&(0,o.jsx)("div",{className:m,onClick:n?void 0:h,"data-propagation-stop":!0,children:(0,o.jsx)(ee(),{})})]})};Pe.defaultProps={showArrow:!0,showClear:!0};var Fe=s().bind({label:"ms_Label-582e4-7-11-0",medium:"ms_Label-ca39d-7-11-0",focus:"ms_Label-24ca4-7-11-0","not-empty":"ms_Label-cd2f2-7-11-0",large:"ms_Label-4ad02-7-11-0",disabled:"ms_Label-338fc-7-11-0",readonly:"ms_Label-b25b0-7-11-0","search-mode":"ms_Label-f1de1-7-11-0"}),De=function(e){var t=e.size,n=e.label,r=e.focus,i=e.notEmpty,l=e.disabled,s=e.readOnly,c=e.searchMode,u=(0,a.useMemo)((function(){return Fe("label",t,{focus:r,"not-empty":i,disabled:l,readonly:s,"search-mode":c})}),[t,r,i,l,s]);return(0,o.jsx)("div",{className:u,"data-label":n})},Ve=s().bind({counter:"ms_Counter-b4f5d-7-11-0",disabled:"ms_Counter-96445-7-11-0"}),He=(0,a.forwardRef)((function(e,t){var n=e.amount,r=e.disabled;e.searchMode;var i=e.counterPrefix,a=e.e2e;return(0,o.jsxs)("div",{ref:t,className:Ve("counter",{disabled:r}),"data-e2e-id":a,children:[i,n]})}));He.defaultProps={counterPrefix:"+"};var Ue,ze=function(e,t){var n,r;return e&&t?(void 0!==e.title?(n=e.title.length,r=t.title.length):(n=e.clientWidth,r=t.clientWidth),Number(n)-Number(r)):0},qe=s().bind({badges:"ms_Field-c869f-7-11-0",field:"ms_Field-40274-7-11-0","compact-mode":"ms_Field-01179-7-11-0",container:"ms_Field-c81a8-7-11-0","one-long-item":"ms_Field-564b0-7-11-0",focus:"ms_Field-ff91d-7-11-0",medium:"ms_Field-097c1-7-11-0","with-vertical-padding":"ms_Field-ddd9d-7-11-0",large:"ms_Field-1dbaa-7-11-0",additional:"ms_Field-44a9e-7-11-0",invalid:"ms_Field-166a1-7-11-0",valid:"ms_Field-33756-7-11-0",disabled:"ms_Field-47ab3-7-11-0",readonly:"ms_Field-431c8-7-11-0","only-input":"ms_Field-32c2e-7-11-0","search-icon":"ms_Field-b7091-7-11-0","search-icon-wrapper":"ms_Field-87f35-7-11-0","search-mode":"ms_Field-a040c-7-11-0","search-mode--focus":"ms_Field-1e63d-7-11-0",label:"ms_Field-27553-7-11-0",withoutBadges:"ms_Field-494cc-7-11-0","search-control":"ms_Field-2aca7-7-11-0","left-section":"ms_Field-a54d1-7-11-0","label-wrapper":"ms_Field-de556-7-11-0"}),Ye=function(e){var t=e.isOpen,n=e.additionalField,r=e.size,i=e.readOnly,l=e.notEmpty,s=e.compact,c=e.className,u=e.isDisabled,d=e.disabled,f=e.invalid,p=e.valid,m=e.onInputChange,h=e.onInputFocus,v=e.inputValue,g=e.onClearValue,b=e.onlyInput,y=e.counterProps,x=e.compareFunction,C=e.onToggleVisibleListbox,w=e.onKeyboardCodeHandler,S=e.onClick,_=e.onRemoveItem,I=e.inputRef,k=e.label,j=e.focus,N=e.showArrow,E=e.selectedItems,M=e.showClear,T=e.disableSort,L=e.isMobile,O=e.searchMode,B=e.hideInput,A=e.leftBadgeSection,R=e.e2e,P=e.renderButtons,F=e.isFocus,D=e.onFocus,V=e.onBlur,H=(0,a.useState)(!1),U=H[0],z=H[1],q=(0,a.useState)(1),Y=q[0],G=q[1],W=(0,a.useState)(!1),Z=W[0],K=W[1],X=(0,a.useRef)(null),Q=(0,a.useRef)(null),J=(0,a.useRef)(null),$=(0,a.useState)(!1),ee=$[0],te=$[1];(0,a.useEffect)((function(){ee||te(!0)}),[ee,te]);var ie=ee&&"undefined"!=typeof window&&void 0!==window.document?qe("badges",{withoutBadges:0===E.length}):"",oe=(0,a.useCallback)((function(e,t){return T||!x?0:x(e,t)}),[T,x]),ae=L||O,le=(0,a.useMemo)((function(){return qe("field",r,{disabled:d,readonly:i,"compact-mode":s,valid:!b&&p,invalid:!b&&f,"one-long-item":Z,"only-input":b,additional:n,"search-mode":O,"search-mode--focus":F&&!n,"with-vertical-padding":!ae},c)}),[t,d,i,l,s,p,f,Z,b,O,F]);(0,a.useEffect)((function(){if(!L&&s){var e=E.length,t=function(e){var t,n=e.badgesRef,r=e.rootRef,i=e.counterRef,o=e.compareItems,a=e.selectedItemsLength,l=null==n?void 0:n.current,s=null==r?void 0:r.current;if(l&&s){var c=s.clientWidth,u=0,d=0,f=Array.from(l.children),p=c-((null==i||null==(t=i.current)?void 0:t.clientWidth)||30)-1;if(1===f.length){var m=f[0],h=m.clientWidth>p;return m.style.display="flex",{isFill:h,oneLongItem:h,displayedBadges:1}}return f.sort(o).forEach((function(e){var t=e;t.style.display="flex",d+t.clientWidth+4<=p?(d+=t.clientWidth+4,u+=1):t.style.display="none"})),{isFill:u<a,oneLongItem:!1,displayedBadges:u}}}({badgesRef:X,rootRef:Q,counterRef:J,compareItems:oe,selectedItemsLength:e}),n=t.isFill,r=t.oneLongItem,i=t.displayedBadges;z(n),G(i),K(r)}}),[s,L,E]);var se=(0,a.useMemo)((function(){var e=null==y?void 0:y.counterPrefix;return L?e||"Выбрано ":e||"+"}),[L,y]),ce=null==y?void 0:y.showAllValue,ue=L||ce?E.length:E.length-Y,de=(0,a.useCallback)((function(){var e=null==y?void 0:y.show;return(void 0===e||e)&&ue>0?(0,o.jsx)(He,{searchMode:O,counterPrefix:se,amount:ue,disabled:u,ref:J,e2e:R&&R+"-counter"}):null}),[Y,E,u,J,y,L,ue]),fe=(0,a.useCallback)((function(){return b?null:L?E.sort(oe).map((function(e){return e.title})).join(","):l?E.sort(oe).map((function(e,t){var n=!(s&&U&&t>Y-1);return(0,o.jsx)(Oe,re({disabled:u,readOnly:i,title:e.title,value:e.value},e,{visible:n,onRemove:_,leftSection:A,e2e:R&&R+"-badge"}),e.title+String(t))})):null}),[L,b,E]),pe=(0,a.useMemo)((function(){var e={value:v,onInputChange:m,e2e:R,onFocus:D,onBlur:V};return(!u&&!s||b)&&(e.label=k,e.onFocus=!O&&h?h:D,e.onKeyDown=w),s&&!n||(e.inputRef=I),e}),[u,s,v,w,m,k,h,I,V,D]),me=(0,a.useMemo)((function(){return!B&&!s&&!u||s&&b}),[B,s,u,b]);return(0,o.jsxs)("div",{className:le,onClick:S,children:[(0,o.jsxs)("div",{className:qe("left-section"),children:[ae&&(0,o.jsx)(ne(),{color:"#53B375",colorHover:"#53B375",className:qe("search-icon"),wrapperClassName:qe("search-icon-wrapper")}),!s&&(0,o.jsx)("div",{className:qe("label-wrapper"),children:(0,o.jsx)(De,{size:r,label:k,focus:j,notEmpty:l,disabled:d,readOnly:i,searchMode:O})}),(0,o.jsxs)("div",{className:ie,ref:Q,children:[(0,o.jsxs)("div",{className:qe("container"),ref:X,children:[fe(),me&&(0,o.jsx)(Ae,re({},pe))]}),!(L&&n&&!O)&&(!(!O||!L)||(L||!n)&&s&&!O)&&de()]})]}),!L&&O&&(0,o.jsxs)("div",{className:qe("search-control"),children:[(0,o.jsx)(Pe,{isOpen:t,disabled:u,showArrow:N,showClear:M,notEmpty:l,searchMode:!0,onClearValue:g,onToggleVisibleListbox:C,e2e:R}),de(),P&&P()]}),!L&&!O&&(0,o.jsx)(Pe,{isOpen:t,disabled:u,showArrow:N,showClear:M,notEmpty:l,onClearValue:g,e2e:R,onToggleVisibleListbox:C}),L&&!O&&n&&(0,o.jsx)(Pe,{isOpen:t,disabled:u,showArrow:N,showClear:M,notEmpty:l,onClearValue:g,e2e:R,onToggleVisibleListbox:C})]})};Ye.defaultProps={showArrow:!0,showClearCross:!0,disableSort:!1,controlInside:!1},function(e){e.Medium="medium",e.Large="large"}(Ue||(Ue={}));var Ge=s().bind({"dc-multi-select":"ms_SearchMultiSelect-865d0-7-11-0",listbox:"ms_SearchMultiSelect-86965-7-11-0","listbox-search":"ms_SearchMultiSelect-43ac1-7-11-0","mobile-badges":"ms_SearchMultiSelect-f2f96-7-11-0","modal-container":"ms_SearchMultiSelect-a30e9-7-11-0"}),We=function(e){var t=e.items,n=e.value,r=e.isMobile,i=e.onInputChange,l=e.compact,s=e.disabled,c=e.onValueChange,u=e.readOnly,d=e.additionalField,f=e.size,p=e.label,m=e.placeholder,h=e.validity,v=e.counterProps,g=e.controlProps,b=e.sorting,y=e["data-e2e-id"],C=e.footerModalButtons,w=e.footerModalButtonsType,S=e.closeListboxAfterChoise,I=e.listboxProps,k=e.isError,j=e.isLoading,N=e.leftBadgeSection,E=e.maxSelectedItems,M=e.onMaxSelectedItems;e.onErrorButtonClick;var T=e.renderModalTopSection,L=e.renderModalBottomSection,O=e.fieldClassName,B=e.wrapperClassName,F=e.minSearchStringLength,D=e.inputValue,V=e.onCloseModal,H=e.onClearInputValue,U=e.renderButtons,z=(0,a.useState)(!1),q=z[0],Y=z[1],G=(0,a.useState)(!1),W=G[0],Z=G[1],X=(0,a.useState)(!1),Q=X[0],J=X[1],$=(0,a.useRef)(null),ee=(0,a.useRef)(null),te=(0,a.useRef)(null),ne=(0,a.useRef)(null),ie="undefined"!=typeof document,oe=(0,a.useMemo)((function(){return[].concat(n)}),[n]),ae=(0,a.useMemo)((function(){return t.map((function(e){return e.title?e.items:e})).flat()}),[t]),le=(0,a.useMemo)((function(){return n.map((function(e){return e.value}))}),[n]),se=(0,a.useMemo)((function(){return s||u}),[s,u]),ce=(0,a.useMemo)((function(){return Boolean(n.length||D)}),[n,D]),ue=(0,a.useCallback)((function(e){return c(e)}),[]);!function(e,t){var n=(0,a.useState)(!1),r=n[0],o=n[1];(0,a.useEffect)((function(){r&&(he(!0),i(D)),o(!0)}),t)}(0,[D]),(0,a.useEffect)((function(){if(ie)return de(),function(){fe()}}),[]),(0,a.useEffect)((function(){var e;r&&(W?(de(),null==ne||null==(e=ne.current)||e.focus(),he(!0)):fe())}),[r,W]);var de=function(){return document.addEventListener("click",me)},fe=function(){return document.removeEventListener("click",me)},pe=(0,a.useMemo)((function(){return r?ee:te}),[r,W]),me=(0,a.useCallback)((function(e){if(!s&&!u&&pe.current){var t=$.current.contains(e.target);if(!(e&&e.target&&e.target.hasAttribute("data-propagation-stop")))if(r||!t){var n=_([pe.current],e);he(!n)}else he(!1)}}),[s,u,pe]),he=(0,a.useCallback)((function(e){var t;Y(e),J(e),!r&&e&&(null==ne||null==(t=ne.current)||t.focus())}),[]),ve=(0,a.useState)(!1),ge=ve[0],be=ve[1],ye=(0,a.useCallback)((function(){var e;he(!0),null==ne||null==(e=ne.current)||e.focus(),be(!0)}),[]),xe=(0,a.useCallback)((function(){be(!1)}),[be]),Ce=(0,a.useCallback)((function(){be(!0)}),[be]),we=(0,a.useCallback)((function(){var e;Z(!0),r&&(setTimeout((function(){var e,t;null==ne||null==(e=ne.current)||e.focus(),null==ne||null==(t=ne.current)||t.setAttribute("data-e2e-id",y+"-input")}),0),he(!0),null==ne||null==(e=ne.current)||e.focus())}),[]),Se=(0,a.useCallback)((function(){Z(!1),null==V||V(),r&&(he(!1),setTimeout((function(){var e;return null==ne||null==(e=ne.current)?void 0:e.blur()}),0))}),[V]),_e=function(e){var t,n;(t=le.includes(e.value)?ke(e):Ie(e)).length>E?null==M||M():(ue(t),!r&&S&&(null==ne||null==(n=ne.current)||n.focus(),Y(!0)))},Ie=(0,a.useCallback)((function(e){return function(e,t){return[].concat(t,[e])}(e,oe)}),[oe]),ke=(0,a.useCallback)((function(e){return function(e,t){var n=e.value;return t.filter((function(e){return e.value!==n}))}(e,oe)}),[oe]),Ne=function(e){return _e(e)};(0,a.useCallback)((function(){var e=null==ne?void 0:ne.current;e&&setTimeout((function(){return e.click()}),0)}),[ne]);var Te=function(){var e;r||(J(!0),null==ne||null==(e=ne.current)||e.focus()),null==H||H()},Le=function(){var e;r||(J(!0),null==ne||null==(e=ne.current)||e.focus()),c([])},Be=function(){return 1===ae.length&&_e(ae[0])},Ae=(0,a.useCallback)((function(){return function(e,t,n,r,i){var o=e.length;0!==o&&(t||(r(!1),i(!1)),n(e[o-1]))}(oe,l,_e,Y,J)}),[oe,l]),Re=(0,a.useCallback)((function(e){return Y(!0),function(e,t,n,r,i,o,a){var l;"Enter"===e&&t(),"Backspace"!==e||n||i(),"Escape"===e&&(r(!1),o(!1)),"ArrowDown"===e&&(null==a||null==(l=a.current)||l.focus(),o(!1))}(e,Be,D,Y,Ae,J,$)}),[D,$,oe]),Pe=function(){var e={isOpen:q&&Boolean(oe.length||t.length||k||j)&&Boolean(D.length>F)||Boolean(q&&oe.length),className:Ge("listbox listbox-search",null==I?void 0:I.containerClassName),items:t,value:le,parentRef:te,multiple:!1,selectedValues:le,onItemClick:_e,topSection:d||l?Fe(!0):void 0,listboxProps:I,stickyTopSection:!0,showValues:Boolean(oe.length),isMobile:r,setVisibilityListbox:he,isError:k,isLoading:j,searchMode:!0,renderError:function(e){return Ee(e)},renderLoading:function(){return(0,o.jsx)(Me,{})},"data-e2e-id":y+"-list-box"};return(0,o.jsx)(je,re({ref:$},e))},Fe=function(e,t){var n=re({isOpen:q,selectedItems:oe,inputValue:D,compact:l,className:!e&&O,disabled:s,size:f,focus:Q,readOnly:u,counterProps:v,isDisabled:se,label:f===Ue.Medium?m:p,isMobile:r,notEmpty:ce,onToggleVisibleListbox:r?void 0:he,onClearValue:Te,onRemoveItem:Ne,onInputFocus:ye,onInputChange:i,onKeyboardCodeHandler:Re,compareFunction:ze,inputRef:ne,showArrow:!1,showClear:!0,leftBadgeSection:N,isFocus:ge,onFocus:Ce,onBlur:xe},g,b,{e2e:y});return e||(n.searchMode=!0,n.notEmpty=Boolean(D),n.onlyInput=!0),e?(n.size=Ue.Medium,n.showArrow=!1,n.compact=!1,n.hideInput=!0,n.additionalField=!0,n.onClearValue=Le):h===x.invalid?n.invalid=!0:h===x.valid&&(n.valid=!0),r&&(e?(n.onClick=ye,n.onClearValue=H):(n.onClick=we,n.onClearValue=void 0),n.counterProps={show:!0},n.onKeyboardCodeHandler=void 0,n.compact=!0,n.onToggleVisibleListbox=void 0,n.label=p||m,n.disableSort=!0),(0,o.jsx)(Ye,re({},n,t))},De=(0,a.useMemo)((function(){return"function"==typeof C?C(Se):function(e,t,n){return[(0,o.jsx)(K.Button,{text:"Подтвердить ("+e+")",onClick:t}),(0,o.jsx)(K.Button,{onClick:n,intent:K.Intent.PrimaryOutline,text:"Очистить все"})]}(oe.length,Se,Te)}),[C,Se,Te]);return(0,o.jsx)(A,{wrapperClassName:B,children:(0,o.jsx)(R.__,{label:f===Ue.Medium?p:void 0,children:(0,o.jsxs)("div",{className:Ge("dc-multi-select"),"data-e2e-id":y,ref:te,"aria-expanded":q?"true":"false",children:[Fe(!1,{onlyInput:!r,compact:!1,size:Ue.Large,notEmpty:r?oe.length:Boolean(D),renderButtons:U}),r?(0,o.jsxs)(P.Modal,{open:W,footerButtons:De,footerButtonsType:w,onClose:Se,"data-e2e-id":y+"-modal",children:[null==T?void 0:T(),(0,o.jsxs)("div",{className:Ge("modal-container"),ref:ee,children:[Fe(!0,{onlyInput:!0,size:Ue.Large,notEmpty:Boolean(D)}),Pe()]}),null==L?void 0:L(),(0,o.jsx)("div",{className:Ge("mobile-badges"),children:oe.map((function(e,t){return(0,o.jsx)(Oe,re({isMobile:!0,visible:!0},e,{leftSection:N,searchMode:!0,onRemove:Ne,e2e:y&&y+"-badge"}),""+e.value+t)}))})]}):Pe()]})})})};We.defaultProps={size:Ue.Medium,minSearchStringLength:0,compact:!1,disabled:!1,readOnly:!1,value:[],inputValue:"",additionalField:!1,isMobile:!1,closeListboxAfterChoise:!1,counterProps:{show:!0,showAllValue:!1},onInputChange:function(){}}},75272:(e,t,n)=>{(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{default:()=>pe});const i=n(84500);var o=t.n(i);const a=n(55415);var l=t.n(a);const s=n(5354);var c=t.n(s);const u=n(86354);var d=t.n(u);const f=n(71226);var p=t.n(f);const m=n(48159);var h=t.n(m);const v=n(29601);var g={metro:5,regions:5,cities:5,districts:5,addresses:5,complexes:5,roads:5,villages:5},b={cities:{title:"Город"},metro:{title:"Метро"},districts:{title:"Район"},addresses:{title:"Адрес"},complexes:{title:"Жилой комплекс"},roads:{title:"Шоссе"},villages:{title:"Коттеджный посёлок"}},y={cities:"Город",metro:"Метро",districts:"Район",addresses:"Адрес",complexes:"ЖК",roads:"Шоссе",villages:"Посёлок"},x="addresses",C=function(e){return e.category===x};const w=n(6240),S=n(78041);var _=t.n(S),I=function(e){void 0===e&&(e={});var t=e,n=t.cityName,r=t.onClick;return d().createElement("div",{className:"container_MdWL_","data-e2e-id":"multi-suggest-city-link"},d().createElement(w.Link,{icon:_(),onClick:r},n))};const k=n(81432);var j=function(e){var t=e.buttons;return t.length?d().createElement("div",{className:"container_WVX2s"},t.map((function(e){var t=e.text,n=e.dataAttr,r=e.onClick;return d().createElement(k.Button,{key:n,fluid:!0,intent:k.Intent.PrimaryOutline,text:t,onClick:r,"data-e2e-id":n,wrapperClassName:"buttonWrapper_A15tk"})}))):null};const N=n(75900);var E=t.n(N);const M=n(91463);var T=t.n(M);const L=n(96633);var O=t.n(L);const B=(R=T()({},{ADDRESSES:{path:"/api/v1/geo_objects/"},BFF:{path:"/api/geo_suggester/v1"},METRO:{path:"/api/v1/autocomplete/subways/"},CITIES:{path:"/api/v1/autocomplete/cities/"},REGIONS:{path:"/api/v1/autocomplete/regions/"},DISTRICTS:{path:"/api/districts/autocomplete/v1"},ROADS:{path:"/api/terminations/v1"},VILLAGES:{path:"/api/villages/v1"},COMPLEXES:{path:"/v2/offers/complexes/suggest/"}}),P={},Object.keys(R).forEach((function(e){var t=R[e];P[e]=(t.host||"")+t.path})),P),A=n(62979);var R,P,F,D=t.n(A),V=((F={})[D().QA]={geo:"https://geo-service.qa-dc.ru/research",suggest:"https://search-suggest.qa-dc.ru/",complex:"https://complex-api.qa-dc.ru/",bff:"https://bff-search-web.qa-dc.ru"},F[D().STAGE]={geo:"https://geo-service.stage-dc.ru/research",suggest:"https://search-suggest.stage-dc.ru",complex:"https://complex-api.stage-dc.ru/",bff:"https://bff-search-web.stage-dc.ru"},F[D().PROD]={geo:"https://geo-service.domclick.ru/research",suggest:"https://search-suggest.domclick.ru/",complex:"https://complex-api.domclick.ru/",bff:"https://bff-search-web.domclick.ru"},F);const H=n(30892);var U=t.n(H),z="#93989D",q={cities:{icon:d().createElement((function(){return d().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d().createElement("path",{d:"M4 4.49998C4 4.22384 4.22386 3.99998 4.5 3.99998H5.5C5.77614 3.99998 6 4.22384 6 4.49998V5.49998C6 5.77613 5.77614 5.99998 5.5 5.99998H4.5C4.22386 5.99998 4 5.77613 4 5.49998V4.49998Z",fill:"#A7A8A9"}),d().createElement("path",{d:"M7 4.48694C7 4.2108 7.22386 3.98694 7.5 3.98694H8.5C8.77614 3.98694 9 4.2108 9 4.48694V5.48694C9 5.76308 8.77614 5.98694 8.5 5.98694H7.5C7.22386 5.98694 7 5.76308 7 5.48694V4.48694Z",fill:"#A7A8A9"}),d().createElement("path",{d:"M2.5 15.0001H1.5C1.22386 15.0001 1 14.7763 1 14.5001V2.00012C1 1.44784 1.44772 1.00012 2 1.00012H11C11.5523 1.00012 12 1.44784 12 2.00012V5.49671C12 5.77413 11.7741 5.99851 11.4967 5.9967L10.4967 5.99018C10.2219 5.98839 10 5.76506 10 5.49019V3.30012C10 3.13444 9.86569 3.00012 9.7 3.00012H3.3C3.13431 3.00012 3 3.13444 3 3.30012V14.5001C3 14.7763 2.77614 15.0001 2.5 15.0001Z",fill:"#A7A8A9"}),d().createElement("path",{d:"M5.5 15H4.5C4.22386 15 4 14.7761 4 14.5V7.99998C4 7.4477 4.44772 6.99998 5 6.99998H14C14.5523 6.99998 15 7.4477 15 7.99998V14.4967C15 14.7741 14.7741 14.9985 14.4967 14.9967L13.4967 14.9902C13.2219 14.9884 13 14.7651 13 14.4902V9.29998C13 9.1343 12.8657 8.99998 12.7 8.99998H6.3C6.13431 8.99998 6 9.1343 6 9.29998V14.5C6 14.7761 5.77614 15 5.5 15Z",fill:"#A7A8A9"}),d().createElement("path",{d:"M7 10.5C7 10.2238 7.22386 9.99998 7.5 9.99998H8.5C8.77614 9.99998 9 10.2238 9 10.5V11.5C9 11.7761 8.77614 12 8.5 12H7.5C7.22386 12 7 11.7761 7 11.5V10.5Z",fill:"#A7A8A9"}),d().createElement("path",{d:"M10 10.4869C10 10.2108 10.2239 9.98694 10.5 9.98694H11.5C11.7761 9.98694 12 10.2108 12 10.4869V11.4869C12 11.7631 11.7761 11.9869 11.5 11.9869H10.5C10.2239 11.9869 10 11.7631 10 11.4869V10.4869Z",fill:"#A7A8A9"}),d().createElement("path",{d:"M7 13.5001C7 13.224 7.22386 13.0001 7.5 13.0001H8.5C8.77614 13.0001 9 13.224 9 13.5001V14.5001C9 14.7763 8.77614 15.0001 8.5 15.0001H7.5C7.22386 15.0001 7 14.7763 7 14.5001V13.5001Z",fill:"#A7A8A9"}),d().createElement("path",{d:"M10 13.4871C10 13.2109 10.2239 12.9871 10.5 12.9871H11.5C11.7761 12.9871 12 13.2109 12 13.4871V14.4871C12 14.7632 11.7761 14.9871 11.5 14.9871H10.5C10.2239 14.9871 10 14.7632 10 14.4871V13.4871Z",fill:"#A7A8A9"}))}),null)},metro:{icon:d().createElement(U(),{color:z})},districts:{icon:d().createElement((function(){return d().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},d().createElement("g",{fill:"#93989D"},d().createElement("path",{d:"M12.5 4.13c0 2.62-3.03 6.3-4.12 7.7a.5.5 0 0 1-.76 0c-1.09-1.4-4.12-5.08-4.12-7.7C3.5 1.9 5.51 0 8 0s4.5 1.5 4.5 4.13zm-3 .37a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z"}),d().createElement("path",{d:"M3.5 8.9l.97 1.28c-1.65.45-2.72 1.16-2.72 1.82 0 1.072.76 2.25 6.25 2.25s6.25-1.18 6.25-2.25c0-.67-1.1-1.39-2.77-1.83l.91-1.3c2.02.64 3.36 1.75 3.36 3.13 0 2.25-3.51 3.75-7.75 3.75S.25 14.25.25 12c0-1.36 1.3-2.45 3.26-3.1z"})))}),null)},addresses:{icon:d().createElement(_(),{color:z})},complexes:{icon:d().createElement((function(){return d().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},d().createElement("path",{fill:"#A7A8A9",d:"M5 4.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1ZM5 7.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1ZM5 10.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1ZM9 4.487a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1ZM9 7.487a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1ZM9 10.487a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1Z"}),d().createElement("path",{fill:"#A7A8A9",d:"M3 1h10a1 1 0 0 1 1 1v12.5a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5V3.3a.3.3 0 0 0-.3-.3H4.3a.3.3 0 0 0-.3.3v11.2a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5V2a1 1 0 0 1 1-1Z"}))}),null)},roads:{icon:d().createElement((function(){return d().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.00024 1H5.80838C5.33684 1 4.92938 1.3294 4.83058 1.79047L2.25915 13.7905C2.12576 14.413 2.60031 15 3.23695 15H7.00024V12.5C7.00024 12.2239 7.2241 12 7.50024 12H8.50024C8.77639 12 9.00024 12.2239 9.00024 12.5V15H12.763C13.3996 15 13.8742 14.413 13.7408 13.7905L11.1694 1.79047C11.0706 1.3294 10.6631 1 10.1916 1H9.00024V3.5C9.00024 3.77614 8.77639 4 8.50024 4H7.50024C7.2241 4 7.00024 3.77614 7.00024 3.5V1ZM7.00024 6.5C7.00024 6.22386 7.2241 6 7.50024 6H8.50024C8.77639 6 9.00024 6.22386 9.00024 6.5V9.5C9.00024 9.77614 8.77639 10 8.50024 10H7.50024C7.2241 10 7.00024 9.77614 7.00024 9.5V6.5Z",fill:"#A7A8A9"}))}),null)},villages:{icon:d().createElement((function(){return d().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d().createElement("path",{d:"M1.27648 5.80251L7.67218 1.23416C7.86828 1.09408 8.13172 1.09408 8.32782 1.23416L14.7235 5.80251C14.897 5.92645 15 6.12654 15 6.33977C15 6.7044 14.7044 7 14.3398 7H14V14.5C14 14.7761 13.7761 15 13.5 15H10C9.72386 15 9.5 14.7761 9.5 14.5V10C9.5 9.72386 9.27614 9.5 9 9.5H7C6.72386 9.5 6.5 9.72386 6.5 10V14.5C6.5 14.7761 6.27614 15 6 15H2.5C2.22386 15 2 14.7761 2 14.5V7H1.66023C1.2956 7 1 6.7044 1 6.33977C1 6.12654 1.10297 5.92645 1.27648 5.80251Z",fill:"#A7A8A9"}))}),null)}},Y=function(e){var t={};return e.forEach((function(e){return t[e.value]=e})),Object.keys(t).map((function(e){return t[e]}))};function G(){G=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),l=new M(r||[]);return i(a,"_invoke",{value:k(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",v={};function g(){}function b(){}function y(){}var x={};c(x,a,(function(){return this}));var C=Object.getPrototypeOf,w=C&&C(C(T([])));w&&w!==n&&r.call(w,a)&&(x=w);var S=y.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,a,l){var s=d(e[i],e,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function k(t,n,r){var i=f;return function(o,a){if(i===m)throw new Error("Generator is already running");if(i===h){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var s=j(l,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?h:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=h,r.method="throw",r.arg=c.arg)}}}function j(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:b,configurable:!0}),b.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(I.prototype),c(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new I(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(S),c(S,s,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var W,Z,K={},X="complexes",Q="districts",J="roads",$="villages",ee=function(e){return"cities"===e},te=function(e){return e===Q},ne=function(e){return"region"===e.subkind?e:null},re=function(e){return"locality"===e.kind?e:null},ie=function(e){var t,n,r,i,o=e.queryObj,a=e.type,l=(i=e.apiModeEnv,V[i]||V.prod);return O()({method:"get",url:B[a.toUpperCase()],baseURL:(t=l,(n={})[X]=t.complex,n[Q]=t.suggest,n[J]=t.suggest,n[$]=t.suggest,n.bff=t.bff,n.default=t.geo,r=n,function(e){return r[e]||r.default})(a),params:o})},oe=(W=o()(G().mark((function e(t,n,r,i){var o,a,l,s,c;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.trim().toLowerCase().startsWith("россия")?t:"Россия "+t,l={bbox:r||"41.18599,19.484764|81.886117,191.128003",text:a,results:10},e.next=7,ie({queryObj:l,type:"bff",apiModeEnv:i});case 7:return s=e.sent,c=null==(o=s.data)?void 0:o.result.slice(0,n.addresses).map((function(e){return{title:e.replace("Россия, ",""),value:e,key:e.trim(),category:x}})),e.abrupt("return",{title:b[x].title,icon:q[x].icon,key:x+"List",items:c});case 12:return e.prev=12,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",Promise.resolve());case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e,t,n,r){return W.apply(this,arguments)}),ae=function(e,t,n){var r=[],i={};return n.forEach((function(n){if(!K[n.key]){i[n.key]=n;var o={display_name:n.value.trim(),exact:e},a=ie({queryObj:o,type:x,apiModeEnv:t}).then((function(e){return e.data.answer&&(e.data.answer.display_name=o.display_name),e}));r.push(a)}})),r.length?Promise.all(r).then((function(e){return e.map((function(e){return e.data.answer})).filter(Boolean)})).then((function(e){return e.forEach((function(e){var t,n,r,o,a,l,s,c=ne(e),u=re(e);null==(t=e.parents)||t.forEach((function(e){c=c||ne(e),u=u||re(e)})),i[e.display_name]=T()({},i[e.display_name],{guid:e.guid,aId:e.id,name:e.name,kind:e.kind,subkind:e.subkind,api_type:e.api_type,parents:[].concat(e.parents||[],e.districts||[]),display_name:e.display_name,region_guid:null==(n=c)?void 0:n.guid,region_name:null==(r=c)?void 0:r.name,locality_guid:(null==(o=u)?void 0:o.guid)||(null==(a=c)?void 0:a.guid),locality_name:(null==(l=u)?void 0:l.name)||(null==(s=c)?void 0:s.name)})})),Object.keys(i).forEach((function(e){return K[e]=T()({},i[e])})),K})):K},le=(Z=o()(G().mark((function e(t,n,r,i){var o,a;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(n,r,i);case 2:return o=e.sent,a=t.map((function(e){return C(e)?o[e.key]:e})),e.abrupt("return",Y(a));case 5:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return Z.apply(this,arguments)}),se=function(e){return new Promise((function(t){var n={data:{answer:{items:[]}}};e.then((function(e){return t(e)})).catch((function(){return t(n)})),setTimeout((function(){return t(n)}),5e3)}))},ce=function(e){var t=e.query,n=e.guid,r=e.types,i=e.limits,o=e.bbox,a=e.apiModeEnv,l=r.filter((function(e){return e!==x})).reduce((function(e,r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(e.concat.bind(e),function(e,t){return function(n){return n.then((function(n){var r=n.data.answer.items.slice(0,t[e]),i=r;!function(e){return e===X}(e)?function(e){return e===J}(e)?i=r.map((function(e){var t=e.name,n=e.region,r=e.id;return{id:r,routing_id:r,region_guid:n.guid,road_region_name:n.name,name:t,value:r}})):function(e){return e===$}(e)&&(i=r.map((function(e){var t=e.realty_id,n=e.address,r=e.name_trade,i=e.bbox;return{village_uuid:t,village_address:n.short_display_name,bbox:i,name:r,value:t}}))):i=r.map((function(e){var t=e.address,n=e.complex,r=e.id;return{aId:t.id,complex_address:t.short_display_name||t.display_name,complex_id:r,region_guid:t.region_guid,locality_guid:t.locality_guid,guid:t.guid,name:n.name,value:r}}));var o=function(e,t){if(te(e)){var n=!1,r={};t.forEach((function(e){r[e.name]?(n=!0,r[e.name]++):r[e.name]=1})),n&&t.forEach((function(e){r[e.name]>1&&(e.name=e.city_name?e.city_name+", "+e.name:""+e.name)}))}return t}(e,i).map((function(t){var n={title:t.name,value:t.value||t.id,key:t.guid,guid:t.guid,localityGuid:ee(e)?t.guid:t.locality_guid,aId:t.id,category:e,description:t.complex_address||t.road_region_name||t.village_address,complexId:t.complex_id,routingId:t.routing_id,villageUUID:t.village_uuid,parents:[].concat(t.parents||[],t.districts||[])};return t.line_color&&(n.color="#"+t.line_color),t.line_colors&&(n.lineColors=t.line_colors.map((function(e){return"#"+e}))),n}));return{title:b[e].title,icon:q[e].icon,key:e+"List",items:o}}))}}(r,i),se,ie)({queryObj:{name:t,region_guid:ee(r)?void 0:n},type:r,apiModeEnv:a})}),[]),s=r.indexOf(x);return-1!==s&&l.splice(s,0,oe(t,i,o,a)),Promise.all(l).then((function(e){var t;return(t=Array.prototype).concat.apply(t,e).filter((function(e){var t;return null==(t=e.items)?void 0:t.length}))}))},ue=function(e){var t,n=e.category,r=e.color,i=e.description,o=e.title,a=Boolean(r)&&function(e){return"metro"===e}(n),l=Boolean(i),s=te(n);return d().createElement("div",{className:E()("container_GhH6j",(t={},t.withDescriptionContainer_HaoL2=l,t))},a&&d().createElement("div",{className:"subwayLineContainer_wK_ik","data-e2e-id":"suggest-item-subway-line"},d().createElement("span",{style:{backgroundColor:r},className:"subwayLineColor_qY1nY"})),d().createElement("div",{className:"info_uvoNk","data-e2e-id":s?"suggest-item-district":void 0},d().createElement("span",{className:"title_i9AZo"},o),l&&d().createElement("span",{className:"address_qiJiy","data-e2e-id":"suggest-item-description"},i)))};ue.defaultProps={color:void 0,description:void 0};var de=function(e){var t=e.item,n=e.isMobile;if(null==t||!t.color||"metro"!==(null==t?void 0:t.category))return null;var r={backgroundColor:t.color};return n?d().createElement("span",{className:"subwayLineContainerMobile_nRaah"},d().createElement("span",{style:r,className:"subwayLineColorMobile_Z3DAq"})):d().createElement("span",{style:r,className:"subwayLineColor_Xc1xi"})};function fe(){fe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),l=new M(r||[]);return i(a,"_invoke",{value:k(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",v={};function g(){}function b(){}function y(){}var x={};c(x,a,(function(){return this}));var C=Object.getPrototypeOf,w=C&&C(C(T([])));w&&w!==n&&r.call(w,a)&&(x=w);var S=y.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,a,l){var s=d(e[i],e,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function k(t,n,r){var i=f;return function(o,a){if(i===m)throw new Error("Generator is already running");if(i===h){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var s=j(l,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?h:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=h,r.method="throw",r.arg=c.arg)}}}function j(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=y,i(S,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:b,configurable:!0}),b.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(I.prototype),c(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new I(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(S),c(S,s,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var pe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={items:[],inputText:"",isLoading:!1},t.onInputChange=function(e){if(t.setState({inputText:e}),!e||e.length<3)return t.setState({items:[]});t.setState({isLoading:!0}),t.setSuggestions(e)},t.setSuggestions=p()(function(){var e=o()(fe().mark((function e(n){var r,i,o,a,l,s,c,u;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,i=r.suggestTypes,o=r.regionGuid,a=r.apiModeEnv,l=r.onSearchError,s=r.onRequest,c=r.bbox,e.prev=1,s(),e.next=5,ce({query:n,types:i,guid:o,apiModeEnv:a,limits:g,bbox:c});case 5:u=e.sent,t.setState({items:u,isLoading:!1}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),t.setState({isLoading:!1}),console.warn(e.t0),l(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),500),t.onValueChange=function(){var e=o()(fe().mark((function e(n){var r,i,o,a,l,s;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,i=r.exact,o=r.apiModeEnv,a=r.onValueChangeCallback,t.onInputChange(),(l=n.filter(C)).length){e.next=6;break}return a(n),e.abrupt("return");case 6:return e.next=8,le(n,i,o,l);case 8:s=e.sent,a(s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onInputClear=function(){t.setState({inputText:""})},t.renderModalTopSection=function(){var e=t.props,n=e.cityName,r=e.onCityClick;return d().createElement(I,{cityName:n,onClick:r})},t.renderModalBottomSection=function(){return d().createElement(j,{buttons:t.buttonList})},t.renderFooterButtons=function(e){var n=t.props,r=n.additionalValue,i=n.buttonText,o=n.onClearCallBack,a=n.isLoading;return function(e){var t=e.text,n=e.disable,r=e.onClearCallBack,i=e.onClose,o=e.isLoading;return[d().createElement(k.Button,{intent:k.Intent.Primary,text:t,onClick:i,fluid:!0,loading:o,"data-e2e-id":"multi-suggest-show-result"}),d().createElement(k.Button,{intent:k.Intent.PrimaryOutline,text:"Очистить поиск",onClick:r,fluid:!0,disabled:n,"data-e2e-id":"multi-search-clear-search-button"})]}({disable:!r.length,text:i,onClearCallBack:o,onClose:e,isLoading:a})},t.renderLeftBadgeSection=function(e){var n=t.props.isMobile;return d().createElement(de,{item:e,isMobile:n})},t.renderItem=function(e){var n=t.props.highlightInputMask,r=t.state.inputText,i=e.category,o=e.color,a=e.description,l=e.title,s=l||"";if(n&&r){var c=function(e,t){void 0===e&&(e="");var n=e.toLowerCase().indexOf(t.toLowerCase());if(-1===n)return{prefix:e};var r=n+t.length;return{prefix:e.slice(0,n),selected:e.slice(n,r),postfix:e.slice(r)}}(l,r),u=c.postfix,f=c.prefix,p=c.selected;p&&(s=d().createElement(d().Fragment,null,f,d().createElement("strong",null,p),u))}return d().createElement(ue,{title:s,category:i,color:o,description:a})},t.renderInternalButton=function(){return t.buttonList.map((function(e){var t=e.text,n=e.dataAttr,r=e.onClick;return d().createElement("button",{key:n,className:"internalButton_GrWKE","data-e2e-id":n,onClick:r,type:"button"},t)}))},t}c()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.state.inputText,n=this.props.suggestTypes;!h()(e.suggestTypes,n)&&t&&t.length>=3&&this.setSuggestions(t)},n.render=function(){var e,t=this.props,n=t.size,r=t.e2e,i=t.onErrorButtonClick,o=t.additionalValue,a=t.isMobile,l=t.onBlur,s=t.onFocus,c=t.suggestTypes,u=this.state,f=u.items,p=u.inputText,m=u.isLoading;return d().createElement("div",{onFocus:s,onBlur:l},d().createElement(v.SearchMultiSelect,{"data-e2e-id":r,size:n,label:(e=c,e.reduce((function(e,t){var n=y[t];return n?e?e+", "+n.toLowerCase():n:e}),"")),value:o,items:f,compact:!0,closeListboxAfterChoise:!0,onInputChange:this.onInputChange,onErrorButtonClick:i,onValueChange:this.onValueChange,listboxProps:{containerClassName:a?"listMobile_tlmYO":"listDesktop_CGzXA",renderItem:this.renderItem},counterProps:{showAllValue:!0,counterPrefix:"Выбрано "},controlProps:{showClear:a},isMobile:a,renderButtons:this.renderInternalButton,renderModalTopSection:this.renderModalTopSection,renderModalBottomSection:this.renderModalBottomSection,leftBadgeSection:this.renderLeftBadgeSection,onClearInputValue:this.onInputClear,footerModalButtons:this.renderFooterButtons,fieldClassName:"withoutBorder_QL0it",inputValue:p,isLoading:m}))},l()(t,[{key:"buttonList",get:function(){var e=this.props,t=e.onMetroClick,n=e.onDistrictsClick,r=e.onRoadsClick,i=e.isMetroAvailable,o=e.isDistrictsAvailable;return[{text:"Шоссе",dataAttr:"multi-suggest-road-button",onClick:r,available:e.isRoadsAvailable},{text:"Метро",dataAttr:"multi-suggest-metro-button",onClick:t,available:i},{text:"Район",dataAttr:"multi-suggest-district-button",onClick:n,available:o}].filter((function(e){return e.available}))}}]),t}(u.PureComponent);pe.defaultProps={e2e:"multi-suggest",apiModeEnv:"prod",suggestTypes:["addresses","metro","districts"],regionGuid:"1d1463ae-c80f-4d19-9331-a1b68a85b553",exact:!1,size:v.MultipleSelectSize.Large,additionalValue:[],onClearCallBack:Function.prototype,onErrorButtonClick:Function.prototype,onSearchError:Function.prototype,onBlur:Function.prototype,onFocus:Function.prototype,onRequest:Function.prototype,isMobile:!0,buttonText:"",bbox:null,isLoading:!1,highlightInputMask:!0},e.exports=r})()},56563:e=>{(e.exports=function(){this.events={}}).prototype={emit:function(e){var t=[].slice.call(arguments,1);[].slice.call(this.events[e]||[]).filter((function(e){e.apply(null,t)}))},on:function(e,t){return(this.events[e]=this.events[e]||[]).push(t),function(){this.events[e]=this.events[e].filter((function(e){return e!==t}))}.bind(this)}}},16711:e=>{e.exports=function(e){e.events={}}}}]);